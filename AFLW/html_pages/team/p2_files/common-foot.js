/*
 * Swipe 2.0
 *
 * Brad Birdsall
 * Copyright 2013, MIT License
 *
*/
function Swipe(container,options){"use strict";function setup(){slides=element.children,length=slides.length,slides.length<2&&(options.continuous=!1),browser.transitions&&options.continuous&&slides.length<3&&(element.appendChild(slides[0].cloneNode(!0)),element.appendChild(element.children[1].cloneNode(!0)),slides=element.children),slidePos=new Array(slides.length),width=container.getBoundingClientRect().width||container.offsetWidth,element.style.width=slides.length*width+"px";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width=width+"px",slide.setAttribute("data-index",pos),browser.transitions&&(slide.style.left=pos*-width+"px",move(pos,index>pos?-width:pos>index?width:0,0))}options.continuous&&browser.transitions&&(move(circle(index-1),-width,0),move(circle(index+1),width,0)),browser.transitions||(element.style.left=index*-width+"px"),container.style.visibility="visible"}function prev(){options.continuous?slide(index-1):index&&slide(index-1)}function next(){options.continuous?slide(index+1):index<slides.length-1&&slide(index+1)}function circle(index){return(slides.length+index%slides.length)%slides.length}function slide(to,slideSpeed){if(index!=to){if(browser.transitions){var direction=Math.abs(index-to)/(index-to);if(options.continuous){var natural_direction=direction;direction=-slidePos[circle(to)]/width,direction!==natural_direction&&(to=-direction*slides.length+to)}for(var diff=Math.abs(index-to)-1;diff--;)move(circle((to>index?to:index)-diff-1),width*direction,0);to=circle(to),move(index,width*direction,slideSpeed||speed),move(to,0,slideSpeed||speed),options.continuous&&move(circle(to-direction),-(width*direction),0)}else to=circle(to),animate(index*-width,to*-width,slideSpeed||speed);index=to,offloadFn(options.callback&&options.callback(index,slides[index]))}}function move(index,dist,speed){translate(index,dist,speed),slidePos[index]=dist}function translate(index,dist,speed){var slide=slides[index],style=slide&&slide.style;style&&(style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration=speed+"ms",style.webkitTransform="translate("+dist+"px,0)translateZ(0)",style.msTransform=style.MozTransform=style.OTransform="translateX("+dist+"px)")}function animate(from,to,speed){if(!speed)return void(element.style.left=to+"px");var start=+new Date,timer=setInterval(function(){var timeElap=+new Date-start;return timeElap>speed?(element.style.left=to+"px",delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]),void clearInterval(timer)):void(element.style.left=(to-from)*(Math.floor(timeElap/speed*100)/100)+from+"px")},4)}function begin(){interval=setTimeout(next,delay)}function stop(){delay=0,clearTimeout(interval)}var noop=function(){},offloadFn=function(fn){setTimeout(fn||noop,0)},browser={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(temp){var props=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in props)if(void 0!==temp.style[props[i]])return!0;return!1}(document.createElement("swipe"))};if(container){var slides,slidePos,width,length,element=container.children[0];options=options||{};var index=parseInt(options.startSlide,10)||0,speed=options.speed||300;options.continuous=void 0!==options.continuous?options.continuous:!0;var interval,isScrolling,delay=options.auto||0,start={},delta={},events={handleEvent:function(event){switch(event.type){case"touchstart":this.start(event);break;case"touchmove":this.move(event);break;case"touchend":offloadFn(this.end(event));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":offloadFn(this.transitionEnd(event));break;case"resize":offloadFn(setup)}options.stopPropagation&&event.stopPropagation()},start:function(event){var touches=event.touches[0];start={x:touches.pageX,y:touches.pageY,time:+new Date},isScrolling=void 0,delta={},element.addEventListener("touchmove",this,!1),element.addEventListener("touchend",this,!1)},move:function(event){if(!(event.touches.length>1||event.scale&&1!==event.scale)){options.disableScroll&&event.preventDefault();var touches=event.touches[0];delta={x:touches.pageX-start.x,y:touches.pageY-start.y},"undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(delta.x)<Math.abs(delta.y))),isScrolling||(event.preventDefault(),stop(),options.continuous?(translate(circle(index-1),delta.x+slidePos[circle(index-1)],0),translate(index,delta.x+slidePos[index],0),translate(circle(index+1),delta.x+slidePos[circle(index+1)],0)):(delta.x=delta.x/(!index&&delta.x>0||index==slides.length-1&&delta.x<0?Math.abs(delta.x)/width+1:1),translate(index-1,delta.x+slidePos[index-1],0),translate(index,delta.x+slidePos[index],0),translate(index+1,delta.x+slidePos[index+1],0)))}},end:function(event){var duration=+new Date-start.time,isValidSlide=Number(duration)<250&&Math.abs(delta.x)>20||Math.abs(delta.x)>width/2,isPastBounds=!index&&delta.x>0||index==slides.length-1&&delta.x<0;options.continuous&&(isPastBounds=!1);var direction=delta.x<0;isScrolling||(isValidSlide&&!isPastBounds?(direction?(options.continuous?(move(circle(index-1),-width,0),move(circle(index+2),width,0)):move(index-1,-width,0),move(index,slidePos[index]-width,speed),move(circle(index+1),slidePos[circle(index+1)]-width,speed),index=circle(index+1)):(options.continuous?(move(circle(index+1),width,0),move(circle(index-2),-width,0)):move(index+1,width,0),move(index,slidePos[index]+width,speed),move(circle(index-1),slidePos[circle(index-1)]+width,speed),index=circle(index-1)),options.callback&&options.callback(index,slides[index])):options.continuous?(move(circle(index-1),-width,speed),move(index,0,speed),move(circle(index+1),width,speed)):(move(index-1,-width,speed),move(index,0,speed),move(index+1,width,speed))),element.removeEventListener("touchmove",events,!1),element.removeEventListener("touchend",events,!1)},transitionEnd:function(event){parseInt(event.target.getAttribute("data-index"),10)==index&&(delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]))}};return setup(),delay&&begin(),browser.addEventListener?(browser.touch&&element.addEventListener("touchstart",events,!1),browser.transitions&&(element.addEventListener("webkitTransitionEnd",events,!1),element.addEventListener("msTransitionEnd",events,!1),element.addEventListener("oTransitionEnd",events,!1),element.addEventListener("otransitionend",events,!1),element.addEventListener("transitionend",events,!1)),window.addEventListener("resize",events,!1)):window.onresize=function(){setup()},{setup:function(){setup()},slide:function(to,speed){stop(),slide(to,speed)},prev:function(){stop(),prev()},next:function(){stop(),next()},stop:function(){stop()},getPos:function(){return index},getNumSlides:function(){return length},kill:function(){stop(),element.style.width="",element.style.left="";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width="",slide.style.left="",browser.transitions&&translate(pos,0,0)}browser.addEventListener?(element.removeEventListener("touchstart",events,!1),element.removeEventListener("webkitTransitionEnd",events,!1),element.removeEventListener("msTransitionEnd",events,!1),element.removeEventListener("oTransitionEnd",events,!1),element.removeEventListener("otransitionend",events,!1),element.removeEventListener("transitionend",events,!1),window.removeEventListener("resize",events,!1)):window.onresize=null}}}}if(function(c,j){function k(a,b){var d=a.nodeName.toLowerCase();return"area"===d?(b=a.parentNode,d=b.name,a.href&&d&&"map"===b.nodeName.toLowerCase()?(a=c("img[usemap=#"+d+"]")[0],!!a&&l(a)):!1):(/input|select|textarea|button|object/.test(d)?!a.disabled:"a"==d?a.href||b:b)&&l(a)}function l(a){return!c(a).parents().andSelf().filter(function(){return"hidden"===c.curCSS(this,"visibility")||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{},c.ui.version||(c.extend(c.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(a,b){return"number"==typeof a?this.each(function(){var d=this;setTimeout(function(){c(d).focus(),b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b))return b;a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c.each(["Width","Height"],function(a,b){function d(f,g,m,n){return c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,!0))||0,m&&(g-=parseFloat(c.curCSS(f,"border"+this+"Width",!0))||0),n&&(g-=parseFloat(c.curCSS(f,"margin"+this,!0))||0)}),g}var e="Width"===b?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){return f===j?i["inner"+b].call(this):this.each(function(){c(this).css(h,d(this,f)+"px")})},c.fn["outer"+b]=function(f,g){return"number"!=typeof f?i["outer"+b].call(this,f):this.each(function(){c(this).css(h,d(this,f,!0,g)+"px")})}}),c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){return k(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(a){var b=c.attr(a,"tabindex"),d=isNaN(b);return(d||b>=0)&&k(a,!d)}}),c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),c.support.minHeight=100===b.offsetHeight,c.support.selectstart="onselectstart"in b,a.removeChild(b).style.display="none"}),c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([b,d[e]])},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(a,b){if("hidden"===c(a).css("overflow"))return!1;b=b&&"left"===b?"scrollLeft":"scrollTop";var d=!1;return a[b]>0?!0:(a[b]=1,d=a[b]>0,a[b]=0,d)},isOverAxis:function(a,b,d){return a>b&&b+d>a},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}}))}(jQuery),function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var d,c=0;null!=(d=a[c]);c++)try{b(d).triggerHandler("remove")}catch(e){}k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){return c||(!a||b.filter(a,[this]).length)&&b("*",this).add([this]).each(function(){try{b(this).triggerHandler("remove")}catch(d){}}),l.call(b(this),a,c)})}}b.widget=function(a,c,d){var f,e=a.split(".")[0];a=a.split(".")[1],f=e+"-"+a,d||(d=c,c=b.Widget),b.expr[":"][f]=function(h){return!!b.data(h,a)},b[e]=b[e]||{},b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)},c=new c,c.options=b.extend(!0,{},c.options),b[e][a].prototype=b.extend(!0,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d),b.widget.bridge(a,b[e][a])},b.widget.bridge=function(a,c){b.fn[a]=function(d){var e="string"==typeof d,f=Array.prototype.slice.call(arguments,1),h=this;return d=!e&&f.length?b.extend.apply(null,[!0,d].concat(f)):d,e&&"_"===d.charAt(0)?h:(e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;return i!==g&&i!==j?(h=i,!1):void 0}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))}),h)}},b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)},b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,c){b.data(c,this.widgetName,this),this.element=b(c),this.options=b.extend(!0,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a;if(0===arguments.length)return b.extend({},this.options);if("string"==typeof a){if(c===j)return this.options[a];d={},d[a]=c}return this._setOptions(d),this},_setOptions:function(a){var c=this;return b.each(a,function(d,e){c._setOption(d,e)}),this},_setOption:function(a,c){return this.options[a]=c,"disabled"===a&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,c,d){var e=this.options[a];if(c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),d=d||{},c.originalEvent){a=b.event.props.length;for(var f;a;)f=b.event.props[--a],c[f]=c.originalEvent[f]}return this.element.trigger(c,d),!(b.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(c){c.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var a=this,b=a.options;if(a.running=0,a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),a.headers=a.element.find(b.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){b.disabled||c(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){b.disabled||c(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){b.disabled||c(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){b.disabled||c(this).removeClass("ui-state-focus")}),a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),b.navigation){var d=a.element.find("a").filter(b.navigationFilter).eq(0);if(d.length){var h=d.closest(".ui-accordion-header");a.active=h.length?h:d.closest(".ui-accordion-content").prev()}}a.active=a._findActive(a.active||b.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),a.active.next().addClass("ui-accordion-content-active"),a._createIcons(),a.resize(),a.element.attr("role","tablist"),a.headers.attr("role","tab").bind("keydown.accordion",function(f){return a._keydown(f)}).next().attr("role","tabpanel"),a.headers.not(a.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),a.active.length?a.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0),c.browser.safari||a.headers.find("a").attr("tabIndex",-1),b.event&&a.headers.bind(b.event.split(" ").join(".accordion ")+".accordion",function(f){a._clickHandler.call(a,f,this),f.preventDefault()})},_createIcons:function(){var a=this.options;a.icons&&(c("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(a.autoHeight||a.fillHeight)&&b.css("height",""),c.Widget.prototype.destroy.call(this)},_setOption:function(a,b){c.Widget.prototype._setOption.apply(this,arguments),"active"==a&&this.activate(b),"icons"==a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"==a&&this.headers.add(this.headers.next())[b?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(a){if(!(this.options.disabled||a.altKey||a.ctrlKey)){var b=c.ui.keyCode,d=this.headers.length,h=this.headers.index(a.target),f=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:f=this.headers[(h+1)%d];break;case b.LEFT:case b.UP:f=this.headers[(h-1+d)%d];break;case b.SPACE:case b.ENTER:this._clickHandler({target:a.target},a.target),a.preventDefault()}return f?(c(a.target).attr("tabIndex",-1),c(f).attr("tabIndex",0),f.focus(),!1):!0}},resize:function(){var b,a=this.options;if(a.fillSpace){if(c.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height(),c.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){b-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else a.autoHeight&&(b=0,this.headers.next().each(function(){b=Math.max(b,c(this).height("").height())}).height(b));return this},activate:function(a){return this.options.active=a,a=this._findActive(a)[0],this._clickHandler({target:a},a),this},_findActive:function(a){return a?"number"==typeof a?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===!1?c([]):this.headers.filter(":eq(0)")},_clickHandler:function(a,b){var d=this.options;if(!d.disabled)if(a.target){if(a=c(a.currentTarget||b),b=a[0]===this.active[0],d.active=d.collapsible&&b?!1:this.headers.index(a),!(this.running||!d.collapsible&&b)){var h=this.active;j=a.next(),g=this.active.next(),e={options:d,newHeader:b&&d.collapsible?c([]):a,oldHeader:this.active,newContent:b&&d.collapsible?c([]):j,oldContent:g};var f=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=b?c([]):a,this._toggle(j,g,e,b,f),h.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),b||(a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),a.next().addClass("ui-accordion-content-active"))}}else if(d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var g=this.active.next(),e={options:d,newHeader:c([]),oldHeader:d.active,newContent:c([]),oldContent:g},j=this.active=c([]);this._toggle(j,g,e)}},_toggle:function(a,b,d,h,f){var g=this,e=g.options;g.toShow=a,g.toHide=b,g.data=d;var j=function(){return g?g._completed.apply(g,arguments):void 0};if(g._trigger("changestart",null,g.data),g.running=0===b.size()?a.size():b.size(),e.animated){d={},d=e.collapsible&&h?{toShow:c([]),toHide:b,complete:j,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:a,toHide:b,complete:j,down:f,autoHeight:e.autoHeight||e.fillSpace},e.proxied||(e.proxied=e.animated),e.proxiedDuration||(e.proxiedDuration=e.duration),e.animated=c.isFunction(e.proxied)?e.proxied(d):e.proxied,e.duration=c.isFunction(e.proxiedDuration)?e.proxiedDuration(d):e.proxiedDuration,h=c.ui.accordion.animations;var i=e.duration,k=e.animated;!k||h[k]||c.easing[k]||(k="slide"),h[k]||(h[k]=function(l){this.slide(l,{easing:k,duration:i||700})}),h[k](d)}else e.collapsible&&h?a.toggle():(b.hide(),a.show()),j(!0);b.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),a.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),c.extend(c.ui.accordion,{version:"1.8.16",animations:{slide:function(a,b){if(a=c.extend({easing:"swing",duration:300},a,b),a.toHide.size())if(a.toShow.size()){var e,d=a.toShow.css("overflow"),h=0,f={},g={};b=a.toShow,e=b[0].style.width,b.width(parseInt(b.parent().width(),10)-parseInt(b.css("paddingLeft"),10)-parseInt(b.css("paddingRight"),10)-(parseInt(b.css("borderLeftWidth"),10)||0)-(parseInt(b.css("borderRightWidth"),10)||0)),c.each(["height","paddingTop","paddingBottom"],function(j,i){g[i]="hide",j=(""+c.css(a.toShow[0],i)).match(/^([\d+-.]+)(.*)$/),f[i]={value:j[1],unit:j[2]||"px"}}),a.toShow.css({height:0,overflow:"hidden"}).show(),a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(g,{step:function(j,i){"height"==i.prop&&(h=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start)),a.toShow[0].style[i.prop]=h*f[i.prop].value+f[i.prop].unit},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height",""),a.toShow.css({width:e,overflow:d}),a.complete()}})}else a.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},a);else a.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},a)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(d,p){function u(){return++v}function w(){return++x}var v=0,x=0;d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(b,e){"selected"==b?this.options.collapsible&&e==this.options.selected||this.select(e):(this.options[b]=e,this._tabify())},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+u()},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+w());return d.cookie.apply(null,[b].concat(d.makeArray(arguments)))},_ui:function(b,e){return{tab:b,panel:e,index:this.anchors.index(b)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=d(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(b){function e(g,f){g.css("display",""),!d.support.opacity&&f.opacity&&g[0].style.removeAttribute("filter")}var a=this,c=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=d(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return d("a",this)[0]}),this.panels=d([]),this.anchors.each(function(g,f){var q,i=d(f).attr("href"),l=i.split("#")[0];l&&(l===location.toString().split("#")[0]||(q=d("base")[0])&&l===q.href)&&(i=f.hash,f.href=i),h.test(i)?a.panels=a.panels.add(a.element.find(a._sanitizeSelector(i))):i&&"#"!==i?(d.data(f,"href.tabs",i),d.data(f,"load.tabs",i.replace(/#.*$/,"")),i=a._tabId(f),f.href="#"+i,f=a.element.find("#"+i),f.length||(f=d(c.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list),f.data("destroy.tabs",!0)),a.panels=a.panels.add(f)):c.disabled.push(g)}),b?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),c.selected===p?(location.hash&&this.anchors.each(function(g,f){return f.hash==location.hash?(c.selected=g,!1):void 0}),"number"!=typeof c.selected&&c.cookie&&(c.selected=parseInt(a._cookie(),10)),"number"!=typeof c.selected&&this.lis.filter(".ui-tabs-selected").length&&(c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),c.selected=c.selected||(this.lis.length?0:-1)):null===c.selected&&(c.selected=-1),c.selected=c.selected>=0&&this.anchors[c.selected]||c.selected<0?c.selected:0,c.disabled=d.unique(c.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g)}))).sort(),-1!=d.inArray(c.selected,c.disabled)&&c.disabled.splice(d.inArray(c.selected,c.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),c.selected>=0&&this.anchors.length&&(a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active"),a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[c.selected],a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash))[0]))}),this.load(c.selected)),d(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs"),a.lis=a.anchors=a.panels=null})):c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[c.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),c.cookie&&this._cookie(c.selected,c.cookie),b=0;for(var j;j=this.lis[b];b++)d(j)[-1==d.inArray(b,c.disabled)||d(j).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(c.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==c.event){var k=function(g,f){f.is(":not(.ui-state-disabled)")&&f.addClass("ui-state-"+g)},n=function(g,f){f.removeClass("ui-state-"+g)};this.lis.bind("mouseover.tabs",function(){k("hover",d(this))}),this.lis.bind("mouseout.tabs",function(){n("hover",d(this))}),this.anchors.bind("focus.tabs",function(){k("focus",d(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){n("focus",d(this).closest("li"))})}var m,o;c.fx&&(d.isArray(c.fx)?(m=c.fx[0],o=c.fx[1]):m=o=c.fx);var r=o?function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active"),f.hide().removeClass("ui-tabs-hide").animate(o,o.duration||"normal",function(){e(f,o),a._trigger("show",null,a._ui(g,f[0]))})}:function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active"),f.removeClass("ui-tabs-hide"),a._trigger("show",null,a._ui(g,f[0]))},s=m?function(g,f){f.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active"),f.addClass("ui-tabs-hide"),e(f,m),a.element.dequeue("tabs")})}:function(g,f){a.lis.removeClass("ui-tabs-selected ui-state-active"),f.addClass("ui-tabs-hide"),a.element.dequeue("tabs")};this.anchors.bind(c.event+".tabs",function(){var g=this,f=d(g).closest("li"),i=a.panels.filter(":not(.ui-tabs-hide)"),l=a.element.find(a._sanitizeSelector(g.hash));if(f.hasClass("ui-tabs-selected")&&!c.collapsible||f.hasClass("ui-state-disabled")||f.hasClass("ui-state-processing")||a.panels.filter(":animated").length||a._trigger("select",null,a._ui(this,l[0]))===!1)return this.blur(),!1;if(c.selected=a.anchors.index(this),a.abort(),c.collapsible){if(f.hasClass("ui-tabs-selected"))return c.selected=-1,c.cookie&&a._cookie(c.selected,c.cookie),a.element.queue("tabs",function(){s(g,i)}).dequeue("tabs"),this.blur(),!1;if(!i.length)return c.cookie&&a._cookie(c.selected,c.cookie),a.element.queue("tabs",function(){r(g,l)}),a.load(a.anchors.index(this)),this.blur(),!1}if(c.cookie&&a._cookie(c.selected,c.cookie),!l.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";i.length&&a.element.queue("tabs",function(){s(g,i)}),a.element.queue("tabs",function(){r(g,l)}),a.load(a.anchors.index(this)),d.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$="+b+"]"))),b},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var e=d.data(this,"href.tabs");e&&(this.href=e);var a=d(this).unbind(".tabs");d.each(["href","load","cache"],function(c,h){a.removeData(h+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){d.data(this,"destroy.tabs")?d(this).remove():d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),b.cookie&&this._cookie(null,b.cookie),this},add:function(b,e,a){a===p&&(a=this.anchors.length);var c=this,h=this.options;e=d(h.tabTemplate.replace(/#\{href\}/g,b).replace(/#\{label\}/g,e)),b=b.indexOf("#")?this._tabId(d("a",e)[0]):b.replace("#",""),e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=c.element.find("#"+b);return j.length||(j=d(h.panelTemplate).attr("id",b).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),a>=this.lis.length?(e.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(e.insertBefore(this.lis[a]),j.insertBefore(this.panels[a])),h.disabled=d.map(h.disabled,function(k){return k>=a?++k:k}),this._tabify(),1==this.anchors.length&&(h.selected=0,e.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){c._trigger("show",null,c._ui(c.anchors[0],c.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[a],this.panels[a])),this},remove:function(b){b=this._getIndex(b);var e=this.options,a=this.lis.eq(b).remove(),c=this.panels.eq(b).remove();return a.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),e.disabled=d.map(d.grep(e.disabled,function(h){return h!=b}),function(h){return h>=b?--h:h}),this._tabify(),this._trigger("remove",null,this._ui(a.find("a")[0],c[0])),this},enable:function(b){b=this._getIndex(b);var e=this.options;return-1!=d.inArray(b,e.disabled)?(this.lis.eq(b).removeClass("ui-state-disabled"),e.disabled=d.grep(e.disabled,function(a){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this):void 0},disable:function(b){b=this._getIndex(b);var e=this.options;return b!=e.selected&&(this.lis.eq(b).addClass("ui-state-disabled"),e.disabled.push(b),e.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))),
this},select:function(b){if(b=this._getIndex(b),-1==b){if(!this.options.collapsible||-1==this.options.selected)return this;b=this.options.selected}return this.anchors.eq(b).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var e=this,a=this.options,c=this.anchors.eq(b)[0],h=d.data(c,"load.tabs");if(this.abort(),h&&(0===this.element.queue("tabs").length||!d.data(c,"cache.tabs"))){if(this.lis.eq(b).addClass("ui-state-processing"),a.spinner){var j=d("span",c);j.data("label.tabs",j.html()).html(a.spinner)}return this.xhr=d.ajax(d.extend({},a.ajaxOptions,{url:h,success:function(k,n){e.element.find(e._sanitizeSelector(c.hash)).html(k),e._cleanup(),a.cache&&d.data(c,"cache.tabs",!0),e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.success(k,n)}catch(m){}},error:function(k,n){e._cleanup(),e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.error(k,n,b,c)}catch(m){}}})),e.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(b,e){return this.anchors.eq(b).removeData("cache.tabs").data("load.tabs",e),this},length:function(){return this.anchors.length}}),d.extend(d.ui.tabs,{version:"1.8.16"}),d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(b,e){var a=this,c=this.options,h=a._rotate||(a._rotate=function(j){clearTimeout(a.rotation),a.rotation=setTimeout(function(){var k=c.selected;a.select(++k<a.anchors.length?k:0)},b),j&&j.stopPropagation()});return e=a._unrotate||(a._unrotate=e?function(){t=c.selected,h()}:function(j){j.clientX&&a.rotate(null)}),b?(this.element.bind("tabsshow",h),this.anchors.bind(c.event+".tabs",e),h()):(clearTimeout(a.rotation),this.element.unbind("tabsshow",h),this.anchors.unbind(c.event+".tabs",e),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(d,C){function M(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(a){return a.bind("mouseout",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),b.length&&b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),!d.datepicker._isDisabledDatepicker(J.inline?a.parent()[0]:J.input[0])&&b.length&&(b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b.addClass("ui-state-hover"),b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover"),b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover"))})}function H(a,b){d.extend(a,b);for(var c in b)(null==b[c]||b[c]==C)&&(a[c]=b[c]);return a}d.extend(d.ui,{datepicker:{version:"1.8.16"}});var B=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return H(this._defaults,a||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase(),f="div"==e||"span"==e,a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),"input"==e?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]),b.trigger=d([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)}),this._autoSize(b),d.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");if(b.append&&b.append.remove(),c&&(b.append=d('<span class="'+this._appendClass+'">'+c+"</span>"),a[e?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),c=this._get(b,"showOn"),("focus"==c||"both"==c)&&a.focus(this._showDatepicker),"button"==c||"both"==c){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(""==f?c:d("<img/>").attr({src:f,alt:c,title:c}))),a[e?"before":"after"](b.trigger),b.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++)f[g].length>h&&(h=f[g].length,i=g);return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)}),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,e,f){return a=this._dialogInst,a||(this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a)),H(a.settings,e||{}),b=b&&b.constructor==Date?this._formatDate(a,b):b,this._dialogInput.val(b),this._pos=f?f.length?f:[f.pageX,f.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker"),"input"==e?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==e||"span"==e)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();"input"==e?(a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"==e||"span"==e)&&(b=b.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")),this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();"input"==e?(a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"==e||"span"==e)&&(b=b.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")),this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?d.extend({},d.datepicker._defaults):e?"all"==b?d.extend({},e.settings):this._get(e,b):null;var f=b||{};if("string"==typeof b&&(f={},f[b]=c),e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,!0),i=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");H(e.settings,f),null!==i&&f.dateFormat!==C&&f.minDate===C&&(e.settings.minDate=this._formatDate(e,i)),null!==g&&f.dateFormat!==C&&f.maxDate===C&&(e.settings.maxDate=this._formatDate(e,g)),this._attachments(d(a),e),this._autoSize(e),this._setDate(e,h),this._updateAlternate(e),this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){(a=this._getInst(a))&&(this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(a,b){return(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b),a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=!0,e=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker(),c=!1;break;case 13:return c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv),c[0]&&d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]),(a=d.datepicker._get(b,"onSelect"))?(c=d.datepicker._formatDate(b),a.apply(b.input?b.input[0]:null,[c,b])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,e?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?d.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==C?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">c||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){if(a=d.datepicker._getInst(a.target),a.input.val()!=a.lastVal)try{d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))&&(d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),d.datepicker._updateDatepicker(a))}catch(b){d.datepicker.log(b)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=d("input",a.parentNode)[0]),!d.datepicker._isDisabledDatepicker(a)&&d.datepicker._lastInput!=a){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&(d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst),d.datepicker._curInst.dpDiv.stop(!0,!0));var c=d.datepicker._get(b,"beforeShow");if(c=c?c.apply(a,[a,b]):{},c!==!1){H(b.settings,c),b.lastVal=null,d.datepicker._lastInput=a,d.datepicker._setDateFromField(b),d.datepicker._inDialog&&(a.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight);var e=!1;if(d(a).parents().each(function(){return e|="fixed"==d(this).css("position"),!e}),e&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(b),c=d.datepicker._checkOffset(b,c,e),b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h),c&&f||h(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),d.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);J=a,a.dpDiv.empty().append(this._generateHTML(a));var c=a.dpDiv.find("iframe.ui-datepicker-cover");if(c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover(),b=this._getNumberOfMonths(a),c=b[1],a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),c>1&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em"),a.dpDiv[(1!=b[0]||1!=b[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();return b.left-=this._get(a,"isRTL")?e-h:0,b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0,b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0),b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0),b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&("hidden"==a.type||1!=a.nodeType||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];return a=d(a).offset(),[a.left,a.top]},_triggerOnClose:function(a){var b=this._get(a,"onClose");b&&b.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==d.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b),this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv["slideDown"==a?"slideUp":"fadeIn"==a?"fadeOut":"hide"](a?c:null,e),a||e(),d.datepicker._triggerOnClose(b),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){d.datepicker._curInst&&(a=d(a.target),a[0].id!=d.datepicker._mainDivId&&0==a.parents("#"+d.datepicker._mainDivId).length&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker())},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var c=new Date;b.selectedDay=c.getDate(),b.drawMonth=b.selectedMonth=c.getMonth(),b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b),this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(a)},_selectDay:function(a,b,c,e){var f=d(a);d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(f=this._getInst(f[0]),f.selectedDay=f.currentDay=d("a",e).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=d(a),this._getInst(a[0]),this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]),b=null!=b?b:this._formatDate(a),a.input&&a.input.val(b),this._updateAlternate(a);var c=this._get(a,"onSelect");c?c.apply(a.input?a.input[0]:null,[b,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){return a=a.getDay(),[a>0&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime()),a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();return a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=!1,o=function(p){return(p=A+1<a.length&&a.charAt(A+1)==p)&&A++,p},m=function(p){var D=o(p);if(p=new RegExp("^\\d{1,"+("@"==p?14:"!"==p?20:"y"==p&&D?4:"o"==p?3:2)+"}"),p=b.substring(q).match(p),!p)throw"Missing number at position "+q;return q+=p[0].length,parseInt(p[0],10)},n=function(p,D,K){p=d.map(o(p)?K:D,function(w,x){return[[x,w]]}).sort(function(w,x){return-(w[1].length-x[1].length)});var E=-1;if(d.each(p,function(w,x){return w=x[1],b.substr(q,w.length).toLowerCase()==w.toLowerCase()?(E=x[0],q+=w.length,!1):void 0}),-1!=E)return E+1;throw"Unknown name at position "+q},s=function(){if(b.charAt(q)!=a.charAt(A))throw"Unexpected literal at position "+q;q++},q=0,A=0;A<a.length;A++)if(k)"'"!=a.charAt(A)||o("'")?s():k=!1;else switch(a.charAt(A)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear(),j=v.getMonth()+1,l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/1e4),c=v.getFullYear(),j=v.getMonth()+1,l=v.getDate();break;case"'":o("'")?s():k=!0;break;default:s()}if(q<b.length)throw"Extra/unparsed characters found in date: "+b.substring(q);if(-1==c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e>=c?0:-100)),u>-1)for(j=1,l=u;;){if(e=this._getDaysInMonth(c,j-1),e>=l)break;j++,l-=e}if(v=this._daylightSavingAdjust(new Date(c,j-1,l)),v.getFullYear()!=c||v.getMonth()+1!=j||v.getDate()!=l)throw"Invalid date";return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){return(o=k+1<a.length&&a.charAt(k+1)==o)&&k++,o},g=function(o,m,n){if(m=""+m,i(o))for(;m.length<n;)m="0"+m;return m},j=function(o,m,n,s){return i(o)?s[m]:n[m]},l="",u=!1;if(b)for(var k=0;k<a.length;k++)if(u)"'"!=a.charAt(k)||i("'")?l+=a.charAt(k):u=!1;else switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":u=!0;break;default:l+=a.charAt(k)}return l},_possibleChars:function(a){for(var b="",c=!1,e=function(h){return(h=f+1<a.length&&a.charAt(f+1)==h)&&f++,h},f=0;f<a.length;f++)if(c)"'"!=a.charAt(f)||e("'")?b+=a.charAt(f):c=!1;else switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":e("'")?b+="'":c=!0;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return a.settings[b]!==C?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var f,h,c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g),e=b?"":e}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=e?f.getDate():0,a.currentMonth=e?f.getMonth():0,a.currentYear=e?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;return i.setDate(i.getDate()+h),i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=7*parseInt(k[1],10);break;case"m":case"M":l+=parseInt(k[1],10),g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10),g=Math.min(g,d.datepicker._getDaysInMonth(j,l))}k=u.exec(h)}return new Date(j,l,g)};return(b=(b=null==b||""===b?c:"string"==typeof b?f(b):"number"==typeof b?isNaN(b)?c:e(b):new Date(b.getTime()))&&"Invalid Date"==b.toString()?c:b)&&(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0)),this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date)),a.selectedDay=a.currentDay=b.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth(),a.drawYear=a.selectedYear=a.currentYear=b.getFullYear(),f==a.selectedMonth&&h==a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=1!=i[0]||1!=i[1],u=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(0>g&&(g+=12,m--),o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&k>n?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;)g--,0>g&&(g=11,m--)}a.drawMonth=g,a.drawYear=m,n=this._get(a,"prevText"),n=h?this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a)):n,n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var s=this._get(a,"nextText");s=h?this.formatDate(s,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a)):s,f=this._canAdjustMonth(a,1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",j=this._get(a,"currentText"),s=this._get(a,"gotoCurrent")&&a.currentDay?u:b,j=h?this.formatDate(j,s,this._getFormatConfig(a)):j,h=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+B+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"",h=parseInt(this._get(a,"firstDay"),10),h=isNaN(h)?0:h,j=this._get(a,"showWeek"),s=this._get(a,"dayNames"),this._get(a,"dayNamesShort");var q=this._get(a,"dayNamesMin"),A=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),D=this._get(a,"showOtherMonths"),K=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var E=this._getDefaultDate(a),w="",x=0;x<i[0];x++){var O="";this.maxRows=4;for(var G=0;G<i[1];G++){var P=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",y="";if(l){if(y+='<div class="ui-datepicker-group',i[1]>1)switch(G){case 0:y+=" ui-datepicker-group-first",t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:y+=" ui-datepicker-group-last",t=" ui-corner-"+(c?"left":"right");break;default:y+=" ui-datepicker-group-middle",t=""}y+='">'}y+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&0==x?c?f:n:"")+(/all|right/.test(t)&&0==x?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,x>0||G>0,A,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;7>t;t++){var r=(t+h)%7;z+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+s[r]+'">'+q[r]+"</span></th>"}y+=z+"</tr></thead><tbody>",z=this._getDaysInMonth(m,g),m==a.selectedYear&&g==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,z)),t=(this._getFirstDayOfMonth(m,g)-h+7)%7,z=Math.ceil((t+z)/7),this.maxRows=z=l&&this.maxRows>z?this.maxRows:z,r=this._daylightSavingAdjust(new Date(m,g,1-t));for(var Q=0;z>Q;Q++){y+="<tr>";var R=j?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(r)+"</td>":"";for(t=0;7>t;t++){var I=p?p.apply(a.input?a.input[0]:null,[r]):[!0,""],F=r.getMonth()!=g,L=F&&!K||!I[0]||k&&k>r||o&&r>o;R+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(r.getTime()==P.getTime()&&g==a.selectedMonth&&a._keyEvent||E.getTime()==r.getTime()&&E.getTime()==P.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!D?"":" "+I[1]+(r.getTime()==u.getTime()?" "+this._currentClass:"")+(r.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(F&&!D||!I[2]?"":' title="'+I[2]+'"')+(L?"":' onclick="DP_jQuery_'+B+".datepicker._selectDay('#"+a.id+"',"+r.getMonth()+","+r.getFullYear()+', this);return false;"')+">"+(F&&!D?"&#xa0;":L?'<span class="ui-state-default">'+r.getDate()+"</span>":'<a class="ui-state-default'+(r.getTime()==b.getTime()?" ui-state-highlight":"")+(r.getTime()==u.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+'" href="#">'+r.getDate()+"</a>")+"</td>",
r.setDate(r.getDate()+1),r=this._daylightSavingAdjust(r)}y+=R+"</tr>"}g++,g>11&&(g=0,m++),y+="</tbody></table>"+(l?"</div>"+(i[0]>0&&G==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),O+=y}w+=O}return w+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,w},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j)o+='<span class="ui-datepicker-month">'+i[b]+"</span>";else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var n=0;12>n;n++)(!i||n>=e.getMonth())&&(!m||n<=f.getMonth())&&(o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>");o+="</select>"}if(u||(k+=o+(!h&&j&&l?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",h||!l)k+='<span class="ui-datepicker-year">'+c+"</span>";else{g=this._get(a,"yearRange").split(":");var s=(new Date).getFullYear();for(i=function(q){return q=q.match(/c[+-].*/)?c+parseInt(q.substring(1),10):q.match(/[+-].*/)?s+parseInt(q,10):parseInt(q,10),isNaN(q)?s:q},b=i(g[0]),g=Math.max(b,i(g[1]||"")),b=e?Math.max(b,e.getFullYear()):b,g=f?Math.min(g,f.getFullYear()):g,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";g>=b;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>",k+=a.yearshtml,a.yearshtml=null}return k+=this._get(a,"yearSuffix"),u&&(k+=(!h&&j&&l?"":"&#xa0;")+o),k+="</div>"},_adjustInstDate:function(a,b,c){var e=a.drawYear+("Y"==c?b:0),f=a.drawMonth+("M"==c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+("D"==c?b:0),e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b))),a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),b=c&&c>b?c:b,b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){return a=this._get(a,"numberOfMonths"),null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);return c=this._daylightSavingAdjust(new Date(c,e+(0>b?b:f[0]*f[1]),1)),0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");return a=this._getMinMaxDate(a,"max"),(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){return b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear),b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay)),this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}}),d.fn.datepicker=function(a){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)}):d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))},d.datepicker=new M,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.16",window["DP_jQuery_"+B]=d}(jQuery),function(){!function($,window,document){var Plugin,defaults,pluginName;return pluginName="slides",defaults={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},Plugin=function(){function Plugin(element,options){this.element=element,this.options=$.extend(!0,{},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}return Plugin}(),Plugin.prototype.init=function(){var $element,nextButton,pagination,playButton,prevButton,stopButton,_this=this;return $element=$(this.element),this.data=$.data(this),$element.children().length<2?void $(".slide",$element).css({zIndex:1,display:"block"}):($.data(this,"animating",!1),$.data(this,"total",$element.children().not(".slidesjs-navigation",$element).length),$.data(this,"current",this.options.start-1),$.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&($.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),$element.css({overflow:"hidden"}),$element.slidesContainer=$element.children().not(".slidesjs-navigation",$element).wrapAll("<div class='slidesContainer'>",$element).parent().css({overflow:"hidden",position:"relative"}),$(".slidesContainer",$element).wrapInner("<div class='slidesControl'>",$element).children(),$(".slidesControl",$element).css({position:"relative",left:0}),$(".slidesControl",$element).children().addClass("slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),$.each($(".slidesControl",$element).children(),function(i){var $slide;return $slide=$(this),$slide.attr("slidesjs-index",i)}),this.data.touch&&($(".slidesControl",$element).on("touchstart",function(e){return _this._touchstart(e)}),$(".slidesControl",$element).on("touchmove",function(e){return _this._touchmove(e)}),$(".slidesControl",$element).on("touchend",function(e){return _this._touchend(e)})),$element.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),$(".slidesControl",$element).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return $(this).css({zIndex:5})}),this.options.navigation.active&&(prevButton=$("<a>",{"class":"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo($element),nextButton=$("<a>",{"class":"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo($element)),$(".slidesjs-next",$element).click(function(e){return e.preventDefault(),_this.stop(!0),_this.next(_this.options.navigation.effect)}),$(".slidesjs-previous",$element).click(function(e){return e.preventDefault(),_this.stop(!0),_this.previous(_this.options.navigation.effect)}),this.options.play.active&&(playButton=$("<a>",{"class":"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo($element),stopButton=$("<a>",{"class":"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo($element),playButton.click(function(e){return e.preventDefault(),_this.play(!0)}),stopButton.click(function(e){return e.preventDefault(),_this.stop(!0)}),this.options.play.swap&&stopButton.css({display:"none"})),this.options.pagination.active&&(pagination=$("<ul>",{"class":"slidesPagination"}).appendTo($element),$.each(new Array(this.data.total),function(i){var paginationItem,paginationLink;return paginationItem=$("<li>",{"class":"slidesPagination-item"}).appendTo(pagination),paginationLink=$("<a>",{href:"#","data-slidesindex":i,html:i+1}).appendTo(paginationItem),paginationLink.click(function(e){return e.preventDefault(),_this.stop(!0),_this["goto"](1*$(e.currentTarget).attr("data-slidesindex")+1),_this.options.play.restartDelay?$.data(_this,"restartDelay",setTimeout(function(){return _this.play(!0)},_this.options.play.restartDelay)):_this.play()})})),$(window).bind("resize",function(){return _this.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start))},Plugin.prototype._setActive=function(number){var $element,current;return $element=$(this.element),this.data=$.data(this),current=number>-1?number:this.data.current,$(".slidesCurrent",$element).removeClass("slidesCurrent"),$(".slidesPagination li:eq("+current+")",$element).addClass("slidesCurrent")},Plugin.prototype.update=function(){var $element,height,width;return $element=$(this.element),this.data=$.data(this),$(".slidesControl",$element).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),width=$element.width(),height=this.options.height/this.options.width*width,this.options.width=width,this.options.height=height,$(".slidesControl, .slidesContainer",$element).css({width:width,height:height})},Plugin.prototype.next=function(effect){var $element;return $element=$(this.element),this.data=$.data(this),$.data(this,"direction","next"),void 0===effect&&(effect=this.options.navigation.effect),"fade"===effect?this._fade():this._slide()},Plugin.prototype.previous=function(effect){var $element;return $element=$(this.element),this.data=$.data(this),$.data(this,"direction","previous"),void 0===effect&&(effect=this.options.navigation.effect),"fade"===effect?this._fade():this._slide()},Plugin.prototype["goto"]=function(number){var $element,effect;if($element=$(this.element),this.data=$.data(this),void 0===effect&&(effect=this.options.pagination.effect),number>this.data.total?number=this.data.total:1>number&&(number=1),"number"==typeof number)return"fade"===effect?this._fade(number):this._slide(number);if("string"==typeof number){if("first"===number)return"fade"===effect?this._fade(0):this._slide(0);if("last"===number)return"fade"===effect?this._fade(this.data.total):this._slide(this.data.total)}},Plugin.prototype._setuptouch=function(){var $element,next,previous,slidesControl;return $element=$(this.element),this.data=$.data(this),slidesControl=$(".slidesControl",$element),next=this.data.current+1,previous=this.data.current-1,0>previous&&(previous=this.data.total-1),next>this.data.total-1&&(next=0),slidesControl.children(":eq("+next+")").css({display:"block",left:this.options.width}),slidesControl.children(":eq("+previous+")").css({display:"block",left:-this.options.width})},Plugin.prototype._touchstart=function(e){var $element,touches;return $element=$(this.element),this.data=$.data(this),touches=e.originalEvent.touches[0],this._setuptouch(),$.data(this,"touchtimer",Number(new Date)),$.data(this,"touchstartx",touches.pageX),$.data(this,"touchstarty",touches.pageY),e.stopPropagation()},Plugin.prototype._touchend=function(e){var $element,duration,prefix,slidesControl,timing,touches,transform,_this=this;return $element=$(this.element),this.data=$.data(this),touches=e.originalEvent.touches[0],slidesControl=$(".slidesControl",$element),slidesControl.position().left>.5*this.options.width||slidesControl.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?($.data(this,"direction","previous"),this._slide()):slidesControl.position().left<-(.5*this.options.width)||slidesControl.position().left<-(.1*this.options.width)&&Number(new Date)-this.data.touchtimer<250?($.data(this,"direction","next"),this._slide()):(prefix=this.data.vendorPrefix,transform=prefix+"Transform",duration=prefix+"TransitionDuration",timing=prefix+"TransitionTimingFunction",slidesControl[0].style[transform]="translateX(0px)",slidesControl[0].style[duration]=.85*this.options.effect.slide.speed+"ms"),slidesControl.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return prefix=_this.data.vendorPrefix,transform=prefix+"Transform",duration=prefix+"TransitionDuration",timing=prefix+"TransitionTimingFunction",slidesControl[0].style[transform]="",slidesControl[0].style[duration]="",slidesControl[0].style[timing]=""}),e.stopPropagation()},Plugin.prototype._touchmove=function(e){var $element,prefix,slidesControl,touches,transform;return $element=$(this.element),this.data=$.data(this),touches=e.originalEvent.touches[0],prefix=this.data.vendorPrefix,slidesControl=$(".slidesControl",$element),transform=prefix+"Transform",$.data(this,"scrolling",Math.abs(touches.pageX-this.data.touchstartx)<Math.abs(touches.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(e.preventDefault(),this._setuptouch(),slidesControl[0].style[transform]="translateX("+(touches.pageX-this.data.touchstartx)+"px)"),e.stopPropagation()},Plugin.prototype.play=function(next){var $element,currentSlide,slidesContainer,_this=this;return $element=$(this.element),this.data=$.data(this),!this.data.playInterval&&(next&&(currentSlide=this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),$.data(this,"playInterval",setInterval(function(){return currentSlide=_this.data.current,_this.data.direction="next","fade"===_this.options.play.effect?_this._fade():_this._slide()},this.options.play.interval)),slidesContainer=$(".slidesContainer",$element),this.options.play.pauseOnHover&&(slidesContainer.unbind(),slidesContainer.bind("mouseenter",function(){return _this.stop()}),slidesContainer.bind("mouseleave",function(){return _this.options.play.restartDelay?$.data(_this,"restartDelay",setTimeout(function(){return _this.play(!0)},_this.options.play.restartDelay)):_this.play()})),$.data(this,"playing",!0),$(".slidesjs-play",$element).addClass("slidesjs-playing"),this.options.play.swap)?($(".slidesjs-play",$element).hide(),$(".slidesjs-stop",$element).show()):void 0},Plugin.prototype.stop=function(clicked){var $element;return $element=$(this.element),this.data=$.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&clicked&&$(".slidesContainer",$element).unbind(),$.data(this,"playInterval",null),$.data(this,"playing",!1),$(".slidesjs-play",$element).removeClass("slidesjs-playing"),this.options.play.swap?($(".slidesjs-stop",$element).hide(),$(".slidesjs-play",$element).show()):void 0},Plugin.prototype._slide=function(number){var $element,currentSlide,direction,duration,next,prefix,slidesControl,timing,transform,value,_this=this;return $element=$(this.element),this.data=$.data(this),this.data.animating||number===this.data.current+1?void 0:($.data(this,"animating",!0),currentSlide=this.data.current,number>-1?(number-=1,value=number>currentSlide?1:-1,direction=number>currentSlide?-this.options.width:this.options.width,next=number):(value="next"===this.data.direction?1:-1,direction="next"===this.data.direction?-this.options.width:this.options.width,next=currentSlide+value),-1===next&&(next=this.data.total-1),next===this.data.total&&(next=0),this._setActive(next),slidesControl=$(".slidesControl",$element),number>-1&&slidesControl.children(":not(:eq("+currentSlide+"))").css({display:"none",left:0,zIndex:0}),slidesControl.children(":eq("+next+")").css({display:"block",left:value*this.options.width,zIndex:5}),this.options.callback.start(currentSlide+1),this.data.vendorPrefix?(prefix=this.data.vendorPrefix,transform=prefix+"Transform",duration=prefix+"TransitionDuration",timing=prefix+"TransitionTimingFunction",slidesControl[0].style[transform]="translateX("+direction+"px)",slidesControl[0].style[duration]=this.options.effect.slide.speed+"ms",slidesControl.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return slidesControl[0].style[transform]="",slidesControl[0].style[duration]="",slidesControl.children(":eq("+next+")").css({left:0}),slidesControl.children(":eq("+currentSlide+")").css({display:"none",left:0,zIndex:0}),$.data(_this,"current",next),$.data(_this,"animating",!1),slidesControl.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),slidesControl.children(":not(:eq("+next+"))").css({display:"none",left:0,zIndex:0}),_this.data.touch&&_this._setuptouch(),_this.options.callback.complete(next+1)})):slidesControl.stop().animate({left:direction},this.options.effect.slide.speed,function(){return slidesControl.css({left:0}),slidesControl.children(":eq("+next+")").css({left:0}),slidesControl.children(":eq("+currentSlide+")").css({display:"none",left:0,zIndex:0},$.data(_this,"current",next),$.data(_this,"animating",!1),_this.options.callback.complete(next+1))}))},Plugin.prototype._fade=function(number){var $element,currentSlide,next,slidesControl,value,_this=this;return $element=$(this.element),this.data=$.data(this),this.data.animating||number===this.data.current+1?void 0:($.data(this,"animating",!0),currentSlide=this.data.current,number?(number-=1,value=number>currentSlide?1:-1,next=number):(value="next"===this.data.direction?1:-1,next=currentSlide+value),-1===next&&(next=this.data.total-1),next===this.data.total&&(next=0),this._setActive(next),slidesControl=$(".slidesControl",$element),slidesControl.children(":eq("+next+")").css({display:"none",left:0,zIndex:5}),this.options.callback.start(currentSlide+1),this.options.effect.fade.crossfade?(slidesControl.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),slidesControl.children(":eq("+next+")").stop().fadeIn(this.options.effect.fade.speed,function(){return slidesControl.children(":eq("+next+")").css({zIndex:0}),$.data(_this,"animating",!1),$.data(_this,"current",next),_this.options.callback.complete(next+1)})):slidesControl.children(":eq("+currentSlide+")").stop().fadeOut(this.options.effect.fade.speed,function(){return slidesControl.children(":eq("+next+")").stop().fadeIn(_this.options.effect.fade.speed,function(){return slidesControl.children(":eq("+next+")").css({zIndex:5})}),$.data(_this,"animating",!1),$.data(_this,"current",next),_this.options.callback.complete(next+1)}))},Plugin.prototype._getVendorPrefix=function(){var body,i,style,transition,vendor;for(body=document.body||document.documentElement,style=body.style,transition="transition",vendor=["Moz","Webkit","Khtml","O","ms"],transition=transition.charAt(0).toUpperCase()+transition.substr(1),i=0;i<vendor.length;){if("string"==typeof style[vendor[i]+transition])return vendor[i];i++}return!1},$.fn[pluginName]=function(options){return this.each(function(){return $.data(this,"plugin_"+pluginName)?void 0:$.data(this,"plugin_"+pluginName,new Plugin(this,options))})}}(jQuery,window,document)}.call(this),function(a){a.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},a.browser.msie&&a.browser.version<7?a.support.selectOpacity=!1:a.support.selectOpacity=!0,a.fn.uniform=function(k){function j(l){$el=a(l),$el.addClass($el.attr("type")),b(l)}function g(l){a(l).addClass("uniform"),b(l)}function i(o){var m=a(o),p=a("<div>"),l=a("<span>");p.addClass(k.buttonClass),k.useID&&""!=m.attr("id")&&p.attr("id",k.idPrefix+"-"+m.attr("id"));var n;m.is("a")||m.is("button")?n=m.text():(m.is(":submit")||m.is(":reset")||m.is("input[type=button]"))&&(n=m.attr("value")),n=""==n?m.is(":reset")?"Reset":"Submit":n,l.html(n),m.css("opacity",0),m.wrap(p),m.wrap(l),p=m.closest("div"),l=m.closest("span"),m.is(":disabled")&&p.addClass(k.disabledClass),p.bind({"mouseenter.uniform":function(){p.addClass(k.hoverClass)},"mouseleave.uniform":function(){p.removeClass(k.hoverClass),p.removeClass(k.activeClass)},"mousedown.uniform touchbegin.uniform":function(){p.addClass(k.activeClass)},"mouseup.uniform touchend.uniform":function(){p.removeClass(k.activeClass)},"click.uniform touchend.uniform":function(r){if(a(r.target).is("span")||a(r.target).is("div"))if(o[0].dispatchEvent){var q=document.createEvent("MouseEvents");q.initEvent("click",!0,!0),o[0].dispatchEvent(q)}else o[0].click()}}),o.bind({"focus.uniform":function(){p.addClass(k.focusClass)},"blur.uniform":function(){p.removeClass(k.focusClass)}}),a.uniform.noSelect(p),b(o)}function e(o){var m=a(o),p=a("<div />"),l=a("<span />");"none"==!m.css("display")&&k.autoHide&&p.hide(),p.addClass(k.selectClass),k.useID&&""!=o.attr("id")&&p.attr("id",k.idPrefix+"-"+o.attr("id"));var n=o.find(":selected:first");0==n.length&&(n=o.find("option:first")),l.html(n.html()),o.css("opacity",0),o.wrap(p),o.before(l),p=o.parent("div"),l=o.siblings("span"),o.bind({"change.uniform":function(){l.text(o.find(":selected").html()),p.removeClass(k.activeClass)},"focus.uniform":function(){p.addClass(k.focusClass)},"blur.uniform":function(){p.removeClass(k.focusClass),p.removeClass(k.activeClass)},"mousedown.uniform touchbegin.uniform":function(){p.addClass(k.activeClass)},"mouseup.uniform touchend.uniform":function(){p.removeClass(k.activeClass)},"click.uniform touchend.uniform":function(){p.removeClass(k.activeClass)},"mouseenter.uniform":function(){p.addClass(k.hoverClass)},"mouseleave.uniform":function(){p.removeClass(k.hoverClass),p.removeClass(k.activeClass)},"keyup.uniform":function(){l.text(o.find(":selected").html())}}),a(o).attr("disabled")&&p.addClass(k.disabledClass),a.uniform.noSelect(l),b(o)}function f(n){var m=a(n),o=a("<div />"),l=a("<span />");"none"==!m.css("display")&&k.autoHide&&o.hide(),o.addClass(k.checkboxClass),k.useID&&""!=n.attr("id")&&o.attr("id",k.idPrefix+"-"+n.attr("id")),a(n).wrap(o),a(n).wrap(l),l=n.parent(),o=l.parent(),a(n).css("opacity",0).bind({"focus.uniform":function(){o.addClass(k.focusClass)},"blur.uniform":function(){o.removeClass(k.focusClass)},"click.uniform touchend.uniform":function(){a(n).attr("checked")?l.addClass(k.checkedClass):l.removeClass(k.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){o.addClass(k.activeClass)},"mouseup.uniform touchend.uniform":function(){o.removeClass(k.activeClass)},"mouseenter.uniform":function(){o.addClass(k.hoverClass)},"mouseleave.uniform":function(){o.removeClass(k.hoverClass),o.removeClass(k.activeClass)}}),a(n).attr("checked")&&l.addClass(k.checkedClass),a(n).attr("disabled")&&o.addClass(k.disabledClass),b(n)}function c(n){var m=a(n),o=a("<div />"),l=a("<span />");"none"==!m.css("display")&&k.autoHide&&o.hide(),o.addClass(k.radioClass),k.useID&&""!=n.attr("id")&&o.attr("id",k.idPrefix+"-"+n.attr("id")),a(n).wrap(o),a(n).wrap(l),l=n.parent(),o=l.parent(),a(n).css("opacity",0).bind({"focus.uniform":function(){o.addClass(k.focusClass)},"blur.uniform":function(){o.removeClass(k.focusClass)},"click.uniform touchend.uniform":function(){if(a(n).attr("checked")){var p=k.radioClass.split(" ")[0];a("."+p+" span."+k.checkedClass+":has([name='"+a(n).attr("name")+"'])").removeClass(k.checkedClass),l.addClass(k.checkedClass)}else l.removeClass(k.checkedClass)},"mousedown.uniform touchend.uniform":function(){a(n).is(":disabled")||o.addClass(k.activeClass)},"mouseup.uniform touchbegin.uniform":function(){o.removeClass(k.activeClass)},"mouseenter.uniform touchend.uniform":function(){o.addClass(k.hoverClass)},"mouseleave.uniform":function(){o.removeClass(k.hoverClass),o.removeClass(k.activeClass)}}),a(n).attr("checked")&&l.addClass(k.checkedClass),a(n).attr("disabled")&&o.addClass(k.disabledClass),b(n)}function h(q){var o=a(q),r=a("<div />"),p=a("<span>"+k.fileDefaultText+"</span>"),m=a("<span>"+k.fileBtnText+"</span>");if("none"==!o.css("display")&&k.autoHide&&r.hide(),r.addClass(k.fileClass),p.addClass(k.filenameClass),m.addClass(k.fileBtnClass),k.useID&&""!=o.attr("id")&&r.attr("id",k.idPrefix+"-"+o.attr("id")),o.wrap(r),o.after(m),o.after(p),r=o.closest("div"),p=o.siblings("."+k.filenameClass),m=o.siblings("."+k.fileBtnClass),!o.attr("size")){var l=r.width();o.attr("size",l/10)}var n=function(){var s=o.val();""===s?s=k.fileDefaultText:(s=s.split(/[\/\\]+/),s=s[s.length-1]),p.text(s)};n(),o.css("opacity",0).bind({"focus.uniform":function(){r.addClass(k.focusClass)},"blur.uniform":function(){r.removeClass(k.focusClass)},"mousedown.uniform":function(){a(q).is(":disabled")||r.addClass(k.activeClass)},"mouseup.uniform":function(){r.removeClass(k.activeClass)},"mouseenter.uniform":function(){r.addClass(k.hoverClass)},"mouseleave.uniform":function(){r.removeClass(k.hoverClass),r.removeClass(k.activeClass)}}),a.browser.msie?o.bind("click.uniform.ie7",function(){setTimeout(n,0)}):o.bind("change.uniform",n),o.attr("disabled")&&r.addClass(k.disabledClass),a.uniform.noSelect(p),a.uniform.noSelect(m),b(q)}function b(l){l=a(l).get(),l.length>1?a.each(l,function(m,n){a.uniform.elements.push(n)}):a.uniform.elements.push(l)}k=a.extend(a.uniform.options,k);var d=this;return 0!=k.resetSelector&&a(k.resetSelector).mouseup(function(){function l(){a.uniform.update(d)}setTimeout(l,10)}),a.uniform.restore=function(l){void 0==l&&(l=a(a.uniform.elements)),a(l).each(function(){a(this).is(":checkbox")?a(this).unwrap().unwrap():a(this).is("select")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is(":radio")?a(this).unwrap().unwrap():a(this).is(":file")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is("button, :submit, :reset, a, input[type='button']")&&a(this).unwrap().unwrap(),a(this).unbind(".uniform"),a(this).css("opacity","1");var m=a.inArray(a(l),a.uniform.elements);a.uniform.elements.splice(m,1)})},a.uniform.noSelect=function(l){function m(){return!1}a(l).each(function(){this.onselectstart=this.ondragstart=m,a(this).mousedown(m).css({MozUserSelect:"none"})})},a.uniform.update=function(l){void 0==l&&(l=a(a.uniform.elements)),l=a(l),l.each(function(){var n=a(this);if(n.is("select")){var m=n.siblings("span"),p=n.parent("div");p.removeClass(k.hoverClass+" "+k.focusClass+" "+k.activeClass),m.html(n.find(":selected").html()),n.is(":disabled")?p.addClass(k.disabledClass):p.removeClass(k.disabledClass)}else if(n.is(":checkbox")){var m=n.closest("span"),p=n.closest("div");p.removeClass(k.hoverClass+" "+k.focusClass+" "+k.activeClass),m.removeClass(k.checkedClass),n.is(":checked")&&m.addClass(k.checkedClass),n.is(":disabled")?p.addClass(k.disabledClass):p.removeClass(k.disabledClass)}else if(n.is(":radio")){var m=n.closest("span"),p=n.closest("div");p.removeClass(k.hoverClass+" "+k.focusClass+" "+k.activeClass),m.removeClass(k.checkedClass),n.is(":checked")&&m.addClass(k.checkedClass),n.is(":disabled")?p.addClass(k.disabledClass):p.removeClass(k.disabledClass)}else if(n.is(":file")){var p=n.parent("div"),o=n.siblings(k.filenameClass);btnTag=n.siblings(k.fileBtnClass),p.removeClass(k.hoverClass+" "+k.focusClass+" "+k.activeClass),o.text(n.val()),n.is(":disabled")?p.addClass(k.disabledClass):p.removeClass(k.disabledClass)}else if(n.is(":submit")||n.is(":reset")||n.is("button")||n.is("a")||l.is("input[type=button]")){var p=n.closest("div");p.removeClass(k.hoverClass+" "+k.focusClass+" "+k.activeClass),n.is(":disabled")?p.addClass(k.disabledClass):p.removeClass(k.disabledClass)}})},this.each(function(){if(a.support.selectOpacity){var l=a(this);l.is("select")?1!=l.attr("multiple")&&(void 0==l.attr("size")||l.attr("size")<=1)&&e(l):l.is(":checkbox")?f(l):l.is(":radio")?c(l):l.is(":file")?h(l):l.is(":text, :password, input[type='email']")?j(l):l.is("textarea")?g(l):(l.is("a")||l.is(":submit")||l.is(":reset")||l.is("button")||l.is("input[type=button]"))&&i(l)}})}}(jQuery),/*! jCarousel - v0.3.0 - 2013-11-22
* http://sorgalla.com/jcarousel
* Copyright (c) 2013 Jan Sorgalla; Licensed MIT */
function(t){"use strict";var i=t.jCarousel={};i.version="0.3.0";var s=/^([+\-]=)?(.+)$/;i.parseTarget=function(t){var i=!1,e="object"!=typeof t?s.exec(t):null;return e?(t=parseInt(e[2],10)||0,e[1]&&(i=!0,"-="===e[1]&&(t*=-1))):"object"!=typeof t&&(t=parseInt(t,10)||0),{target:t,relative:i}},i.detectCarousel=function(t){for(var i;t.length>0;){if(i=t.filter("[data-jcarousel]"),i.length>0)return i;if(i=t.find("[data-jcarousel]"),i.length>0)return i;t=t.parent()}return null},i.base=function(s){return{version:i.version,_options:{},_element:null,_carousel:null,_init:t.noop,_create:t.noop,_destroy:t.noop,_reload:t.noop,create:function(){return this._element.attr("data-"+s.toLowerCase(),!0).data(s,this),!1===this._trigger("create")?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(s).removeAttr("data-"+s.toLowerCase()),this)},reload:function(t){return!1===this._trigger("reload")?this:(t&&this.options(t),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(i,s){if(0===arguments.length)return t.extend({},this._options);if("string"==typeof i){if(void 0===s)return void 0===this._options[i]?null:this._options[i];this._options[i]=s}else this._options=t.extend({},this._options,i);return this},carousel:function(){return this._carousel||(this._carousel=i.detectCarousel(this.options("carousel")||this._element),this._carousel||t.error('Could not detect carousel for plugin "'+s+'"')),this._carousel},_trigger:function(i,e,r){var n,o=!1;return r=[this].concat(r||[]),(e||this._element).each(function(){n=t.Event((s+":"+i).toLowerCase()),t(this).trigger(n,r),n.isDefaultPrevented()&&(o=!0)}),!o}}},i.plugin=function(s,e){var r=t[s]=function(i,s){this._element=t(i),this.options(s),this._init(),this.create()};return r.fn=r.prototype=t.extend({},i.base(s),e),t.fn[s]=function(i){var e=Array.prototype.slice.call(arguments,1),n=this;return"string"==typeof i?this.each(function(){var r=t(this).data(s);if(!r)return t.error("Cannot call methods on "+s+' prior to initialization; attempted to call method "'+i+'"');if(!t.isFunction(r[i])||"_"===i.charAt(0))return t.error('No such method "'+i+'" for '+s+" instance");var o=r[i].apply(r,e);return o!==r&&void 0!==o?(n=o,!1):void 0}):this.each(function(){var e=t(this).data(s);e instanceof r?e.reload(i):new r(this,i)}),n},r}}(jQuery),function(t,i){"use strict";var s=function(t){return parseFloat(t)||0};t.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var t=this;return this.onWindowResize=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.reload()},100)},this},_create:function(){this._reload(),t(i).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){t(i).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical"),null==this.vertical&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),null==this.rtl&&(this.rtl=function(i){if("rtl"===(""+i.attr("dir")).toLowerCase())return!0;var s=!1;return i.parents("[dir]").each(function(){return/rtl/i.test(t(this).attr("dir"))?(s=!0,!1):void 0}),s}(this._element)),this.lt=this.vertical?"top":"left",this.relative="relative"===this.list().css("position"),this._list=null,this._items=null;var i=this._target&&this.index(this._target)>=0?this._target:this.closest();this.circular="circular"===this.options("wrap"),this.underflow=!1;var s={left:0,top:0};return i.length>0&&(this._prepare(i),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,s[this.lt]=this._position(i)+"px"),this.move(s),this},list:function(){if(null===this._list){var i=this.options("list");this._list=t.isFunction(i)?i.call(this):this._element.find(i)}return this._list},items:function(){if(null===this._items){var i=this.options("items");this._items=(t.isFunction(i)?i.call(this):this.list().find(i)).not("[data-jcarousel-clone]")}return this._items},index:function(t){return this.items().index(t)},closest:function(){var i,e=this,r=this.list().position()[this.lt],n=t(),o=!1,l=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right";return this.rtl&&this.relative&&!this.vertical&&(r+=this.list().width()-this.clipping()),this.items().each(function(){if(n=t(this),o)return!1;var a=e.dimension(n);if(r+=a,r>=0){if(i=a-s(n.css("margin-"+l)),!(0>=Math.abs(r)-a+i/2))return!1;o=!0}}),n},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var t=this.options("wrap"),i=this.items().length-1;return i>=0&&(t&&"first"!==t||i>this.index(this._last)||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var t=this.options("wrap");return this.items().length>0&&(t&&"last"!==t||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(t){return t["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(i,s,e){if(this.animating)return this;if(!1===this._trigger("scroll",null,[i,s]))return this;t.isFunction(s)&&(e=s,s=!0);var r=t.jCarousel.parseTarget(i);if(r.relative){var n,o,l,a,h,u,c,f,d=this.items().length-1,_=Math.abs(r.target),p=this.options("wrap");if(r.target>0){var v=this.index(this._last);if(v>=d&&this.tail)this.inTail?"both"===p||"last"===p?this._scroll(0,s,e):t.isFunction(e)&&e.call(this,!1):this._scrollTail(s,e);else if(n=this.index(this._target),this.underflow&&n===d&&("circular"===p||"both"===p||"last"===p)||!this.underflow&&v===d&&("both"===p||"last"===p))this._scroll(0,s,e);else if(l=n+_,this.circular&&l>d){for(f=d,h=this.items().get(-1);l>f++;)h=this.items().eq(0),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(h),u||(c={},c[this.lt]=this.dimension(h),this.moveBy(c)),this._items=null;this._scroll(h,s,e)}else this._scroll(Math.min(l,d),s,e)}else if(this.inTail)this._scroll(Math.max(this.index(this._first)-_+1,0),s,e);else if(o=this.index(this._first),n=this.index(this._target),a=this.underflow?n:o,l=a-_,0>=a&&(this.underflow&&"circular"===p||"both"===p||"first"===p))this._scroll(d,s,e);else if(this.circular&&0>l){for(f=l,h=this.items().get(0);0>f++;){h=this.items().eq(-1),u=this._visible.index(h)>=0,u&&h.after(h.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(h),this._items=null;var g=this.dimension(h);c={},c[this.lt]=-g,this.moveBy(c)}this._scroll(h,s,e)}else this._scroll(Math.max(l,0),s,e)}else this._scroll(r.target,s,e);return this._trigger("scrollend"),this},moveBy:function(t,i){var e=this.list().position(),r=1,n=0;return this.rtl&&!this.vertical&&(r=-1,this.relative&&(n=this.list().width()-this.clipping())),t.left&&(t.left=e.left+n+s(t.left)*r+"px"),t.top&&(t.top=e.top+n+s(t.top)*r+"px"),this.move(t,i)},move:function(i,s){s=s||{};var e=this.options("transitions"),r=!!e,n=!!e.transforms,o=!!e.transforms3d,l=s.duration||0,a=this.list();if(!r&&l>0)return void a.animate(i,s);var h=s.complete||t.noop,u={};if(r){var c=a.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),f=h;h=function(){t(this).css(c),f.call(this)},u={transitionDuration:(l>0?l/1e3:0)+"s",transitionTimingFunction:e.easing||s.easing,transitionProperty:l>0?function(){return n||o?"all":i.left?"left":"top"}():"none",transform:"none"}}o?u.transform="translate3d("+(i.left||0)+","+(i.top||0)+",0)":n?u.transform="translate("+(i.left||0)+","+(i.top||0)+")":t.extend(u,i),r&&l>0&&a.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",h),a.css(u),0>=l&&a.each(function(){h.call(this)})},_scroll:function(i,s,e){if(this.animating)return t.isFunction(e)&&e.call(this,!1),this;if("object"!=typeof i?i=this.items().eq(i):void 0===i.jquery&&(i=t(i)),0===i.length)return t.isFunction(e)&&e.call(this,!1),this;this.inTail=!1,this._prepare(i);var r=this._position(i),n=this.list().position()[this.lt];if(r===n)return t.isFunction(e)&&e.call(this,!1),this;var o={};return o[this.lt]=r+"px",this._animate(o,s,e),this},_scrollTail:function(i,s){if(this.animating||!this.tail)return t.isFunction(s)&&s.call(this,!1),this;var e=this.list().position()[this.lt];this.rtl&&this.relative&&!this.vertical&&(e+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?e+=this.tail:e-=this.tail,this.inTail=!0;var r={};return r[this.lt]=e+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(r,i,s),this},_animate:function(i,s,e){if(e=e||t.noop,!1===this._trigger("animate"))return e.call(this,!1),this;this.animating=!0;var r=this.options("animation"),n=t.proxy(function(){this.animating=!1;var t=this.list().find("[data-jcarousel-clone]");t.length>0&&(t.remove(),this._reload()),this._trigger("animateend"),e.call(this,!0)},this),o="object"==typeof r?t.extend({},r):{duration:r},l=o.complete||t.noop;return s===!1?o.duration=0:void 0!==t.fx.speeds[o.duration]&&(o.duration=t.fx.speeds[o.duration]),o.complete=function(){n(),l.call(this)},this.move(i,o),this},_prepare:function(i){var e,r,n,o,l=this.index(i),a=l,h=this.dimension(i),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=this.options("center"),d={target:i,first:i,last:i,visible:i,fullyvisible:u>=h?i:t()};if(f&&(h/=2,u/=2),u>h)for(;;){if(e=this.items().eq(++a),0===e.length){if(!this.circular)break;if(e=this.items().eq(0),i.get(0)===e.get(0))break;if(r=this._visible.index(e)>=0,r&&e.after(e.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(e),!r){var _={};_[this.lt]=this.dimension(e),this.moveBy(_)}this._items=null}if(o=this.dimension(e),0===o)break;if(h+=o,d.last=e,d.visible=d.visible.add(e),n=s(e.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(e)),h>=u)break}if(!this.circular&&!f&&u>h)for(a=l;!(0>--a)&&(e=this.items().eq(a),0!==e.length)&&(o=this.dimension(e),0!==o)&&(h+=o,d.first=e,d.visible=d.visible.add(e),n=s(e.css("margin-"+c)),u>=h-n&&(d.fullyvisible=d.fullyvisible.add(e)),!(h>=u)););return this._update(d),this.tail=0,f||"circular"===this.options("wrap")||"custom"===this.options("wrap")||this.index(d.last)!==this.items().length-1||(h-=s(d.last.css("margin-"+c)),h>u&&(this.tail=h-u)),this},_position:function(t){var i=this._first,s=i.position()[this.lt],e=this.options("center"),r=e?this.clipping()/2-this.dimension(i)/2:0;return this.rtl&&!this.vertical?(s-=this.relative?this.list().width()-this.dimension(i):this.clipping()-this.dimension(i),s+=r):s-=r,!e&&(this.index(t)>this.index(i)||this.inTail)&&this.tail?(s=this.rtl&&!this.vertical?s-this.tail:s+this.tail,this.inTail=!0):this.inTail=!1,-s},_update:function(i){var s,e=this,r={target:this._target||t(),first:this._first||t(),last:this._last||t(),visible:this._visible||t(),fullyvisible:this._fullyvisible||t()},n=this.index(i.first||r.first)<this.index(r.first),o=function(s){var o=[],l=[];i[s].each(function(){0>r[s].index(this)&&o.push(this)}),r[s].each(function(){0>i[s].index(this)&&l.push(this)}),n?o=o.reverse():l=l.reverse(),e._trigger(s+"in",t(o)),e._trigger(s+"out",t(l)),e["_"+s]=i[s]};for(s in i)o(s);return this}})}(jQuery,window),function(t){"use strict";t.jcarousel.fn.scrollIntoView=function(i,s,e){var r,n=t.jCarousel.parseTarget(i),o=this.index(this._fullyvisible.first()),l=this.index(this._fullyvisible.last());if(r=n.relative?0>n.target?Math.max(0,o+n.target):l+n.target:"object"!=typeof n.target?n.target:this.index(n.target),o>r)return this.scroll(r,s,e);if(r>=o&&l>=r)return t.isFunction(e)&&e.call(this,!1),this;for(var a,h=this.items(),u=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",f=0;a=h.eq(r),0!==a.length;){if(f+=this.dimension(a),f>=u){var d=parseFloat(a.css("margin-"+c))||0;f-d!==u&&r++;break}if(0>=r)break;r--}return this.scroll(r,s,e)}}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onEvent=t.proxy(function(i){i.preventDefault();var s=this.options("method");t.isFunction(s)?s.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload),this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent),this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var i,s=t.jCarousel.parseTarget(this.options("target")),e=this.carousel();if(s.relative)i=e.jcarousel(s.target>0?"hasNext":"hasPrev");else{var r="object"!=typeof s.target?e.jcarousel("items").eq(s.target):s.target;i=e.jcarousel("target").index(r)>=0}return this._active!==i&&(this._trigger(i?"active":"inactive"),this._active=i),this}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(t){return'<a href="#'+t+'">'+t+"</a>"},event:"click",method:"scroll"},_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onReload=t.proxy(this._reload,this),this.onScroll=t.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll),this._reload()},_destroy:function(){this._clear(),this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll)},_reload:function(){var i=this.options("perPage");if(this._pages={},this._items={},t.isFunction(i)&&(i=i.call(this)),null==i)this._pages=this._calculatePages();else for(var s,e=parseInt(i,10)||0,r=this.carousel().jcarousel("items"),n=1,o=0;s=r.eq(o++),0!==s.length;)this._pages[n]=this._pages[n]?this._pages[n].add(s):s,0===o%e&&n++;this._clear();var l=this,a=this.carousel().data("jcarousel"),h=this._element,u=this.options("item");t.each(this._pages,function(i,s){var e=l._items[i]=t(u.call(l,i,s));e.on(l.options("event")+".jcarouselpagination",t.proxy(function(){var t=s.eq(0);if(a.circular){var e=a.index(a.target()),r=a.index(t);parseFloat(i)>parseFloat(l._currentPage)?e>r&&(t="+="+(a.items().length-e+r)):r>e&&(t="-="+(e+(a.items().length-r)))}a[this.options("method")](t)},l)),h.append(e)}),this._update()},_update:function(){var i,s=this.carousel().jcarousel("target");t.each(this._pages,function(t,e){return e.each(function(){return s.is(this)?(i=t,!1):void 0}),i?!1:void 0}),this._currentPage!==i&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[i])),this._currentPage=i},items:function(){return this._items},_clear:function(){this._element.empty(),this._currentPage=null},_calculatePages:function(){for(var t,i=this.carousel().data("jcarousel"),s=i.items(),e=i.clipping(),r=0,n=0,o=1,l={};t=s.eq(n++),0!==t.length;)l[o]=l[o]?l[o].add(t):t,r+=i.dimension(t),r>=e&&(o++,r=0);return l}})}(jQuery),function(t){"use strict";t.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=t.proxy(function(){this._destroy(),this.carousel().one("jcarousel:createend",t.proxy(this._create,this))},this),this.onAnimateEnd=t.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy),this.options("autostart")&&this.start()},_destroy:function(){this.stop(),this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){return this.stop(),this.carousel().one("jcarousel:animateend",this.onAnimateEnd),this._timer=setTimeout(t.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return 0==t?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return 0==t?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(1==(t/=d))return b+c;if(p||(p=.3*d),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(0==t)return b;if(2==(t/=d/2))return b+c;if(p||(p=d*(.3*1.5)),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return 1>t?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return void 0==s&&(s=1.70158),(t/=d/2)<1?c/2*(t*t*(((s*=1.525)+1)*t-s))+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*(7.5625*t*t)+b:2/2.75>t?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:2.5/2.75>t?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return d/2>t?.5*jQuery.easing.easeInBounce(x,2*t,0,c,d)+b:.5*jQuery.easing.easeOutBounce(x,2*t-d,0,c,d)+.5*c+b}}),/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */
function(a,b,c){function Z(c,d,e){var g=b.createElement(c);return d&&(g.id=f+d),e&&(g.style.cssText=e),a(g)}function $(a){var b=y.length,c=(Q+a)%b;return 0>c?b+c:c}function _(a,b){return Math.round((/%/.test(a)?("x"===b?z.width():z.height())/100:1)*parseInt(a,10))}function ba(a){return K.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(a)}function bb(){var b;K=a.extend({},a.data(P,e));for(b in K)a.isFunction(K[b])&&"on"!==b.slice(0,2)&&(K[b]=K[b].call(P));K.rel=K.rel||P.rel||"nofollow",K.href=K.href||a(P).attr("href"),K.title=K.title||P.title,"string"==typeof K.href&&(K.href=a.trim(K.href))}function bc(b,c){a.event.trigger(b),c&&c.call(P)}function bd(){var a,d,e,b=f+"Slideshow_",c="click."+f;K.slideshow&&y[1]?(d=function(){F.text(K.slideshowStop).unbind(c).bind(j,function(){(K.loop||y[Q+1])&&(a=setTimeout(W.next,K.slideshowSpeed))}).bind(i,function(){clearTimeout(a)}).one(c+" "+k,e),r.removeClass(b+"off").addClass(b+"on"),a=setTimeout(W.next,K.slideshowSpeed)},e=function(){clearTimeout(a),F.text(K.slideshowStart).unbind([j,i,k,c].join(" ")).one(c,function(){W.next(),d()}),r.removeClass(b+"on").addClass(b+"off")},K.slideshowAuto?d():e()):r.removeClass(b+"off "+b+"on")}function be(b){U||(P=b,bb(),y=a(P),Q=0,"nofollow"!==K.rel&&(y=a("."+g).filter(function(){var b=a.data(this,e).rel||this.rel;return b===K.rel}),Q=y.index(P),-1===Q&&(y=y.add(P),Q=y.length-1)),S||(S=T=!0,r.show(),K.returnFocus&&a(P).blur().one(l,function(){a(this).focus()}),q.css({opacity:+K.opacity,cursor:K.overlayClose?"pointer":"auto"}).show(),K.w=_(K.initialWidth,"x"),K.h=_(K.initialHeight,"y"),W.position(),o&&z.bind("resize."+p+" scroll."+p,function(){q.css({width:z.width(),height:z.height(),top:z.scrollTop(),left:z.scrollLeft()})}).trigger("resize."+p),bc(h,K.onOpen),J.add(D).hide(),I.html(K.close).show()),W.load(!0))}function bf(){!r&&b.body&&(Y=!1,z=a(c),r=Z(X).attr({id:e,"class":n?f+(o?"IE6":"IE"):""}).hide(),q=Z(X,"Overlay",o?"position:absolute":"").hide(),s=Z(X,"Wrapper"),t=Z(X,"Content").append(A=Z(X,"LoadedContent","width:0; height:0; overflow:hidden"),C=Z(X,"LoadingOverlay").add(Z(X,"LoadingGraphic")),D=Z(X,"Title"),E=Z(X,"Current"),G=Z(X,"Next"),H=Z(X,"Previous"),F=Z(X,"Slideshow").bind(h,bd),I=Z(X,"Close")),s.append(Z(X).append(Z(X,"TopLeft"),u=Z(X,"TopCenter"),Z(X,"TopRight")),Z(X,!1,"clear:left").append(v=Z(X,"MiddleLeft"),t,w=Z(X,"MiddleRight")),Z(X,!1,"clear:left").append(Z(X,"BottomLeft"),x=Z(X,"BottomCenter"),Z(X,"BottomRight"))).find("div div").css({"float":"left"}),B=Z(X,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),J=G.add(H).add(E).add(F),a(b.body).append(q,r.append(s,B)))}function bg(){return r?(Y||(Y=!0,L=u.height()+x.height()+t.outerHeight(!0)-t.height(),M=v.width()+w.width()+t.outerWidth(!0)-t.width(),N=A.outerHeight(!0),O=A.outerWidth(!0),r.css({"padding-bottom":L,"padding-right":M}),G.click(function(){W.next()}),H.click(function(){W.prev()}),I.click(function(){W.close()}),q.click(function(){K.overlayClose&&W.close()}),a(b).bind("keydown."+f,function(a){var b=a.keyCode;S&&K.escKey&&27===b&&(a.preventDefault(),W.close()),S&&K.arrowKey&&y[1]&&(37===b?(a.preventDefault(),H.click()):39===b&&(a.preventDefault(),G.click()))}),a("."+g,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),be(this))})),!0):!1}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,Y,d={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0},e="colorbox",f="cbox",g=f+"Element",h=f+"_open",i=f+"_load",j=f+"_complete",k=f+"_cleanup",l=f+"_closed",m=f+"_purge",n=!a.support.opacity&&!a.support.style,o=n&&!c.XMLHttpRequest,p=f+"_IE6",X="div";a.colorbox||(a(bf),W=a.fn[e]=a[e]=function(b,c){var f=this;if(b=b||{},bf(),bg()){if(!f[0]){if(f.selector)return f;f=a("<a/>"),b.open=!0}c&&(b.onComplete=c),f.each(function(){a.data(this,e,a.extend({},a.data(this,e)||d,b))}).addClass(g),(a.isFunction(b.open)&&b.open.call(f)||b.open)&&be(f[0])}return f},W.position=function(a,b){function i(a){u[0].style.width=x[0].style.width=t[0].style.width=a.style.width,t[0].style.height=v[0].style.height=w[0].style.height=a.style.height}var c=0,d=0,e=r.offset(),g=z.scrollTop(),h=z.scrollLeft();z.unbind("resize."+f),r.css({top:-9e4,left:-9e4}),K.fixed&&!o?(e.top-=g,e.left-=h,r.css({position:"fixed"})):(c=g,d=h,r.css({position:"absolute"})),d+=K.right!==!1?Math.max(z.width()-K.w-O-M-_(K.right,"x"),0):K.left!==!1?_(K.left,"x"):Math.round(Math.max(z.width()-K.w-O-M,0)/2),c+=K.bottom!==!1?Math.max(z.height()-K.h-N-L-_(K.bottom,"y"),0):K.top!==!1?_(K.top,"y"):Math.round(Math.max(z.height()-K.h-N-L,0)/2),r.css({top:e.top,left:e.left}),a=r.width()===K.w+O&&r.height()===K.h+N?0:a||0,s[0].style.width=s[0].style.height="9999px",r.dequeue().animate({width:K.w+O,height:K.h+N,top:c,left:d},{duration:a,complete:function(){i(this),T=!1,s[0].style.width=K.w+O+M+"px",s[0].style.height=K.h+N+L+"px",K.reposition&&setTimeout(function(){z.bind("resize."+f,W.position)},1),b&&b()},step:function(){i(this)}})},W.resize=function(a){S&&(a=a||{},a.width&&(K.w=_(a.width,"x")-O-M),a.innerWidth&&(K.w=_(a.innerWidth,"x")),A.css({width:K.w}),a.height&&(K.h=_(a.height,"y")-N-L),a.innerHeight&&(K.h=_(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(A.css({height:"auto"}),K.h=A.height()),A.css({height:K.h}),W.position("none"===K.transition?0:K.speed))},W.prep=function(b){function g(){return K.w=K.w||A.width(),K.w=K.mw&&K.mw<K.w?K.mw:K.w,K.w}function h(){return K.h=K.h||A.height(),K.h=K.mh&&K.mh<K.h?K.mh:K.h,K.h}if(S){var c,d="none"===K.transition?0:K.speed;A.remove(),A=Z(X,"LoadedContent").append(b),A.hide().appendTo(B.show()).css({width:g(),overflow:K.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(t),B.hide(),a(R).css({"float":"none"}),o&&a("select").not(r.find("select")).filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one(k,function(){this.style.visibility="inherit"}),c=function(){function q(){n&&r[0].style.removeAttribute("filter")}var b,c,h,l,o,p,g=y.length,i="frameBorder",k="allowTransparency";if(S){if(l=function(){clearTimeout(V),C.hide(),bc(j,K.onComplete)},n&&R&&A.fadeIn(100),D.html(K.title).add(A).show(),g>1){if("string"==typeof K.current&&E.html(K.current.replace("{current}",Q+1).replace("{total}",g)).show(),G[K.loop||g-1>Q?"show":"hide"]().html(K.next),H[K.loop||Q?"show":"hide"]().html(K.previous),K.slideshow&&F.show(),K.preloading)for(b=[$(-1),$(1)];c=y[b.pop()];)o=a.data(c,e).href||c.href,a.isFunction(o)&&(o=o.call(c)),ba(o)&&(p=new Image,p.src=o)}else J.hide();K.iframe?(h=Z("iframe")[0],i in h&&(h[i]=0),k in h&&(h[k]="true"),h.name=f+ +new Date,K.fastIframe?l():a(h).one("load",l),h.src=K.href,K.scrolling||(h.scrolling="no"),a(h).addClass(f+"Iframe").appendTo(A).one(m,function(){h.src="//about:blank"})):l(),"fade"===K.transition?r.fadeTo(d,1,q):q()}},"fade"===K.transition?r.fadeTo(d,0,function(){W.position(0,c)}):W.position(d,c)}},W.load=function(b){var c,d,e=W.prep;T=!0,R=!1,P=y[Q],b||bb(),bc(m),bc(i,K.onLoad),K.h=K.height?_(K.height,"y")-N-L:K.innerHeight&&_(K.innerHeight,"y"),K.w=K.width?_(K.width,"x")-O-M:K.innerWidth&&_(K.innerWidth,"x"),K.mw=K.w,K.mh=K.h,K.maxWidth&&(K.mw=_(K.maxWidth,"x")-O-M,K.mw=K.w&&K.w<K.mw?K.w:K.mw),K.maxHeight&&(K.mh=_(K.maxHeight,"y")-N-L,K.mh=K.h&&K.h<K.mh?K.h:K.mh),c=K.href,V=setTimeout(function(){C.show()},100),K.inline?(Z(X).hide().insertBefore(a(c)[0]).one(m,function(){a(this).replaceWith(A.children())}),e(a(c))):K.iframe?e(" "):K.html?e(K.html):ba(c)?(a(R=new Image).addClass(f+"Photo").error(function(){K.title=!1,e(Z(X,"Error").text("This image could not be loaded"))}).load(function(){var a;R.onload=null,K.scalePhotos&&(d=function(){R.height-=R.height*a,R.width-=R.width*a},K.mw&&R.width>K.mw&&(a=(R.width-K.mw)/R.width,d()),K.mh&&R.height>K.mh&&(a=(R.height-K.mh)/R.height,d())),K.h&&(R.style.marginTop=Math.max(K.h-R.height,0)/2+"px"),y[1]&&(K.loop||y[Q+1])&&(R.style.cursor="pointer",R.onclick=function(){W.next()}),n&&(R.style.msInterpolationMode="bicubic"),setTimeout(function(){e(R)},1)}),setTimeout(function(){R.src=c},1)):c&&B.load(c,K.data,function(b,c,d){e("error"===c?Z(X,"Error").text("Request unsuccessful: "+d.statusText):a(this).contents())})},W.next=function(){!T&&y[1]&&(K.loop||y[Q+1])&&(Q=$(1),W.load())},W.prev=function(){!T&&y[1]&&(K.loop||Q)&&(Q=$(-1),W.load())},W.close=function(){S&&!U&&(U=!0,S=!1,bc(k,K.onCleanup),z.unbind("."+f+" ."+p),q.fadeTo(200,0),r.stop().fadeTo(300,0,function(){r.add(q).css({opacity:1,cursor:"auto"}).hide(),bc(m),A.remove(),setTimeout(function(){U=!1,bc(l,K.onClosed)},1)}))},W.remove=function(){a([]).add(r).add(q).remove(),r=null,a("."+g).removeData(e).removeClass(g).die()},W.element=function(){return a(P)},W.settings=d)}(jQuery,document,this),function($){var allImages={},imageCounter=0;$.galleriffic={version:"2.0.1",normalizeHash:function(hash){return hash.replace(/^.*#/,"").replace(/\?.*$/,"")},getImage:function(hash){return hash?(hash=$.galleriffic.normalizeHash(hash),allImages[hash]):void 0},gotoImage:function(hash){var imageData=$.galleriffic.getImage(hash);if(!imageData)return!1;var gallery=imageData.gallery;return gallery.gotoImage(imageData),!0},removeImageByHash:function(hash,ownerGallery){var imageData=$.galleriffic.getImage(hash);if(!imageData)return!1;var gallery=imageData.gallery;return ownerGallery&&ownerGallery!=gallery?!1:gallery.removeImageByIndex(imageData.index)}};var defaults={delay:3e3,numThumbs:20,preloadAhead:40,enableTopPager:!1,enableBottomPager:!0,maxPagesToShow:7,imageContainerSel:"",captionContainerSel:"",controlsContainerSel:"",loadingContainerSel:"",renderSSControls:!0,renderNavControls:!0,playLinkText:"Play",pauseLinkText:"Pause",prevLinkText:"Previous",nextLinkText:"Next",nextPageLinkText:"Next &rsaquo;",prevPageLinkText:"&lsaquo; Prev",enableHistory:!1,enableKeyboardNavigation:!0,autoStart:!1,syncTransitions:!1,defaultTransitionDuration:1e3,onSlideChange:void 0,onTransitionOut:void 0,onTransitionIn:void 0,onPageTransitionOut:void 0,onPageTransitionIn:void 0,onImageAdded:void 0,onImageRemoved:void 0};$.fn.galleriffic=function(settings){$.extend(this,{version:$.galleriffic.version,isSlideshowRunning:!1,slideshowTimeout:void 0,clickHandler:function(e,link){if(this.pause(),!this.enableHistory){var hash=$.galleriffic.normalizeHash($(link).attr("href"));$.galleriffic.gotoImage(hash),e.preventDefault()}},appendImage:function(listItem){return this.addImage(listItem,!1,!1),this},insertImage:function(listItem,position){return this.addImage(listItem,!1,!0,position),this},addImage:function(listItem,thumbExists,insert,position){var $li="string"==typeof listItem?$(listItem):listItem,$aThumb=$li.find("a.thumb"),slideUrl=$aThumb.attr("href"),title=$aThumb.attr("title"),$caption=$li.find(".caption").remove(),hash=$aThumb.attr("name");imageCounter++,(!hash||allImages[""+hash])&&(hash=imageCounter),insert||(position=this.data.length);var imageData={title:title,slideUrl:slideUrl,caption:$caption,hash:hash,gallery:this,index:position};insert?(this.data.splice(position,0,imageData),this.updateIndices(position)):this.data.push(imageData);var gallery=this;return thumbExists||this.updateThumbs(function(){var $thumbsUl=gallery.find("ul.thumbs");insert?$thumbsUl.children(":eq("+position+")").before($li):$thumbsUl.append($li),gallery.onImageAdded&&gallery.onImageAdded(imageData,$li)}),allImages[""+hash]=imageData,$aThumb.attr("rel","history").attr("href","#"+hash).removeAttr("name").click(function(e){gallery.clickHandler(e,this)}),this},removeImageByIndex:function(index){if(0>index||index>=this.data.length)return!1;var imageData=this.data[index];return imageData?(this.removeImage(imageData),!0):!1},removeImageByHash:function(hash){return $.galleriffic.removeImageByHash(hash,this)},removeImage:function(imageData){var index=imageData.index;return this.data.splice(index,1),delete allImages[""+imageData.hash],this.updateThumbs(function(){var $li=gallery.find("ul.thumbs").children(":eq("+index+")").remove();gallery.onImageRemoved&&gallery.onImageRemoved(imageData,$li)}),this.updateIndices(index),this},updateIndices:function(startIndex){for(i=startIndex;i<this.data.length;i++)this.data[i].index=i;return this},initializeThumbs:function(){this.data=[];var gallery=this;return this.find("ul.thumbs > li").each(function(i){gallery.addImage($(this),!0,!1)}),this},isPreloadComplete:!1,preloadInit:function(){if(0==this.preloadAhead)return this;this.preloadStartIndex=this.currentImage.index;var nextIndex=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,nextIndex)},preloadRelocate:function(index){return this.preloadStartIndex=index,this},preloadRecursive:function(startIndex,currentIndex){if(startIndex!=this.preloadStartIndex){var nextIndex=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,nextIndex)}var gallery=this,preloadCount=currentIndex-startIndex;if(0>preloadCount&&(preloadCount=this.data.length-1-startIndex+currentIndex),this.preloadAhead>=0&&preloadCount>this.preloadAhead)return setTimeout(function(){gallery.preloadRecursive(startIndex,currentIndex)},500),this;var imageData=this.data[currentIndex];if(!imageData)return this;if(imageData.image)return this.preloadNext(startIndex,currentIndex);var image=new Image;return image.onload=function(){imageData.image=this,gallery.preloadNext(startIndex,currentIndex)},image.alt=imageData.title,image.src=imageData.slideUrl,this},preloadNext:function(startIndex,currentIndex){var nextIndex=this.getNextIndex(currentIndex);if(nextIndex==startIndex)this.isPreloadComplete=!0;else{var gallery=this;setTimeout(function(){gallery.preloadRecursive(startIndex,nextIndex)},100)}return this},getNextIndex:function(index){var nextIndex=index+1;return nextIndex>=this.data.length&&(nextIndex=0),nextIndex},getPrevIndex:function(index){var prevIndex=index-1;return 0>prevIndex&&(prevIndex=this.data.length-1),prevIndex},pause:function(){return this.isSlideshowRunning=!1,this.slideshowTimeout&&(clearTimeout(this.slideshowTimeout),this.slideshowTimeout=void 0),this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("play").attr("title",this.playLinkText).attr("href","#play").html(this.playLinkText),this},play:function(){if(this.isSlideshowRunning=!0,this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("pause").attr("title",this.pauseLinkText).attr("href","#pause").html(this.pauseLinkText),!this.slideshowTimeout){var gallery=this;this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)}return this},toggleSlideshow:function(){return this.isSlideshowRunning?this.pause():this.play(),this},ssAdvance:function(){return this.isSlideshowRunning&&this.next(!0),this},next:function(dontPause,bypassHistory){return this.gotoIndex(this.getNextIndex(this.currentImage.index),dontPause,bypassHistory),this},previous:function(dontPause,bypassHistory){return this.gotoIndex(this.getPrevIndex(this.currentImage.index),dontPause,bypassHistory),this},nextPage:function(dontPause,bypassHistory){var page=this.getCurrentPage(),lastPage=this.getNumPages()-1;if(lastPage>page){var startIndex=page*this.numThumbs,nextPage=startIndex+this.numThumbs;this.gotoIndex(nextPage,dontPause,bypassHistory)}return this},previousPage:function(dontPause,bypassHistory){var page=this.getCurrentPage();if(page>0){var startIndex=page*this.numThumbs,prevPage=startIndex-this.numThumbs;this.gotoIndex(prevPage,dontPause,bypassHistory)}return this},gotoIndex:function(index,dontPause,bypassHistory){dontPause||this.pause(),0>index?index=0:index>=this.data.length&&(index=this.data.length-1);var imageData=this.data[index];return!bypassHistory&&this.enableHistory?$.historyLoad(String(imageData.hash)):this.gotoImage(imageData),this},gotoImage:function(imageData){var index=imageData.index;return this.onSlideChange&&this.onSlideChange(this.currentImage.index,index),this.currentImage=imageData,this.preloadRelocate(index),this.refresh(),this},getDefaultTransitionDuration:function(isSync){return isSync?this.defaultTransitionDuration:this.defaultTransitionDuration/2},refresh:function(){var imageData=this.currentImage;if(!imageData)return this;var index=imageData.index;this.$controlsContainer&&this.$controlsContainer.find("div.nav-controls a.prev").attr("href","#"+this.data[this.getPrevIndex(index)].hash).end().find("div.nav-controls a.next").attr("href","#"+this.data[this.getNextIndex(index)].hash);var previousSlide=this.$imageContainer.find("span.current").addClass("previous").removeClass("current"),previousCaption=0;this.$captionContainer&&(previousCaption=this.$captionContainer.find("span.current").addClass("previous").removeClass("current"));var isSync=this.syncTransitions&&imageData.image,isTransitioning=!0,gallery=this,transitionOutCallback=function(){isTransitioning=!1,previousSlide.remove(),previousCaption&&previousCaption.remove(),isSync||(imageData.image&&imageData.hash==gallery.data[gallery.currentImage.index].hash?gallery.buildImage(imageData,isSync):gallery.$loadingContainer&&gallery.$loadingContainer.show())};if(0==previousSlide.length?transitionOutCallback():this.onTransitionOut?this.onTransitionOut(previousSlide,previousCaption,isSync,transitionOutCallback):(previousSlide.fadeTo(this.getDefaultTransitionDuration(isSync),0,transitionOutCallback),previousCaption&&previousCaption.fadeTo(this.getDefaultTransitionDuration(isSync),0)),isSync&&this.buildImage(imageData,isSync),!imageData.image){var image=new Image;image.onload=function(){imageData.image=this,isTransitioning||imageData.hash!=gallery.data[gallery.currentImage.index].hash||gallery.buildImage(imageData,isSync)},image.alt=imageData.title,image.src=imageData.slideUrl}return this.relocatePreload=!0,this.syncThumbs()},buildImage:function(imageData,isSync){var gallery=this,nextIndex=this.getNextIndex(imageData.index);this.$imageContainer.empty(),$(this.captionContainerSel).empty();var newSlide=this.$imageContainer.append('<span class="image-wrapper current"><a class="advance-link" rel="history" href="#'+this.data[nextIndex].hash+'" title="'+imageData.title+'"></a></span>').find("span.current").css("opacity","0");newSlide.find("a").append(imageData.image).click(function(e){gallery.clickHandler(e,this)});var newCaption=0;return this.$captionContainer&&(newCaption=this.$captionContainer.append('<span class="image-caption current"></span>').find("span.current").css("opacity","0").append(imageData.caption)),this.$loadingContainer&&this.$loadingContainer.hide(),this.onTransitionIn?this.onTransitionIn(newSlide,newCaption,isSync):(newSlide.fadeTo(this.getDefaultTransitionDuration(isSync),1),newCaption&&newCaption.fadeTo(this.getDefaultTransitionDuration(isSync),1)),this.isSlideshowRunning&&(this.slideshowTimeout&&clearTimeout(this.slideshowTimeout),this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)),this},getCurrentPage:function(){return Math.floor(this.currentImage.index/this.numThumbs)},syncThumbs:function(){var page=this.getCurrentPage();page!=this.displayedPage&&this.updateThumbs();var $thumbs=this.find("ul.thumbs").children();return $thumbs.filter(".selected").removeClass("selected"),$thumbs.eq(this.currentImage.index).addClass("selected"),this},updateThumbs:function(postTransitionOutHandler){var gallery=this,transitionOutCallback=function(){postTransitionOutHandler&&postTransitionOutHandler(),gallery.rebuildThumbs(),gallery.onPageTransitionIn?gallery.onPageTransitionIn():gallery.show()};return this.onPageTransitionOut?this.onPageTransitionOut(transitionOutCallback):(this.hide(),transitionOutCallback()),this},rebuildThumbs:function(){var needsPagination=this.data.length>this.numThumbs;if(this.enableTopPager){var $topPager=this.find("div.top");0==$topPager.length?$topPager=this.prepend('<div class="top pagination"></div>').find("div.top"):$topPager.empty(),needsPagination&&this.buildPager($topPager)}if(this.enableBottomPager){var $bottomPager=this.find("div.bottom");0==$bottomPager.length?$bottomPager=this.append('<div class="bottom pagination"></div>').find("div.bottom"):$bottomPager.empty(),needsPagination&&this.buildPager($bottomPager)}var page=this.getCurrentPage(),startIndex=page*this.numThumbs,stopIndex=startIndex+this.numThumbs-1;stopIndex>=this.data.length&&(stopIndex=this.data.length-1);var $thumbsUl=this.find("ul.thumbs");return $thumbsUl.find("li").each(function(i){var $li=$(this);i>=startIndex&&stopIndex>=i?$li.show():$li.hide()}),this.displayedPage=page,$thumbsUl.removeClass("noscript"),this},getNumPages:function(){return Math.ceil(this.data.length/this.numThumbs)},buildPager:function(pager){var gallery=this,numPages=this.getNumPages(),page=this.getCurrentPage(),startIndex=page*this.numThumbs,pagesRemaining=this.maxPagesToShow-1,pageNum=page-Math.floor((this.maxPagesToShow-1)/2)+1;if(pageNum>0){var remainingPageCount=numPages-pageNum;pagesRemaining>remainingPageCount&&(pageNum-=pagesRemaining-remainingPageCount)}if(0>pageNum&&(pageNum=0),page>0){var prevPage=startIndex-this.numThumbs;pager.append('<a rel="history" href="#'+this.data[prevPage].hash+'" title="'+this.prevPageLinkText+'">'+this.prevPageLinkText+"</a>")}for(pageNum>0&&(this.buildPageLink(pager,0,numPages),pageNum>1&&pager.append('<span class="ellipsis">&hellip;</span>'),pagesRemaining--);pagesRemaining>0;)this.buildPageLink(pager,pageNum,numPages),pagesRemaining--,pageNum++;if(numPages>pageNum){var lastPageNum=numPages-1;lastPageNum>pageNum&&pager.append('<span class="ellipsis">&hellip;</span>'),this.buildPageLink(pager,lastPageNum,numPages)}var nextPage=startIndex+this.numThumbs;return nextPage<this.data.length&&pager.append('<a rel="history" href="#'+this.data[nextPage].hash+'" title="'+this.nextPageLinkText+'">'+this.nextPageLinkText+"</a>"),pager.find("a").click(function(e){gallery.clickHandler(e,this)}),this},buildPageLink:function(pager,pageNum,numPages){var pageLabel=pageNum+1,currentPage=this.getCurrentPage();if(pageNum==currentPage)pager.append('<span class="current">'+pageLabel+"</span>");else if(numPages>pageNum){var imageIndex=pageNum*this.numThumbs;pager.append('<a rel="history" href="#'+this.data[imageIndex].hash+'" title="'+pageLabel+'">'+pageLabel+"</a>")}return this}}),$.extend(this,defaults,settings),this.enableHistory&&!$.historyInit&&(this.enableHistory=!1),this.imageContainerSel&&(this.$imageContainer=$(this.imageContainerSel)),this.captionContainerSel&&(this.$captionContainer=$(this.captionContainerSel)),this.loadingContainerSel&&(this.$loadingContainer=$(this.loadingContainerSel)),this.initializeThumbs(),this.maxPagesToShow<3&&(this.maxPagesToShow=3),this.displayedPage=-1,this.currentImage=this.data[0];var gallery=this;this.$loadingContainer&&this.$loadingContainer.hide(),this.controlsContainerSel&&(this.$controlsContainer=$(this.controlsContainerSel).empty(),this.renderSSControls&&(this.autoStart?this.$controlsContainer.append('<div class="ss-controls"><a href="#pause" class="pause" title="'+this.pauseLinkText+'">'+this.pauseLinkText+"</a></div>"):this.$controlsContainer.append('<div class="ss-controls"><a href="#play" class="play" title="'+this.playLinkText+'">'+this.playLinkText+"</a></div>"),this.$controlsContainer.find("div.ss-controls a").click(function(e){return gallery.toggleSlideshow(),e.preventDefault(),!1})),this.renderNavControls&&this.$controlsContainer.append('<div class="nav-controls"><a class="prev" rel="history" title="'+this.prevLinkText+'">'+this.prevLinkText+'</a><a class="next" rel="history" title="'+this.nextLinkText+'">'+this.nextLinkText+"</a></div>").find("div.nav-controls a").click(function(e){gallery.clickHandler(e,this)}));var initFirstImage=!this.enableHistory||!location.hash;if(this.enableHistory&&location.hash){var hash=$.galleriffic.normalizeHash(location.hash),imageData=allImages[hash];imageData||(initFirstImage=!0)}return initFirstImage&&this.gotoIndex(0,!1,!0),this.enableKeyboardNavigation&&$(document).keydown(function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0;switch(key){case 32:gallery.next(),e.preventDefault();break;case 33:gallery.previousPage(),e.preventDefault();break;case 34:gallery.nextPage(),e.preventDefault();break;case 35:gallery.gotoIndex(gallery.data.length-1),e.preventDefault();break;case 36:gallery.gotoIndex(0),e.preventDefault();break;case 37:gallery.previous(),e.preventDefault();break;case 39:gallery.next(),e.preventDefault()}}),this.autoStart&&this.play(),setTimeout(function(){gallery.preloadInit()},1e3),this}}(jQuery),/*
 * jQuery history plugin
 * 
 * sample page: http://www.mikage.to/jquery/jquery_history.html
 *
 * Copyright (c) 2006-2009 Taku Sano (Mikage Sawatari)
 * Licensed under the MIT License:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Modified by Lincoln Cooper to add Safari support and only call the callback once during initialization
 * for msie when no initial hash supplied.
 */
jQuery.extend({historyCurrentHash:void 0,historyCallback:void 0,historyIframeSrc:void 0,historyInit:function(callback,src){jQuery.historyCallback=callback,src&&(jQuery.historyIframeSrc=src);var current_hash=location.hash.replace(/\?.*$/,"");if(jQuery.historyCurrentHash=current_hash,jQuery.browser.msie){""==jQuery.historyCurrentHash&&(jQuery.historyCurrentHash="#"),jQuery("body").prepend('<iframe id="jQuery_history" style="display: none;"'+(jQuery.historyIframeSrc?' src="'+jQuery.historyIframeSrc+'"':"")+"></iframe>");var ihistory=jQuery("#jQuery_history")[0],iframe=ihistory.contentWindow.document;iframe.open(),iframe.close(),iframe.location.hash=current_hash}else jQuery.browser.safari&&(jQuery.historyBackStack=[],jQuery.historyBackStack.length=history.length,jQuery.historyForwardStack=[],jQuery.lastHistoryLength=history.length,jQuery.isFirst=!0);current_hash&&jQuery.historyCallback(current_hash.replace(/^#/,"")),setInterval(jQuery.historyCheck,100)},historyAddHistory:function(hash){jQuery.historyBackStack.push(hash),jQuery.historyForwardStack.length=0,this.isFirst=!0},historyCheck:function(){if(jQuery.browser.msie){var ihistory=jQuery("#jQuery_history")[0],iframe=ihistory.contentDocument||ihistory.contentWindow.document,current_hash=iframe.location.hash.replace(/\?.*$/,"");current_hash!=jQuery.historyCurrentHash&&(location.hash=current_hash,jQuery.historyCurrentHash=current_hash,jQuery.historyCallback(current_hash.replace(/^#/,"")))}else if(jQuery.browser.safari){if(jQuery.lastHistoryLength==history.length&&jQuery.historyBackStack.length>jQuery.lastHistoryLength&&jQuery.historyBackStack.shift(),!jQuery.dontCheck){var historyDelta=history.length-jQuery.historyBackStack.length;if(jQuery.lastHistoryLength=history.length,historyDelta){if(jQuery.isFirst=!1,0>historyDelta)for(var i=0;i<Math.abs(historyDelta);i++)jQuery.historyForwardStack.unshift(jQuery.historyBackStack.pop());else for(var i=0;historyDelta>i;i++)jQuery.historyBackStack.push(jQuery.historyForwardStack.shift());var cachedHash=jQuery.historyBackStack[jQuery.historyBackStack.length-1];void 0!=cachedHash&&(jQuery.historyCurrentHash=location.hash.replace(/\?.*$/,""),jQuery.historyCallback(cachedHash))}else if(void 0==jQuery.historyBackStack[jQuery.historyBackStack.length-1]&&!jQuery.isFirst){if(location.hash){var current_hash=location.hash;jQuery.historyCallback(location.hash.replace(/^#/,""))}else{var current_hash="";jQuery.historyCallback("")}jQuery.isFirst=!0}}}else{var current_hash=location.hash.replace(/\?.*$/,"");current_hash!=jQuery.historyCurrentHash&&(jQuery.historyCurrentHash=current_hash,jQuery.historyCallback(current_hash.replace(/^#/,"")))}},historyLoad:function(hash){var newhash;if(hash=decodeURIComponent(hash.replace(/\?.*$/,"")),jQuery.browser.safari?newhash=hash:(newhash="#"+hash,location.hash=newhash),jQuery.historyCurrentHash=newhash,jQuery.browser.msie){var ihistory=jQuery("#jQuery_history")[0],iframe=ihistory.contentWindow.document;iframe.open(),iframe.close(),iframe.location.hash=newhash,jQuery.lastHistoryLength=history.length,jQuery.historyCallback(hash)}else if(jQuery.browser.safari){jQuery.dontCheck=!0,this.historyAddHistory(hash);var fn=function(){jQuery.dontCheck=!1};window.setTimeout(fn,200),jQuery.historyCallback(hash),location.hash=newhash}else jQuery.historyCallback(hash)}}),function($){$.fn.socialtools=function(settings){var htmlTag=$("html"),bodyTag=$("body"),fbEl=document.createElement("div"),fbElId="fb-root";"http://ogp.me/ns/fb#"!==htmlTag.attr("xmlns:og")&&htmlTag.attr({"xmlns:og":"http://ogp.me/ns#","xmlns:fb":"http://ogp.me/ns/fb#"}),$("#"+fbElId).length||(fbEl.setAttribute("id",fbElId),bodyTag.append(fbEl)),$(this).each(function(){var uniqueUrl,container=$(this),fb=settings.facebookType||"like",fbId=settings.facebookId,fbUrl=settings.facebookUrl,twittype=settings.twitterType,twitter=settings.twitterHandle,twitterList=settings.twitterList,twitterwidgetID=settings.twitterwidgetID,twitterTheme=settings.twitterTheme,moduleWidth=settings.moduleWidth,twitterFollowers=(settings.moduleHeight,settings.twitterFollowers||!1),buttonAlign=settings.buttonAlign||"right",fbShowBorder=settings.fbShowBorder||!1,fbBorder=settings.fbBorder||"#fff",fbColorScheme=settings.fbColorScheme,twitterlinkColor=settings.twitterlinkColor,fbhtml="",twitterhtml="",meta=void 0==settings.meta?!0:new Boolean(settings.meta);if(uniqueUrl=void 0===AFL.Properties.global.video?!1:AFL.Properties.global.video,uniqueUrl===!1&&$("script").each(function(){var vidUrl="";$(this).is(":contains(AFL.Properties.global.video)")&&(vidUrl=$(this).html().split("=")[1].trim(),vidUrl=vidUrl.substring(1,vidUrl.length-2),uniqueUrl===!1&&(uniqueUrl=vidUrl))}),container.hasClass("recommend")&&(fb="recommend"),"undefined"!=typeof fbId||"undefined"!=typeof fbUrl){var fbMeta=$('head meta[property="fb:app_id"]').attr("content");"pagelike"!==fb&&"undefined"!=typeof fbMeta&&meta===!0&&(fbId=fbMeta),uniqueUrl!==!1&&(fbUrl=uniqueUrl),function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/en_US/all.js#xfbml=1' ",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk"),"like"===fb?fbhtml='<li id="sharingToolsFacebookLike"><div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false" data-font="arial"></div></li>':"share"===fb?fbhtml='<li><div class="fb-share-button" data-href="'+window.location.href+'" data-layout="button_count" data-font="arial"></div></li>':"recommend"===fb?fbhtml='<li id="sharingToolsFacebookRecommend"><div class="fb-like" data-send="false" data-layout="button_count" data-width="130" data-show-faces="false" data-action="recommend" data-font="arial"></div></li>':"recommendations"===fb?(container.addClass("fb-recommend"),fbhtml='<div data-header="false" data-height="200" data-border="none"',"undefined"!=typeof fbUrl&&(fbhtml=fbhtml+' data-site="'+fbUrl+'"'),"undefined"!=typeof fbBorder&&(fbhtml=fbhtml+' data-border-color="'+fbBorder+'"'),"undefined"!=typeof fbColorScheme&&(fbhtml=fbhtml+' data-colorscheme="'+fbColorScheme+'"'),"undefined"!=typeof moduleWidth&&(fbhtml=fbhtml+' data-width="'+moduleWidth+'px"'),fbhtml+=' class="fb-recommendations"></div>'):"pagelike"===fb?fbhtml='<div class="fb-like-box" data-href="http://www.facebook.com/'+fbId+'" data-width="292" data-show-faces="false" data-stream="false" data-header="false"></div>':"newsfeed"===fb?(fbhtml='<div class="fb-like-box" data-href="http://www.facebook.com/'+fbId+'" data-show-faces="false" data-stream="true" data-header="false"',"undefined"!=typeof moduleWidth&&(fbhtml=fbhtml+' data-width="'+moduleWidth+'px"'),"undefined"!=typeof fbShowBorder&&(fbhtml=fbhtml+' data-show-border="'+fbBorder+'"'),fbhtml+="></div>"):"pagelikeafl"===fb?fbhtml='<fb:like href="http://facebook.com/'+fbId+'" send="false" layout="button_count" width="90" show_faces="false" font="arial"></fb:like>':"module"===fb?fbhtml="":console.log('facebookType must be explicitly set to either "like", "share", "recommend", "recommendations", "pagelike" or "module"')}if("undefined"!=typeof twitter||"undefined"!=typeof twittype){var twitterSettings={type:"profile",rpp:3,width:300,height:165,shellbg:"#FFF",shellcolor:"#000",tweetbg:"#FFF",tweetcolor:"#000",tweetlinks:"#1570ad",text:""};if(void 0!=settings.twitterSettings)for(var t in twitterSettings)"undefined"!=settings.twitterSettings[t]&&void 0!=settings.twitterSettings[t]&&""!=settings.twitterSettings[t]&&(twitterSettings[t]=settings.twitterSettings[t]);if("undefined"!=typeof twitterList||"profile"===twittype)!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?"http":"https";d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src=p+"://platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs))}(document,"script","twitter-wjs"),""!=container.attr("id")?(twitterhtml='<li><a class="twitter-timeline" height="225" href="https://twitter.com/'+twitter+'"',twitterhtml=twitterhtml+' width="'+moduleWidth+'"',twitterhtml=twitterhtml+' data-widget-id="'+twitterwidgetID+'"',""!==twitterTheme&&(twitterhtml=twitterhtml+' data-theme="'+twitterTheme+'"'),""!==twitterlinkColor&&(twitterhtml=twitterhtml+' data-link-color="'+twitterlinkColor+'"'),twitterhtml+=' data-chrome="noheader nofooter"',twitterhtml+=">",twitterhtml=twitterhtml+"Tweets by @"+twitter,twitterhtml+="</a></li>"):console.log("The targetted element for Twitter output must be unique - there are currently "+container.length+" matched objects.");else if("undefined"!=typeof twittype)if(!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?"http":"https";d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src=p+"://platform.twitter.com/widgets.js",fjs.parentNode.insertBefore(js,fjs))}(document,"script","twitter-wjs"),"tweetButton"==twittype){text=$("title").text();var match=text.match(/^(.+)\s+-\s+([^-]+)$/);null!==match&&(text=match[1]),twitterhtml='<li><a href="https://twitter.com/share"',"undefined"!==twitter&&(twitterhtml=twitterhtml+' data-via="'+twitter+'"'),uniqueUrl!==!1&&(twitterhtml=twitterhtml+' data-url="'+uniqueUrl+'"'),twitterhtml=twitterhtml+' data-text="'+text+'"',twitterhtml+=' data-count="horizontal"',twitterhtml+=' class="twitter-share-button"',twitterhtml+=">",twitterhtml+="",twitterhtml+="</a></li>"}else"followButton"==twittype&&(twitterhtml='<li><a href="https://twitter.com/',"undefined"!==twitter&&(twitterhtml=twitterhtml+""+twitter+'"'),twitterhtml=twitterhtml+' data-align="'+buttonAlign+'"',twitterhtml+=' class="twitter-follow-button"',twitterhtml=twitterhtml+' data-show-count="'+twitterFollowers+'"',twitterhtml+=">",twitterhtml=twitterhtml+"Follow @"+twitter,twitterhtml+="</a></li>")}container.append('<ul class="sharingTools">'+fbhtml+twitterhtml+"</ul>")})};var requestUrl=document.URL;requestUrl.match(/.*[m].afl.com.au/)||$.ajaxSetup({cache:!0})}(jQuery),function($){"use strict";$.fn.initSlideshow=function(settings){var containerWidth,containerHeight,slidesEl,slideDuration=6e3,pauseDuration=3e5-slideDuration,config={mobile:!1};$.extend(config,settings),$(this).each(function(){if(slidesEl=$(this),config.mobile===!0?(containerWidth=320,containerHeight=178):(containerWidth=620,containerHeight=370),slidesEl.slides({width:containerWidth,height:containerHeight,navigation:config.mobile,slide:{interval:350,easing:"easeOutQuad"},preload:{active:!1,image:"/static-resources/themes/common/images/loading.gif"},play:{auto:!0,interval:slideDuration,restartDelay:pauseDuration},callback:{loaded:function(){$(".caption",slidesEl).animate(200),config.mobile===!0&&$(".slidesPrevious, .slidesNext, .slidesPagination").wrapAll('<div class="slideswrap" />'),setTimeout(function(){slidesEl.slides("play")},slideDuration)}}}),slidesEl.hasClass("tabbed-titles")===!0){var link,order,title,slideWidth,tabbedSlideItem=$(".slidesPagination li",slidesEl);tabbedSlideItem.each(function(){link=$(this).find("a"),order=link.attr("data-slidesindex"),title=slidesEl.find(".slidesControl").find(".slide:eq("+order+")").attr("data-short-title"),link.text(title)}),$(".slidesPrevious, .slidesNext",slidesEl).hide(),slideWidth=slidesEl.width()/tabbedSlideItem.length-21,tabbedSlideItem.find("a").css("width",slideWidth+"px")}})}}(jQuery),function($){$(function(){function setButtonState(gallery){var prevPageLink=gallery.find("a.prev").show().addClass("disabled"),nextPageLink=gallery.find("a.next").show().addClass("disabled"),lastPage=gallery.getNumPages()-1;gallery.displayedPage>0&&prevPageLink.removeClass("disabled"),gallery.displayedPage<lastPage&&nextPageLink.removeClass("disabled")}function pageload(hash){hash?$.galleriffic.gotoImage(hash):gallery.gotoIndex(0)}var gallery,galleriesView=$(".galleries-view"),galleryThumbs=$("#gallery-thumbs"),numThumbs=6;galleriesView.length&&galleryThumbs.length&&($("#gallery-thumbs").removeClass("grid-view"),$(".all-photos").show(),$("#gallery-loading").show(),gallery=$("#gallery-thumbs").galleriffic({delay:2500,numThumbs:numThumbs,preloadAhead:36,enableTopPager:!1,enableBottomPager:!1,maxPagesToShow:9,imageContainerSel:"#gallery-slideshow",controlsContainerSel:"#controls",captionContainerSel:"#gallery-caption",loadingContainerSel:"#gallery-loading",renderSSControls:!1,renderNavControls:!0,prevLinkText:"",nextLinkText:"",syncTransitions:!1,enableHistory:!0,enableKeyboardNavigation:!1,defaultTransitionDuration:900,onSlideChange:function(prevIndex,nextIndex){$("div#gallery-controls span.counter").html(nextIndex+1+" of "+this.data.length)},onTransitionIn:function(slide){$("#gallery-controls").show(),$("#gallery-slideshow").show(),$("#gallery-caption").show(),$("#gallery-tools").show(),$(".all-photos").show(),$("#gallery-thumbs").removeClass("grid-view"),gallery.numThumbs=numThumbs,gallery.rebuildThumbs(),setButtonState(this);var slidewidth=slide.find("img").width();$(".image-caption p").width(slidewidth),$(".image-caption p").fadeTo("slow",1),slide.fadeTo("fast",1),$("#gallery-loading").hide(),$("#gallery-loading").css("z-index","-99")},onTransitionOut:function(slide,caption,isSync,callback){slide.fadeTo("fast",0,callback),$(".image-caption p").fadeTo("fast",0)},onPageTransitionIn:function(){setButtonState(this),this.fadeTo("fast",1)}}),$(".all-photos").click(function(){return $("#gallery-controls").hide(),$("#gallery-slideshow").hide(),$("#gallery-caption").hide(),$("#gallery-tools").hide(),$(".all-photos").hide(),$("#gallery-thumbs").addClass("grid-view"),gallery.numThumbs=gallery.data.length,gallery.rebuildThumbs(),!1}),gallery.find("a.prev").click(function(e){gallery.previousPage(),e.preventDefault()}),gallery.find("a.next").click(function(e){gallery.nextPage(),e.preventDefault()}),$.historyInit(pageload,"advanced.html"),$("a[rel='history']").live("click",function(e){if(0!=e.button)return!0;var hash=this.href;return hash=hash.replace(/^.*#/,""),$.historyLoad(hash),!1}))})}(jQuery),
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
function(a){var h,i,b="0.4.0",c="hasOwnProperty",d=/[\.\/]/,e="*",f=function(){},g=function(a,b){return a-b},j={n:{}},k=function(a,b){var n,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,o=[],p={},q=[];h=a,i=0;for(var s=0,t=f.length;t>s;s++)"zIndex"in f[s]&&(o.push(f[s].zIndex),f[s].zIndex<0&&(p[f[s].zIndex]=f[s]));for(o.sort(g);o[l]<0;)if(n=p[o[l++]],q.push(n.apply(b,e)),i)return i=d,q;for(s=0;t>s;s++)if(n=f[s],"zIndex"in n)if(n.zIndex==o[l]){if(q.push(n.apply(b,e)),i)return i=d,q;do if(l++,n=p[o[l]],n&&q.push(n.apply(b,e)),i)return i=d,q;while(n)}else p[n.zIndex]=n;else if(q.push(n.apply(b,e)),i)return i=d,q;return i=d,q.length?q:null};k.listeners=function(a){var f,g,h,i,k,l,m,n,b=a.split(d),c=j,o=[c],p=[];for(i=0,k=b.length;k>i;i++){for(n=[],l=0,m=o.length;m>l;l++)for(c=o[l].n,g=[c[b[i]],c[e]],h=2;h--;)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]));o=n}return p},k.on=function(a,b){for(var c=a.split(d),e=j,g=0,h=c.length;h>g;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];for(e.f=e.f||[],g=0,h=e.f.length;h>g;g++)if(e.f[g]==b)return f;return e.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(h):h},k.unbind=function(a,b){var g,h,i,k,l,m,n,f=a.split(d),o=[j];for(k=0,l=f.length;l>k;k++)for(m=0;m<o.length;m+=i.length-2){if(i=[m,1],g=o[m].n,f[k]!=e)g[f[k]]&&i.push(g[f[k]]);else for(h in g)g[c](h)&&i.push(g[h]);o.splice.apply(o,i)}for(k=0,l=o.length;l>k;k++)for(g=o[k];g.n;){if(b){if(g.f){for(m=0,n=g.f.length;n>m;m++)if(g.f[m]==b){g.f.splice(m,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){var p=g.n[h].f;for(m=0,n=p.length;n>m;m++)if(p[m]==b){p.splice(m,1);break}!p.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}},k.once=function(a,b){var c=function(){b.apply(this,arguments),k.unbind(a,c)};return k.on(a,c)},k.version=b,k.toString=function(){return"You are running Eve "+b},"undefined"!=typeof module&&module.exports?module.exports=k:a.eve=k}(this),function(){function cr(b,d,e,f,h,i){e=Q(e);var j,k,l,o,p,q,t=b.ms,u={},v={},w={};if(f)for(y=0,z=cl.length;z>y;y++){var x=cl[y];if(x.el.id==d.id&&x.anim==b){x.percent!=e?(cl.splice(y,1),l=1):k=x,d.attr(x.totalOrigin);break}}else f=+v;for(var y=0,z=b.percents.length;z>y;y++){if(b.percents[y]==e||b.percents[y]>f*b.top){e=b.percents[y],p=b.percents[y-1]||0,t=t/b.top*(e-p),o=b.percents[y+1],j=b.anim[e];break}f&&d.attr(b.anim[b.percents[y]])}if(j){if(k)k.initstatus=f,k.start=new Date-k.ms*f;else{for(var A in j)if(j[g](A)&&(U[g](A)||d.paper.customAttributes[g](A)))switch(u[A]=d.attr(A),null==u[A]&&(u[A]=T[A]),v[A]=j[A],U[A]){case C:w[A]=(v[A]-u[A])/t;break;case"colour":u[A]=a.getRGB(u[A]);var B=a.getRGB(v[A]);w[A]={r:(B.r-u[A].r)/t,g:(B.g-u[A].g)/t,b:(B.b-u[A].b)/t};break;case"path":var D=bG(u[A],v[A]),E=D[1];for(u[A]=D[0],w[A]=[],y=0,z=u[A].length;z>y;y++){w[A][y]=[0];for(var F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(E[y][F]-u[A][y][F])/t}break;case"transform":var H=d._,I=bP(H[A],v[A]);if(I)for(u[A]=I.from,v[A]=I.to,w[A]=[],w[A].real=!0,y=0,z=u[A].length;z>y;y++)for(w[A][y]=[u[A][y][0]],F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(v[A][y][F]-u[A][y][F])/t;else{var J=d.matrix||new bQ,K={_:{transform:H.transform},getBBox:function(){return d.getBBox(1)}};u[A]=[J.a,J.b,J.c,J.d,J.e,J.f],bN(K,v[A]),v[A]=K._.transform,w[A]=[(K.matrix.a-J.a)/t,(K.matrix.b-J.b)/t,(K.matrix.c-J.c)/t,(K.matrix.d-J.d)/t,(K.matrix.e-J.e)/t,(K.matrix.e-J.f)/t]}break;case"csv":var L=r(j[A])[s](c),M=r(u[A])[s](c);if("clip-rect"==A)for(u[A]=M,w[A]=[],y=M.length;y--;)w[A][y]=(L[y]-u[A][y])/t;v[A]=L;break;default:for(L=[][n](j[A]),M=[][n](u[A]),w[A]=[],y=d.paper.customAttributes[A].length;y--;)w[A][y]=((L[y]||0)-(M[y]||0))/t}var O=j.easing,P=a.easing_formulas[O];if(!P)if(P=r(O).match(N),P&&5==P.length){var R=P;P=function(a){return cp(a,+R[1],+R[2],+R[3],+R[4],t)}}else P=be;if(q=j.start||b.start||+new Date,x={anim:b,percent:e,timestamp:q,start:q+(b.del||0),status:0,initstatus:f||0,stop:!1,ms:t,easing:P,from:u,diff:w,to:v,el:d,callback:j.callback,prev:p,next:o,repeat:i||b.times,origin:d.attr(),totalOrigin:h},cl.push(x),f&&!k&&!l&&(x.stop=!0,x.start=new Date-t*f,1==cl.length))return cn();l&&(x.start=new Date-x.ms*f),1==cl.length&&cm(cn)}eve("anim.start."+d.id,d,b)}}function cq(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[g](e)&&(d[Q(e)]=a[e],c.push(Q(e)));c.sort(bc)}this.anim=d,this.top=c[c.length-1],this.percents=c}function cp(a,b,c,d,e,f){function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;8>k;k++){if(f=m(e)-a,z(f)<b)return e;if(j=(3*i*e+2*h)*e+g,z(j)<1e-6)break;e-=f/j}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=m(e),z(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function m(a){return((i*a+h)*a+g)*a}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function cd(){return this.x+q+this.y+q+this.width+" \xd7 "+this.height}function bQ(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function bw(a){for(var b=[],c=0,d=a.length;d-2>c;c+=2){var e=[{x:+a[c],y:+a[c+1]},{x:+a[c],y:+a[c+1]},{x:+a[c+2],y:+a[c+3]},{x:+a[c+4],y:+a[c+5]}];d-4==c?(e[0]={x:+a[c-2],y:+a[c-1]},e[3]=e[2]):c&&(e[0]={x:+a[c-2],y:+a[c-1]}),b.push(["C",(-e[0].x+6*e[1].x+e[2].x)/6,(-e[0].y+6*e[1].y+e[2].y)/6,(e[1].x+6*e[2].x-e[3].x)/6,(e[1].y+6*e[2].y-e[3].y)/6,e[2].x,e[2].y])}return b}function bv(){return this.hex}function bt(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("\u2400"),h=d.cache=d.cache||{},i=d.count=d.count||[];return h[g](f)?(bs(i,f),c?c(h[f]):h[f]):(i.length>=1e3&&delete h[i.shift()],i.push(f),h[f]=a[m](b,e),c?c(h[f]):h[f])}return d}function bs(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function a(c){if(a.is(c,"function"))return b?c():eve.on("DOMload",c);if(a.is(c,E))return a._engine.create[m](a,c.splice(0,3+a.is(c[0],C))).add(c);var d=Array.prototype.slice.call(arguments,0);if(a.is(d[d.length-1],"function")){var e=d.pop();return b?e.call(a._engine.create[m](a,d)):eve.on("DOMload",function(){e.call(a._engine.create[m](a,d))})}return a._engine.create[m](a,arguments)}a.version="2.0.1",a.eve=eve;var b,k,c=/[, ]+/,d={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\{(\d+)\}/g,g="hasOwnProperty",h={doc:document,win:window},i={was:Object.prototype[g].call(h.win,"Raphael"),is:h.win.Raphael},j=function(){this.ca=this.customAttributes={}},m="apply",n="concat",o="createTouch"in h.doc,p="",q=" ",r=String,s="split",t="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[s](q),u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},v=r.prototype.toLowerCase,w=Math,x=w.max,y=w.min,z=w.abs,A=w.pow,B=w.PI,C="number",D="string",E="array",H=Object.prototype.toString,L=(a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),M={NaN:1,Infinity:1,"-Infinity":1},N=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,O=w.round,Q=parseFloat,R=parseInt,S=r.prototype.toUpperCase,T=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},U=a._availableAnimAttrs={blur:C,"clip-rect":"csv",cx:C,cy:C,fill:"colour","fill-opacity":C,"font-size":C,height:C,opacity:C,path:"path",r:C,rx:C,ry:C,stroke:"colour","stroke-opacity":C,"stroke-width":C,transform:"transform",width:C,x:C,y:C},V=/\s*,\s*/,W={hs:1,rg:1},X=/,?([achlmqrstvxz]),?/gi,Y=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,Z=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/gi,$=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,ba=(a._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,{}),bc=function(a,b){return Q(a)-Q(b)},bd=function(){},be=function(a){return a},bf=a._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},bg=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},bh=a._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return bg(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return bg(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return bf(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return bf(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return bf(b.x,b.y,b.width,b.height)}},bi=a.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=bG(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(a._g=h,a.type=h.win.SVGAngle||h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a.type){var bk,bj=h.doc.createElement("div");if(bj.innerHTML='<v:shape adj="1"/>',bk=bj.firstChild,bk.style.behavior="url(#default#VML)",!bk||"object"!=typeof bk.adj)return a.type=p;bj=null}a.svg=!(a.vml="VML"==a.type),a._Paper=j,a.fn=k=j.prototype=a.prototype,a._id=0,a._oid=0,a.is=function(a,b){return b=v.call(b),"finite"==b?!M[g](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||H.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(null==f){var h=b-d,i=c-e;return h||i?(180+180*w.atan2(-i,-h)/B+360)%360:0}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*B/180},a.deg=function(a){return 180*a/B%360},a.snapTo=function(b,c,d){if(d=a.is(d,"finite")?d:10,a.is(b,E)){for(var e=b.length;e--;)if(z(b[e]-c)<=d)return b[e]}else{b=+b;var f=c%b;if(d>f)return c-f;if(f>b-d)return c-f+b}return c};a.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*w.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});a.setWindow=function(b){eve("setWindow",a,h.win,b),h.win=b,h.doc=h.win.document,a._engine.initWin&&a._engine.initWin(h.win)};var bm=function(b){if(a.vml){var d,c=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),d=e.body}catch(f){d=createPopup().document.body}var g=d.createTextRange();bm=bt(function(a){try{d.style.color=r(a).replace(c,p);var b=g.queryCommandValue("ForeColor");return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(e){return"none"}})}else{var i=h.doc.createElement("i");i.title="Rapha\xebl Colour Picker",i.style.display="none",h.doc.body.appendChild(i),bm=bt(function(a){return i.style.color=a,h.doc.defaultView.getComputedStyle(i,p).getPropertyValue("color")})}return bm(b)},bn=function(){return"hsb("+[this.h,this.s,this.b]+")"},bo=function(){return"hsl("+[this.h,this.s,this.l]+")"},bp=function(){return this.hex},bq=function(b,c,d){if(null==c&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r),null==c&&a.is(b,D)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}return(b>1||c>1||d>1)&&(b/=255,c/=255,d/=255),[b,c,d]},br=function(b,c,d,e){b*=255,c*=255,d*=255;var f={r:b,g:c,b:d,hex:a.rgb(b,c,d),toString:bp};return a.is(e,"finite")&&(f.opacity=e),f};a.color=function(b){var c;return a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):(a.is(b,"string")&&(b=a.getRGB(b)),a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1)),b.toString=bp,b},a.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-z(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],br(e,f,g,d)},a.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-z(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],br(e,f,g,d)},a.rgb2hsb=function(a,b,c){c=bq(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=x(a,b,c),g=f-y(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:bn}},a.rgb2hsl=function(a,b,c){c=bq(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=x(a,b,c),h=y(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:bo}},a._path2string=function(){return this.join(",").replace(X,"$1")};a._preload=function(a,b){var c=h.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,h.doc.body.removeChild(this)},c.onerror=function(){h.doc.body.removeChild(this)},h.doc.body.appendChild(c),c.src=a};a.getRGB=bt(function(b){if(!b||(b=r(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bv};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:bv};!W[g](b.toLowerCase().substring(0,2))&&"#"!=b.charAt()&&(b=bm(b));var d,e,f,h,i,j,k=b.match(L);return k?(k[2]&&(f=R(k[2].substring(5),16),e=R(k[2].substring(3,5),16),d=R(k[2].substring(1,3),16)),k[3]&&(f=R((i=k[3].charAt(3))+i,16),e=R((i=k[3].charAt(2))+i,16),d=R((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][s](V),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100)),k[5]?(j=k[5][s](V),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"\xb0"==j[0].slice(-1))&&(d/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsb2rgb(d,e,f,h)):k[6]?(j=k[6][s](V),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"\xb0"==j[0].slice(-1))&&(d/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsl2rgb(d,e,f,h)):(k={r:d,g:e,b:f,toString:bv},k.hex="#"+(16777216|f|e<<8|d<<16).toString(16).slice(1),a.is(h,"finite")&&(k.opacity=h),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bv}},a),a.hsb=bt(function(b,c,d){return a.hsb2rgb(b,c,d).hex}),a.hsl=bt(function(b,c,d){return a.hsl2rgb(b,c,d).hex}),a.rgb=bt(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=bt(function(b){if(!b)return null;var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];return a.is(b,E)&&a.is(b[0],E)&&(d=by(b)),d.length||r(b).replace(Y,function(a,b,e){var f=[],g=b.toLowerCase();if(e.replace($,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b][n](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)d.push([b][n](f));else for(;f.length>=c[g]&&(d.push([b][n](f.splice(0,c[g]))),c[g]););}),d.toString=a._path2string,d}),a.parseTransformString=bt(function(b){if(!b)return null;var d=[];return a.is(b,E)&&a.is(b[0],E)&&(d=by(b)),d.length||r(b).replace(Z,function(a,b,c){var e=[];v.call(b);c.replace($,function(a,b){b&&e.push(+b)}),d.push([b][n](e))}),d.toString=a._path2string,d}),a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=A(j,3),l=A(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,x=j*e+i*g,y=j*f+i*h,z=90-180*w.atan2(q-s,r-t)/B;return(q>s||t>r)&&(z+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:x,y:y},alpha:z}},a._removedFactory=function(a){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+a+"\u201d of removed object")}};var bx=bt(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=bG(a);for(var f,b=0,c=0,d=[],e=[],g=0,h=a.length;h>g;g++)if(f=a[g],"M"==f[0])b=f[1],c=f[2],d.push(b),e.push(c);else{var i=bF(b,c,f[1],f[2],f[3],f[4],f[5],f[6]);d=d[n](i.min.x,i.max.x),e=e[n](i.min.y,i.max.y),b=f[5],c=f[6]}var j=y[m](0,d),k=y[m](0,e);return{x:j,y:k,width:x[m](0,d)-j,height:x[m](0,e)-k}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),by=function(b){var c=[];a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b));for(var d=0,e=b.length;e>d;d++){c[d]=[];for(var f=0,g=b[d].length;g>f;f++)c[d][f]=b[d][f]}return c.toString=a._path2string,c},bz=a._pathToRelative=bt(function(b){a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b));var c=[],d=0,e=0,f=0,g=0,h=0;"M"==b[0][0]&&(d=b[0][1],e=b[0][2],f=d,g=e,h++,c.push(["M",d,e]));for(var i=h,j=b.length;j>i;i++){var k=c[i]=[],l=b[i];if(l[0]!=v.call(l[0]))switch(k[0]=v.call(l[0]),k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l.length;n>m;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}else{k=c[i]=[],"m"==l[0]&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l.length;p>o;o++)c[i][o]=l[o]}var q=c[i].length;switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}return c.toString=a._path2string,c},0,by),bA=a._pathToAbsolute=bt(function(b){if(a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var c=[],d=0,e=0,f=0,g=0,h=0;"M"==b[0][0]&&(d=+b[0][1],e=+b[0][2],f=d,g=e,h++,c[0]=["M",d,e]);for(var i,j,k=h,l=b.length;l>k;k++){if(c.push(i=[]),j=b[k],j[0]!=S.call(j[0]))switch(i[0]=S.call(j[0]),i[0]){case"A":i[1]=j[1],i[2]=j[2],i[3]=j[3],i[4]=j[4],i[5]=j[5],i[6]=+(j[6]+d),i[7]=+(j[7]+e);break;case"V":i[1]=+j[1]+e;break;case"H":i[1]=+j[1]+d;break;case"R":for(var m=[d,e][n](j.slice(1)),o=2,p=m.length;p>o;o++)m[o]=+m[o]+d,m[++o]=+m[o]+e;c.pop(),c=c[n](bw(m));break;case"M":f=+j[1]+d,g=+j[2]+e;default:for(o=1,p=j.length;p>o;o++)i[o]=+j[o]+(o%2?d:e)}else if("R"==j[0])m=[d,e][n](j.slice(1)),c.pop(),c=c[n](bw(m)),i=["R"][n](j.slice(-2));else for(var q=0,r=j.length;r>q;q++)i[q]=j[q];switch(i[0]){case"Z":d=f,e=g;break;case"H":d=i[1];break;case"V":e=i[1];break;case"M":f=i[i.length-2],g=i[i.length-1];default:d=i[i.length-2],e=i[i.length-1]}}return c.toString=a._path2string,c},null,by),bB=function(a,b,c,d){return[a,b,c,d,c,d]},bC=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},bD=function(a,b,c,d,e,f,g,h,i,j){var o,k=120*B/180,l=B/180*(+e||0),m=[],p=bt(function(a,b,c){var d=a*w.cos(c)-b*w.sin(c),e=a*w.sin(c)+b*w.cos(c);return{x:d,y:e}});if(j)E=j[0],F=j[1],C=j[2],D=j[3];else{o=p(a,b,-l),a=o.x,b=o.y,o=p(h,i,-l),h=o.x,i=o.y;var t=(w.cos(B/180*e),w.sin(B/180*e),(a-h)/2),u=(b-i)/2,v=t*t/(c*c)+u*u/(d*d);v>1&&(v=w.sqrt(v),c=v*c,d=v*d);var x=c*c,y=d*d,A=(f==g?-1:1)*w.sqrt(z((x*y-x*u*u-y*t*t)/(x*u*u+y*t*t))),C=A*c*u/d+(a+h)/2,D=A*-d*t/c+(b+i)/2,E=w.asin(((b-D)/d).toFixed(9)),F=w.asin(((i-D)/d).toFixed(9));E=C>a?B-E:E,F=C>h?B-F:F,0>E&&(E=2*B+E),0>F&&(F=2*B+F),g&&E>F&&(E-=2*B),!g&&F>E&&(F-=2*B)}var G=F-E;if(z(G)>k){var H=F,I=h,J=i;F=E+k*(g&&F>E?1:-1),h=C+c*w.cos(F),i=D+d*w.sin(F),m=bD(h,i,c,d,e,0,g,I,J,[F,H,C,D])}G=F-E;var K=w.cos(E),L=w.sin(E),M=w.cos(F),N=w.sin(F),O=w.tan(G/4),P=4/3*c*O,Q=4/3*d*O,R=[a,b],S=[a+P*L,b-Q*K],T=[h+P*N,i-Q*M],U=[h,i];if(S[0]=2*R[0]-S[0],S[1]=2*R[1]-S[1],j)return[S,T,U][n](m);m=[S,T,U][n](m).join()[s](",");for(var V=[],W=0,X=m.length;X>W;W++)V[W]=W%2?p(m[W-1],m[W],l).y:p(m[W],m[W+1],l).x;return V},bE=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:A(j,3)*a+3*A(j,2)*i*c+3*j*i*i*e+A(i,3)*g,y:A(j,3)*b+3*A(j,2)*i*d+3*j*i*i*f+A(i,3)*h}},bF=bt(function(a,b,c,d,e,f,g,h){var q,i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g];return z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=bE(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=bE(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=bE(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=bE(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),{min:{x:y[m](0,p),y:y[m](0,o)},max:{x:x[m](0,p),y:x[m](0,o)}}}),bG=a._path2curve=bt(function(a,b){for(var c=bA(a),d=b&&bA(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][n](bD[m](0,[b.x,b.y][n](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][n](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][n](bC(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][n](bC(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][n](bB(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][n](bB(b.x,b.y,a[1],b.y));break;case"V":a=["C"][n](bB(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][n](bB(b.x,b.y,b.X,b.Y))}return a}),h=function(a,b){if(a[b].length>7){a[b].shift();for(var e=a[b];e.length;)a.splice(b++,0,["C"][n](e.splice(0,6)));a.splice(b,1),k=x(c.length,d&&d.length||0)}},i=function(a,b,e,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),e.bx=0,e.by=0,e.x=a[g][1],e.y=a[g][2],k=x(c.length,d&&d.length||0))},j=0,k=x(c.length,d&&d.length||0);k>j;j++){c[j]=g(c[j],e),h(c,j),d&&(d[j]=g(d[j],f)),d&&h(d,j),i(c,d,e,f,j),i(d,c,f,e,j);var l=c[j],o=d&&d[j],p=l.length,q=d&&o.length;e.x=l[p-2],e.y=l[p-1],e.bx=Q(l[p-4])||e.x,e.by=Q(l[p-3])||e.y,f.bx=d&&(Q(o[q-4])||f.x),f.by=d&&(Q(o[q-3])||f.y),f.x=d&&o[q-2],f.y=d&&o[q-1]}return d?[c,d]:c},null,by),bI=(a._parseDots=bt(function(b){for(var c=[],d=0,e=b.length;e>d;d++){var f={},g=b[d].match(/^([^:]*):?([\d\.]*)/);if(f.color=a.getRGB(g[1]),f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c.push(f)}for(d=1,e=c.length-1;e>d;d++)if(!c[d].offset){for(var h=Q(c[d-1].offset||0),i=0,j=d+1;e>j;j++)if(c[j].offset){i=c[j].offset;break}i||(i=100,j=e),i=Q(i);for(var k=(i-h)/(j-d+1);j>d;d++)h+=k,c[d].offset=h+"%"}return c}),a._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),bN=(a._tofront=function(a,b){b.top!==a&&(bI(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},a._toback=function(a,b){b.bottom!==a&&(bI(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},a._insertafter=function(a,b,c){bI(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},a._insertbefore=function(a,b,c){bI(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},a._extractTransform=function(b,c){if(null==c)return b._.transform;c=r(c).replace(/\.{3}|\u2026/g,b._.transform||p);var d=a.parseTransformString(c),e=0,f=0,g=0,h=1,i=1,j=b._,k=new bQ;if(j.transform=d||[],d)for(var l=0,m=d.length;m>l;l++){var u,v,w,x,y,n=d[l],o=n.length,q=r(n[0]).toLowerCase(),s=n[0]!=q,t=s?k.invert():0;"t"==q&&3==o?s?(u=t.x(0,0),v=t.y(0,0),w=t.x(n[1],n[2]),x=t.y(n[1],n[2]),k.translate(w-u,x-v)):k.translate(n[1],n[2]):"r"==q?2==o?(y=y||b.getBBox(1),k.rotate(n[1],y.x+y.width/2,y.y+y.height/2),e+=n[1]):4==o&&(s?(w=t.x(n[2],n[3]),x=t.y(n[2],n[3]),k.rotate(n[1],w,x)):k.rotate(n[1],n[2],n[3]),e+=n[1]):"s"==q?2==o||3==o?(y=y||b.getBBox(1),k.scale(n[1],n[o-1],y.x+y.width/2,y.y+y.height/2),h*=n[1],i*=n[o-1]):5==o&&(s?(w=t.x(n[3],n[4]),x=t.y(n[3],n[4]),k.scale(n[1],n[2],w,x)):k.scale(n[1],n[2],n[3],n[4]),h*=n[1],i*=n[2]):"m"==q&&7==o&&k.add(n[1],n[2],n[3],n[4],n[5],n[6]),j.dirtyT=1,b.matrix=k}b.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,1==h&&1==i&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1}),bO=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},bP=a._equaliseTransform=function(b,c){c=r(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var h,i,j,k,d=x(b.length,c.length),e=[],f=[],g=0;d>g;g++){if(j=b[g]||bO(c[g]),k=c[g]||bO(j),j[0]!=k[0]||"r"==j[0].toLowerCase()&&(j[2]!=k[2]||j[3]!=k[3])||"s"==j[0].toLowerCase()&&(j[3]!=k[3]||j[4]!=k[4]))return;for(e[g]=[],f[g]=[],h=0,i=x(j.length,k.length);i>h;h++)h in j&&(e[g][h]=j[h]),h in k&&(f[g][h]=k[h])}return{from:e,to:f}};a._getContainer=function(b,c,d,e){var f;return f=null!=e||a.is(b,"object")?b:h.doc.getElementById(b),null!=f?f.tagName?null==c?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}:{container:1,x:b,y:c,width:d,height:e}:void 0},a.pathToRelative=bz,a._engine={},a.path2curve=bG,a.matrix=function(a,b,c,d,e,f){return new bQ(a,b,c,d,e,f)},function(b){function d(a){var b=w.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){return a[0]*a[0]+a[1]*a[1]}b.add=function(a,b,c,d,e,f){var j,k,l,m,g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],i=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof bQ&&(i=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),j=0;3>j;j++)for(k=0;3>k;k++){for(m=0,l=0;3>l;l++)m+=h[j][l]*i[l][k];g[j][k]=m}this.a=g[0][0],this.b=g[1][0],this.c=g[0][1],this.d=g[1][1],this.e=g[0][2],this.f=g[1][2]},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new bQ(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new bQ(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+w.cos(b).toFixed(9),f=+w.sin(b).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[r.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},b.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.split=function(){var b={};b.dx=this.e,b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=w.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=w.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley;var f=-e[0][1],g=e[1][1];return 0>g?(b.rotate=a.deg(w.acos(g)),0>f&&(b.rotate=360-b.rotate)):b.rotate=a.deg(w.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this[s]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx&&b.dy?"t"+[b.dx,b.dy]:p)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:p)+(b.rotate?"r"+[b.rotate,0,0]:p)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(bQ.prototype);var bR=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(bR&&bR[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&bR&&bR[1]<8?k.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:k.safari=bd;for(var bS=function(){this.returnValue=!1},bT=function(){return this.originalEvent.preventDefault()},bU=function(){this.cancelBubble=!0},bV=function(){return this.originalEvent.stopPropagation()},bW=function(){return h.doc.addEventListener?function(a,b,c,d){var e=o&&u[b]?u[b]:b,f=function(e){var f=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,i=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,j=e.clientX+i,k=e.clientY+f;if(o&&u[g](b))for(var l=0,m=e.targetTouches&&e.targetTouches.length;m>l;l++)if(e.targetTouches[l].target==a){var n=e;e=e.targetTouches[l],e.originalEvent=n,e.preventDefault=bT,e.stopPropagation=bV;break}return c.call(d,e,j,k)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:h.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||h.win.event;var b=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||bS,a.stopPropagation=a.stopPropagation||bU,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),bX=[],bY=function(a){for(var f,b=a.clientX,c=a.clientY,d=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,g=bX.length;g--;){if(f=bX[g],o){for(var j,i=a.touches.length;i--;)if(j=a.touches[i],j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var l,k=f.el.node,m=k.nextSibling,n=k.parentNode,p=k.style.display;h.win.opera&&n.removeChild(k),k.style.display="none",l=f.el.paper.getElementByPoint(b,c),k.style.display=p,h.win.opera&&(m?n.insertBefore(k,m):n.appendChild(k)),l&&eve("drag.over."+f.el.id,f.el,l),b+=e,c+=d,eve("drag.move."+f.el.id,f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},bZ=function(b){a.unmousemove(bY).unmouseup(bZ);for(var d,c=bX.length;c--;)d=bX[c],d.el._drag={},eve("drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,b);bX=[]},b$=a.el={},b_=t.length;b_--;)(function(b){a[b]=b$[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:bW(this.shape||this.node||h.doc,b,c,d||this)})),this},a["un"+b]=b$["un"+b]=function(a){for(var c=this.events,d=c.length;d--;)if(c[d].name==b&&c[d].f==a)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}})(t[b_]);b$.data=function(b,c){var d=ba[this.id]=ba[this.id]||{};if(1==arguments.length){if(a.is(b,"object")){for(var e in b)b[g](e)&&this.data(e,b[e]);return this}return eve("data.get."+this.id,this,d[b],b),d[b]}return d[b]=c,eve("data.set."+this.id,this,c,b),this},b$.removeData=function(a){return null==a?ba[this.id]={}:ba[this.id]&&delete ba[this.id][a],this},b$.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},b$.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var ca=[];b$.drag=function(b,c,d,e,f,g){function i(i){(i.originalEvent||i).preventDefault();var j=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,k=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,!bX.length&&a.mousemove(bY).mouseup(bZ),bX.push({el:this,move_scope:e,start_scope:f,end_scope:g}),c&&eve.on("drag.start."+this.id,c),b&&eve.on("drag.move."+this.id,b),d&&eve.on("drag.end."+this.id,d),eve("drag.start."+this.id,f||e||this,i.clientX+k,i.clientY+j,i);
}return this._drag={},ca.push({el:this,start:i}),this.mousedown(i),this},b$.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)},b$.undrag=function(){for(var b=ca.length;b--;)ca[b].el==this&&(this.unmousedown(ca[b].start),ca.splice(b,1),eve.unbind("drag.*."+this.id));!ca.length&&a.unmousemove(bY).unmouseup(bZ)},k.circle=function(b,c,d){var e=a._engine.circle(this,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},k.rect=function(b,c,d,e,f){var g=a._engine.rect(this,b||0,c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.ellipse=function(b,c,d,e){var f=a._engine.ellipse(this,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},k.path=function(b){b&&!a.is(b,D)&&!a.is(b[0],E)&&(b+=p);var c=a._engine.path(a.format[m](a,arguments),this);return this.__set__&&this.__set__.push(c),c},k.image=function(b,c,d,e,f){var g=a._engine.image(this,b||"about:blank",c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.text=function(b,c,d){var e=a._engine.text(this,b||0,c||0,r(d));return this.__set__&&this.__set__.push(e),e},k.set=function(b){!a.is(b,"array")&&(b=Array.prototype.splice.call(arguments,0,arguments.length));var c=new cs(b);return this.__set__&&this.__set__.push(c),c},k.setStart=function(a){this.__set__=a||this.set()},k.setFinish=function(a){var b=this.__set__;return delete this.__set__,b},k.setSize=function(b,c){return a._engine.setSize.call(this,b,c)},k.setViewBox=function(b,c,d,e,f){return a._engine.setViewBox.call(this,b,c,d,e,f)},k.top=k.bottom=null,k.raphael=a;var cb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,i=b.top+(h.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(h.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:i,x:j}};k.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=h.doc.elementFromPoint(a,b);if(h.win.opera&&"svg"==e.tagName){var f=cb(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var i=d.getIntersectionList(g,null);i.length&&(e=i[i.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},k.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},k.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},b$.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=bh[this.type](this),b.bboxwt=bx(this.realPath),b.bboxwt.toString=cd,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=bh[this.type](this)),b.bbox=bx(bi(this.realPath,this.matrix)),b.bbox.toString=cd,b.dirty=b.dirtyT=0),b.bbox)},b$.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},b$.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||bh[this.type](this);f=this.matrix?bi(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var ce={},cf=function(b,c,d,e,f,g,h,i,j){var o,p,k=0,l=100,m=[b,c,d,e,f,g,h,i].join(),n=ce[m];if(!n&&(ce[m]=n={data:[]}),n.timer&&clearTimeout(n.timer),n.timer=setTimeout(function(){delete ce[m]},2e3),null!=j&&!n.precision){var q=cf(b,c,d,e,f,g,h,i);n.precision=10*~~q,n.data=[]}l=n.precision||l;for(var r=0;l+1>r;r++){if(n.data[r*l]?p=n.data[r*l]:(p=a.findDotsAtSegment(b,c,d,e,f,g,h,i,r/l),n.data[r*l]=p),r&&(k+=A(A(o.x-p.x,2)+A(o.y-p.y,2),.5)),null!=j&&k>=j)return p;o=p}return null==j?k:void 0},cg=function(b,c){return function(d,e,f){d=bG(d);for(var g,h,i,j,m,k="",l={},n=0,o=0,p=d.length;p>o;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=cf(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(c&&!l.start){if(m=cf(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y],f)return k;l.start=k,k=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c)return m=cf(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=j,g=+i[5],h=+i[6]}k+=i.shift()+i}return l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},ch=cg(1),ci=cg(),cj=cg(0,1);a.getTotalLength=ch,a.getPointAtLength=ci,a.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return cj(a,b).end;var d=cj(a,c,1);return b?cj(d,b).end:d},b$.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ch(this.attrs.path):void 0},b$.getPointAtLength=function(a){return"path"==this.type?ci(this.attrs.path,a):void 0},b$.getSubpath=function(b,c){return"path"==this.type?a.getSubpath(this.attrs.path,b,c):void 0};var ck=a.easing_formulas={linear:function(a){return a},"<":function(a){return A(a,1.7)},">":function(a){return A(a,.48)},"<>":function(a){var b=.48-a/1.04,c=w.sqrt(.1734+b*b),d=c-b,e=A(z(d),1/3)*(0>d?-1:1),f=-c-b,g=A(z(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:A(2,-10*a)*w.sin(2*(a-.075)*B/.3)+1},bounce:function(a){var d,b=7.5625,c=2.75;return 1/c>a?d=b*a*a:2/c>a?(a-=1.5/c,d=b*a*a+.75):2.5/c>a?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375),d}};ck.easeIn=ck["ease-in"]=ck["<"],ck.easeOut=ck["ease-out"]=ck[">"],ck.easeInOut=ck["ease-in-out"]=ck["<>"],ck["back-in"]=ck.backIn,ck["back-out"]=ck.backOut;var cl=[],cm=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},cn=function(){for(var b=+new Date,c=0;c<cl.length;c++){var d=cl[c];if(!d.el.removed&&!d.paused){var p,s,e=b-d.start,f=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,m=(d.t,d.el),o={},r={};if(d.initstatus?(e=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*f,d.status=d.initstatus,delete d.initstatus,d.stop&&cl.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(e/f))/d.anim.top,!(0>e))if(f>e){var t=h(e/f);for(var u in i)if(i[g](u)){switch(U[u]){case C:p=+i[u]+t*f*j[u];break;case"colour":p="rgb("+[co(O(i[u].r+t*f*j[u].r)),co(O(i[u].g+t*f*j[u].g)),co(O(i[u].b+t*f*j[u].b))].join(",")+")";break;case"path":p=[];for(var v=0,w=i[u].length;w>v;v++){p[v]=[i[u][v][0]];for(var x=1,y=i[u][v].length;y>x;x++)p[v][x]=+i[u][v][x]+t*f*j[u][v][x];p[v]=p[v].join(q)}p=p.join(q);break;case"transform":if(j[u].real)for(p=[],v=0,w=i[u].length;w>v;v++)for(p[v]=[i[u][v][0]],x=1,y=i[u][v].length;y>x;x++)p[v][x]=i[u][v][x]+t*f*j[u][v][x];else{var z=function(a){return+i[u][a]+t*f*j[u][a]};p=[["m",z(0),z(1),z(2),z(3),z(4),z(5)]]}break;case"csv":if("clip-rect"==u)for(p=[],v=4;v--;)p[v]=+i[u][v]+t*f*j[u][v];break;default:var A=[][n](i[u]);for(p=[],v=m.paper.customAttributes[u].length;v--;)p[v]=+A[v]+t*f*j[u][v]}o[u]=p}m.attr(o),function(a,b,c){setTimeout(function(){eve("anim.frame."+a,b,c)})}(m.id,m,d.anim)}else{if(function(b,c,d){setTimeout(function(){eve("anim.frame."+c.id,c,d),eve("anim.finish."+c.id,c,d),a.is(b,"function")&&b.call(c)})}(d.callback,m,d.anim),m.attr(k),cl.splice(c--,1),d.repeat>1&&!d.next){for(s in k)k[g](s)&&(r[s]=d.totalOrigin[s]);d.el.attr(r),cr(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&cr(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}a.svg&&m&&m.paper&&m.paper.safari(),cl.length&&cm(cn)},co=function(a){return a>255?255:0>a?0:a};b$.animateWith=function(b,c,d,e,f,g){var h=d?a.animation(d,e,f,g):c,i=b.status(c);return this.animate(h).status(h,i*c.ms/h.ms)},b$.onAnimation=function(a){return a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+this.id),this},cq.prototype.delay=function(a){var b=new cq(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},cq.prototype.repeat=function(a){var b=new cq(this.anim,this.ms);return b.del=this.del,b.times=w.floor(x(a,0))||1,b},a.animation=function(b,c,d,e){if(b instanceof cq)return b;(a.is(d,"function")||!d)&&(e=e||d||null,d=null),b=Object(b),c=+c||0;var h,i,f={};for(i in b)b[g](i)&&Q(i)!=i&&Q(i)+"%"!=i&&(h=!0,f[i]=b[i]);return h?(d&&(f.easing=d),e&&(f.callback=e),new cq({100:f},c)):new cq(b,c)},b$.animate=function(b,c,d,e){var f=this;if(f.removed)return e&&e.call(f),f;var g=b instanceof cq?b:a.animation(b,c,d,e);return cr(g,f,g.percents[0],null,f.attr()),f},b$.setTime=function(a,b){return a&&null!=b&&this.status(a,y(b,a.ms)/a.ms),this},b$.status=function(a,b){var e,f,c=[],d=0;if(null!=b)return cr(a,this,-1,y(b,1)),this;for(e=cl.length;e>d;d++)if(f=cl[d],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}return a?0:c},b$.pause=function(a){for(var b=0;b<cl.length;b++)cl[b].el.id==this.id&&(!a||cl[b].anim==a)&&eve("anim.pause."+this.id,this,cl[b].anim)!==!1&&(cl[b].paused=!0);return this},b$.resume=function(a){for(var b=0;b<cl.length;b++)if(cl[b].el.id==this.id&&(!a||cl[b].anim==a)){var c=cl[b];eve("anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},b$.stop=function(a){for(var b=0;b<cl.length;b++)cl[b].el.id==this.id&&(!a||cl[b].anim==a)&&eve("anim.stop."+this.id,this,cl[b].anim)!==!1&&cl.splice(b--,1);return this},b$.toString=function(){return"Rapha\xebl\u2019s object"};var cs=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(a[b].constructor==b$.constructor||a[b].constructor==cs)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},ct=cs.prototype;ct.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(a.constructor==b$.constructor||a.constructor==cs)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},ct.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ct.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var cu in b$)b$[g](cu)&&(ct[cu]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][m](c,b)})}}(cu));ct.attr=function(b,c){if(b&&a.is(b,E)&&a.is(b[0],"object"))for(var d=0,e=b.length;e>d;d++)this.items[d].attr(b[d]);else for(var f=0,g=this.items.length;g>f;f++)this.items[f].attr(b,c);return this},ct.clear=function(){for(;this.length;)this.pop()},ct.splice=function(a,b,c){a=0>a?x(this.length+a,0):a,b=x(0,y(this.length-a,b));var g,d=[],e=[],f=[];for(g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;b>g;g++)e.push(this[a+g]);for(;g<this.length-a;g++)d.push(this[a+g]);var h=f.length;for(g=0;g<h+d.length;g++)this.items[a+g]=this[a+g]=h>g?f[g]:d[g-h];for(g=this.items.length=this.length-=b-h;this[g];)delete this[g++];return new cs(e)},ct.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},ct.animate=function(b,c,d,e){(a.is(d,"function")||!d)&&(e=d||null);var h,j,f=this.items.length,g=f,i=this;if(!f)return this;e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,D)?d:j;var k=a.animation(b,c,d,j);for(h=this.items[--g].animate(k);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,k);return this},ct.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},ct.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=y[m](0,a),b=y[m](0,b),{x:a,y:b,width:x[m](0,c)-a,height:x[m](0,d)-b}},ct.clone=function(a){a=new cs;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},ct.toString=function(){return"Rapha\xebl\u2018s set"},a.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[g](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=R(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[g](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var h in f.k)f[g](h)&&(b.glyphs[e].k[h]=f.k[h])}}return a},k.getFont=function(b,c,d,e){if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,a.fonts){var f=a.fonts[b];if(!f){var h=new RegExp("(^|\\s)"+b.replace(/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(var i in a.fonts)if(a.fonts[g](i)&&h.test(i)){f=a.fonts[i];break}}var j;if(f)for(var k=0,l=f.length;l>k&&(j=f[k],j.face["font-weight"]!=c||j.face["font-style"]!=d&&j.face["font-style"]||j.face["font-stretch"]!=e);k++);return j}},k.print=function(b,d,e,f,g,h,i){h=h||"middle",i=x(y(i||0,1),-1);var n,j=this.set(),k=r(e)[s](p),l=0;if(a.is(f,e)&&(f=this.getFont(f)),f){n=(g||16)/f.face["units-per-em"];for(var o=f.face.bbox[s](c),q=+o[0],t=+o[1]+("baseline"==h?o[3]-o[1]+ +f.face.descent:(o[3]-o[1])/2),u=0,v=k.length;v>u;u++){var w=u&&f.glyphs[k[u-1]]||{},z=f.glyphs[k[u]];l+=u?(w.w||f.w)+(w.k&&w.k[k[u]]||0)+f.w*i:0,z&&z.d&&j.push(this.path(z.d).attr({fill:"#000",stroke:"none",transform:[["t",l*n,0]]}))}j.transform(["...s",n,n,q,t,"t",(b-q)/n,(d-t)/n])}return j},k.add=function(b){if(a.is(b,"array"))for(var h,c=this.set(),e=0,f=b.length;f>e;e++)h=b[e]||{},d[g](h.type)&&c.push(this[h.type]().attr(h));return c},a.format=function(b,c){var d=a.is(c,E)?[0][n](c):arguments;return b&&a.is(b,D)&&d.length-1&&(b=b.replace(e,function(a,b){return null==d[++b]?p:d[b]})),b||p},a.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),a.ninja=function(){return i.was?h.win.Raphael=i.is:delete Raphael,a},a.st=ct,function(b,c,d){function e(){/in/.test(b.readyState)?setTimeout(e,9):a.eve("DOMload")}null==b.readyState&&b.addEventListener&&(b.addEventListener(c,d=function(){b.removeEventListener(c,d,!1),b.readyState="complete"},!1),b.readyState="loading"),e()}(document,"DOMContentLoaded"),i.was?h.win.Raphael=a:Raphael=a,eve.on("DOMload",function(){b=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var s,t,u,v,w,g=c(e).toLowerCase().split("-"),h=d.paper,i=f?"end":"start",j=d.node,k=d.attrs,l=k["stroke-width"],n=g.length,r="classic",x=3,y=3,z=5;n--;)switch(g[n]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":r=g[n];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==r?(x+=2,y+=2,z+=2,u=1,v=f?4:1,w={fill:"none",stroke:k.stroke}):(v=u=x/2,w={fill:k.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=r){var A="raphael-marker-"+r,B="raphael-marker-"+i+r+x+y;a._g.doc.getElementById(A)?p[A]++:(h.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[r],id:A})),p[A]=1);var D,C=a._g.doc.getElementById(B);C?(p[B]++,D=C.getElementsByTagName("use")[0]):(C=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:v,refY:y/2}),D=q(q("use"),{"xlink:href":"#"+A,transform:(f?" rotate(180 "+x/2+" "+y/2+") ":m)+"scale("+x/z+","+y/z+")","stroke-width":1/((x/z+y/z)/2)}),C.appendChild(D),h.defs.appendChild(C),p[B]=1),q(D,w);var E=u*("diamond"!=r&&"oval"!=r);f?(s=d._.arrows.startdx*l||0,t=a.getTotalLength(k.path)-E*l):(s=E*l,t=a.getTotalLength(k.path)-(d._.arrows.enddx*l||0)),w={},w["marker-"+i]="url(#"+B+")",(t||s)&&(w.d=Raphael.getSubpath(k.path,s,t)),q(j,w),d._.arrows[i+"Path"]=A,d._.arrows[i+"Marker"]=B,d._.arrows[i+"dx"]=E,d._.arrows[i+"Type"]=r,d._.arrows[i+"String"]=e}else f?(s=d._.arrows.startdx*l||0,t=a.getTotalLength(k.path)-s):(s=0,t=a.getTotalLength(k.path)-(d._.arrows.enddx*l||0)),d._.arrows[i+"Path"]&&q(j,{d:Raphael.getSubpath(k.path,s,t)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"];for(w in p)if(p[b](w)&&!p[w]){var F=a._g.doc.getElementById(w);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o&&"blank"==p?u.setAttributeNS(n,"show","new"):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var F=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(F,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(F),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(F,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),i.style.fill="url(#"+z.id+")",q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var G=a.getRGB(p);if(G.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var H=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(H){var I=H.getElementsByTagName("stop");q(I[I.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});G[b]("opacity")&&q(i,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case"stroke":G=a.getRGB(p),i.setAttribute(o,G.hex),"stroke"==o&&G[b]("opacity")&&q(i,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){H=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),H&&(I=H.getElementsByTagName("stop"),q(I[I.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var J=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[J]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var m,j=c(f.text).split("\n"),k=[],n=0,o=j.length;o>n;n++)m=q("tspan"),n&&q(m,{dy:i*x,x:g.x}),m.appendChild(a._g.doc.createTextNode(j[n])),h.appendChild(m),k[n]=m}else for(k=h.getElementsByTagName("tspan"),n=0,o=k.length;o>n;n++)n?q(k[n],{dy:i*x,x:g.x}):q(k[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(k[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var j,h=q("svg"),i="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(h,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(h.style.cssText=i+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(h),j=1):(h.style.cssText=i+"position:relative",c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h)),c=new a._Paper,c.width=f,c.height=g,c.canvas=h,c.clear(),c._left=c._top=0,j&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("setViewBox",this,this._viewBox,[a,b,c,d,e]);var j,l,f=g(c/this.width,d/this.height),h=this.top,i=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(f=1),delete this._vbSize,j="0 0 "+this.width+m+this.height):(this._vbSize=f,j=a+m+b+m+c+m+d),q(this.canvas,{viewBox:j,preserveAspectRatio:i});f&&h;)l="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":l}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var c,a=this.canvas,b=a.style;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(e){c=a.createSVGMatrix()}var d=-c.e%1,e=-c.f%1;(d||e)&&(d&&(this._left=(this._left+d)%1,b.left=this._left+"px"),e&&(this._top=(this._top+e)%1,b.top=this._top+"px"))},a.prototype.clear=function(){a.eve("clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Rapha\xebl "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={
path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var i,j,h=e(b);g=[];for(var k=0,l=h.length;l>k;k++){i=h[k],j=h[k][0].toLowerCase(),"z"==j&&(j="x");for(var m=1,r=i.length;r>m;m++)j+=f(i[m]*u)+(m!=r-1?",":o);g.push(j)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",r=u/b,s=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(r)+n+i(s),m.rotation=f*(0>b*c?-1:1),f){var t=y(f,d,e);d=t.dx,e=t.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-r+n+e*-s,k||g.fillsize){var v=l.getElementsByTagName(j);v=v&&v[0],l.removeChild(v),k&&(t=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),v.position=t.dx*o+n+t.dy*o),g.fillsize&&(v.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(v)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,r=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),s=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),t=e;for(var y in i)i[b](y)&&(m[y]=i[y]);if(r&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||r)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),s){var B=+m.cx,D=+m.cy,E=+m.rx||+m.r||0,G=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((B-E)*u),f((D-G)*u),f((B+E)*u),f((D+G)*u),f(B*u))}if("clip-rect"in i){var H=c(i["clip-rect"]).split(k);if(4==H.length){H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1];var I=l.clipRect||a._g.doc.createElement("div"),J=I.style;J.clip=a.format("rect({1}px {2}px {3}px {0}px)",H),l.clipRect||(J.position="absolute",J.top=0,J.left=0,J.width=e.paper.width+"px",J.height=e.paper.height+"px",l.parentNode.insertBefore(I,l),I.appendChild(l),l.clipRect=I)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var K=e.textpath.style;i.font&&(K.font=i.font),i["font-family"]&&(K.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(K.fontSize=i["font-size"]),i["font-weight"]&&(K.fontWeight=i["font-weight"]),i["font-style"]&&(K.fontStyle=i["font-style"])}if("arrow-start"in i&&A(t,i["arrow-start"]),"arrow-end"in i&&A(t,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var L=l.getElementsByTagName(j),M=!1;if(L=L&&L[0],!L&&(M=L=F(j)),"image"==e.type&&i.src&&(L.src=i.src),i.fill&&(L.on=!0),(null==L.on||"none"==i.fill||null===i.fill)&&(L.on=!1),L.on&&i.fill){var N=c(i.fill).match(a._ISURL);if(N){L.parentNode==l&&l.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var O=e.getBBox(1);L.position=O.x+n+O.y,e._.fillpos=[O.x,O.y],a._preload(N[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=a.getRGB(i.fill).hex,L.src=o,L.type="solid",a.getRGB(i.fill).error&&(t.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(t,i.fill,L)&&(m.fill="none",m.gradient=i.fill,L.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var P=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);P=h(g(P,0),1),L.opacity=P,L.src&&(L.color="none")}l.appendChild(L);var Q=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],T=!1;!Q&&(T=Q=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Q.on=!0),("none"==i.stroke||null===i.stroke||null==Q.on||0==i.stroke||0==i["stroke-width"])&&(Q.on=!1);var U=a.getRGB(i.stroke);Q.on&&i.stroke&&(Q.color=U.hex),P=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+U.o+1||2)-1);var V=.75*(d(i["stroke-width"])||1);if(P=h(g(P,0),1),null==i["stroke-width"]&&(V=m["stroke-width"]),i["stroke-width"]&&(Q.weight=V),V&&1>V&&(P*=V)&&(Q.weight=1),Q.opacity=P,i["stroke-linejoin"]&&(Q.joinstyle=i["stroke-linejoin"]||"miter"),Q.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Q.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Q.dashstyle=W[b](i["stroke-dasharray"])?W[i["stroke-dasharray"]]:o}T&&l.appendChild(Q)}if("text"==t.type){t.paper.canvas.style.display=o;var X=t.paper.span,Y=100,Z=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=X.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),Z=d(m["font-size"]||Z&&Z[0])||10,p.fontSize=Z*Y+"px",t.textpath.string&&(X.innerHTML=c(t.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=X.getBoundingClientRect();t.W=m.w=($.right-$.left)/Y,t.H=m.h=($.bottom-$.top)/Y,t.X=m.x,t.Y=m.y+t.H/2,("x"in i||"y"in i)&&(t.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var _=["x","y","text","font","font-family","font-weight","font-style","font-size"],ba=0,bb=_.length;bb>ba;ba++)if(_[ba]in i){t._.dirty=1;break}switch(m["text-anchor"]){case"start":t.textpath.style["v-text-align"]="left",t.bbx=t.W/2;break;case"end":t.textpath.style["v-text-align"]="right",t.bbx=-t.W/2;break;default:t.textpath.style["v-text-align"]="center",t.bbx=0}t.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var i=(b.attrs,Math.pow),l="linear",m=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return l="radial",b&&c&&(b=d(b),c=d(c),i(b-.5,2)+i(c-.5,2)>.25&&(c=e.sqrt(.25-i(b-.5,2))*(2*(c>.5)-1)+.5),m=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==l){var p=f.shift();if(p=-d(p),isNaN(p))return null}var q=a._parseDots(f);if(!q)return null;if(b=b.shape||b.node,q.length){b.removeChild(g),g.on=!0,g.method="none",g.color=q[0].color,g.color2=q[q.length-1].color;for(var r=[],s=0,t=q.length;t>s;s++)q[s].offset&&r.push(q[s].offset+n+q[s].color);g.colors=r.length?r.join():"0% "+g.color,"radial"==l?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=m,g.angle=0):(g.type="gradient",g.angle=(270-p)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var f,d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:o;d&&(f=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,e+b);var j,g=this.matrix.clone(),h=this.skew,i=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(g.translate(-.5,-.5),l||k||"image"==this.type)if(h.matrix="1 0 0 1",h.offset="0 0",j=g.split(),k&&j.noRotation||!j.isSimple){i.style.filter=g.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;i.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else i.style.filter=o,z(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate);else i.style.filter=o,h.matrix=c(g),h.offset=g.offset();return f&&(this._.transform=f),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();f.attrs;return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();e.attrs;return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("setViewBox",this,this._viewBox,[b,c,d,e,f]);var k,l,h=this.width,i=this.height,j=1/g(d/h,e/i);return f&&(k=i/e,l=h/d,h>d*k&&(b-=(h-d*k)/2/k),i>e*l&&(c-=(i-e*l)/2/l)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:j},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,f=b.width,g=b.x,h=b.y;if(!c)throw new Error("VML container not found.");var i=new a._Paper,j=i.canvas=a._g.doc.createElement("div"),k=j.style;return g=g||0,h=h||0,f=f||512,d=d||342,i.width=f,i.height=d,f==+f&&(f+="px"),d==+d&&(d+="px"),i.coordsize=1e3*u+n+1e3*u,i.coordorigin="0 0",i.span=a._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",j.appendChild(i.span),k.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),1==c?(a._g.doc.body.appendChild(j),k.left=g+"px",k.top=h+"px",k.position="absolute"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j),i.renderfix=function(){},i},a.prototype.clear=function(){a.eve("clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael),"undefined"==typeof AFL&&(AFL={}),AFL.isMobileSite=!1,Array.prototype.forEach||(Array.prototype.forEach=function(callback,thisArg){var T,k;if(null==this)throw new TypeError(" this is null or not defined");var O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(arguments.length>1&&(T=thisArg),k=0;len>k;){var kValue;k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++}}),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.env&&(AFL.env={}),function(exports,window){var describeHostnameAsFlags=exports.describeHostnameAsFlags=function(hostname){hostname=hostname.toLowerCase();var club2ndLevelDomainNames=["afc","lions","carltonfc","collingwoodfc","essendonfc","fremantlefc","goldcoastfc","geelongcats","gwsgiants","hawthornfc","melbournefc","nmfc","portadelaidefc","richmondfc","saints","sydneyswans","westernbulldogs","westcoasteagles"],aflNetworkHostnames=["afl.com.au","afc.com.au","lions.com.au","carltonfc.com.au","collingwoodfc.com.au","essendonfc.com.au","fremantlefc.com.au","goldcoastfc.com.au","geelongcats.com.au","gwsgiants.com.au","hawthornfc.com.au","melbournefc.com.au","nmfc.com.au","portadelaidefc.com.au","richmondfc.com.au","saints.com.au","sydneyswans.com.au","westernbulldogs.com.au","westcoasteagles.com.au"],hostnamesRegex="("+aflNetworkHostnames.join("|").replace(".","\\.")+")",club2ndLevelDomainNamesRegex="("+club2ndLevelDomainNames.join("|")+")",flags={prototype:new RegExp("^("+["(10|192)\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}","localhost","prototype.dev.aflmedia.net".replace(".","\\."),"local.afl.com.au".replace(".","\\.")].join("|")+")$").test(hostname),integration:new RegExp("^(int|ext)[0-9]?(\\.dev|\\.dev\\.del)?\\.aflmedia\\.net$").test(hostname),gvm:new RegExp("^(m\\.|wcms\\.)?[a-zA-Z0-9]*\\.cloud\\.aflmedia\\.net$").test(hostname),sandpit:new RegExp("^(pit(m|wcms)?\\."+hostnamesRegex+"|id\\.afl\\.com\\.au)$").test(hostname),model:new RegExp("^(mod(m|wcms)?\\."+hostnamesRegex+"|id\\.afl\\.com\\.au)$").test(hostname),staging:new RegExp("^(stg(m|wcms)?\\."+hostnamesRegex+"|id\\.afl\\.com\\.au)$").test(hostname),production:new RegExp("^((www\\.|m\\.|wcms\\.)?"+hostnamesRegex+"|id\\.afl\\.com\\.au)$").test(hostname),afldomain:new RegExp("afl.com.au").test(hostname),afl:new RegExp("^(((pit(m|wcms)?\\.|mod(m|wcms)?\\.|stg(m|wcms)?\\.|((www|m|wcms)\\.)?)afl\\.com\\.au)|((m\\.|wcms\\.)?[a-zA-Z0-9]*\\.cloud.aflmedia.net))$").test(hostname),club:new RegExp("^(((pit(m|wcms)?\\.|mod(m|wcms)?\\.|stg(m|wcms)?\\.|((www|m|wcms)\\.)?)"+club2ndLevelDomainNamesRegex+"\\.com\\.au)|((m\\.|wcms\\.)?"+club2ndLevelDomainNamesRegex+"\\.[a-zA-Z0-9]*\\.cloud.aflmedia.net))$").test(hostname)};return flags.unknown=!(flags.afl||flags.club),flags},getSiteAbbr=exports.abbr=function(hostname){var aflNetworkNames=[{name:"afc",abbr:"adel"},{name:"lions",abbr:"bl"},{name:"carltonfc",abbr:"carl"},{name:"collingwoodfc",abbr:"coll"},{name:"essendonfc",abbr:"ess"},{name:"fremantlefc",abbr:"fre"},{name:"goldcoastfc",abbr:"gcfc"},{name:"geelongcats",abbr:"geel"},{name:"gwsgiants",abbr:"gws"},{name:"hawthornfc",abbr:"haw"},{name:"melbournefc",abbr:"melb"},{name:"nmfc",abbr:"nmfc"},{name:"portadelaidefc",abbr:"port"},{name:"richmondfc",abbr:"rich"},{name:"saints",abbr:"stk"},{name:"sydneyswans",abbr:"syd"},{name:"westernbulldogs",abbr:"wb"},{name:"westcoasteagles",abbr:"wce"},{name:"afl",abbr:"afl"}];for(i=0;i<aflNetworkNames.length;i++)if(hostname.indexOf(aflNetworkNames[i].name)>=0)return aflNetworkNames[i].abbr},hostname=window.location.hostname,$prototypesHostnameOverride=$(".js-prototypes-env-hostname-override");$prototypesHostnameOverride.length&&(hostname=$prototypesHostnameOverride.attr("data-hostname")),exports.is=describeHostnameAsFlags(hostname),exports.siteAbbr=getSiteAbbr(hostname)}(AFL.env,window),/*!
 * enquire.js v2.1.6 - Awesome Media Queries in JavaScript
 * Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT */
function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.enquire=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function MediaQuery(query,isUnconditional){this.query=query,this.isUnconditional=isUnconditional,this.handlers=[],this.mql=window.matchMedia(query);var self=this;this.listener=function(mql){self.mql=mql.currentTarget||mql,self.assess()},this.mql.addListener(this.listener)}var QueryHandler=require(3),each=require(4).each;MediaQuery.prototype={constuctor:MediaQuery,addHandler:function(handler){var qh=new QueryHandler(handler);this.handlers.push(qh),this.matches()&&qh.on()},removeHandler:function(handler){var handlers=this.handlers;each(handlers,function(h,i){return h.equals(handler)?(h.destroy(),!handlers.splice(i,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){each(this.handlers,function(handler){handler.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var action=this.matches()?"on":"off";each(this.handlers,function(handler){handler[action]()})}},module.exports=MediaQuery},{3:3,4:4}],2:[function(require,module,exports){function MediaQueryDispatch(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}var MediaQuery=require(1),Util=require(4),each=Util.each,isFunction=Util.isFunction,isArray=Util.isArray;MediaQueryDispatch.prototype={constructor:MediaQueryDispatch,register:function(q,options,shouldDegrade){var queries=this.queries,isUnconditional=shouldDegrade&&this.browserIsIncapable;return queries[q]||(queries[q]=new MediaQuery(q,isUnconditional)),isFunction(options)&&(options={match:options}),isArray(options)||(options=[options]),each(options,function(handler){isFunction(handler)&&(handler={match:handler}),queries[q].addHandler(handler)}),this},unregister:function(q,handler){var query=this.queries[q];return query&&(handler?query.removeHandler(handler):(query.clear(),delete this.queries[q])),this}},module.exports=MediaQueryDispatch},{1:1,4:4}],3:[function(require,module,exports){function QueryHandler(options){this.options=options,!options.deferSetup&&this.setup()}QueryHandler.prototype={constructor:QueryHandler,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(target){return this.options===target||this.options.match===target}},module.exports=QueryHandler},{}],4:[function(require,module,exports){function each(collection,fn){var cont,i=0,length=collection.length;for(i;length>i&&(cont=fn(collection[i],i),cont!==!1);i++);}function isArray(target){return"[object Array]"===Object.prototype.toString.apply(target)}function isFunction(target){return"function"==typeof target}module.exports={isFunction:isFunction,isArray:isArray,each:each}},{}],5:[function(require,module,exports){var MediaQueryDispatch=require(2);module.exports=new MediaQueryDispatch},{2:2}]},{},[5])(5)}),/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
function(window){"use strict";function isArraylike(obj){var length=obj.length,type=$.type(obj);return"function"===type||$.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}if(!window.jQuery){var $=function(selector,context){return new $.fn.init(selector,context)};$.isWindow=function(obj){return obj&&obj===obj.window},$.type=function(obj){return obj?"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj:obj+""},$.isArray=Array.isArray||function(obj){return"array"===$.type(obj)},$.isPlainObject=function(obj){var key;if(!obj||"object"!==$.type(obj)||obj.nodeType||$.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(key in obj);return void 0===key||hasOwn.call(obj,key)},$.each=function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(obj.hasOwnProperty(i)&&(value=callback.apply(obj[i],args),value===!1))break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(obj.hasOwnProperty(i)&&(value=callback.call(obj[i],i,obj[i]),value===!1))break;return obj},$.data=function(node,key,value){if(void 0===value){var getId=node[$.expando],store=getId&&cache[getId];if(void 0===key)return store;if(store&&key in store)return store[key]}else if(void 0!==key){var setId=node[$.expando]||(node[$.expando]=++$.uuid);return cache[setId]=cache[setId]||{},cache[setId][key]=value,value}},$.removeData=function(node,keys){var id=node[$.expando],store=id&&cache[id];store&&(keys?$.each(keys,function(_,key){delete store[key]}):delete cache[id])},$.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"!=typeof target&&"function"!==$.type(target)&&(target={}),i===length&&(target=this,i--);length>i;i++)if(options=arguments[i])for(name in options)options.hasOwnProperty(name)&&(src=target[name],copy=options[name],target!==copy&&(deep&&copy&&($.isPlainObject(copy)||(copyIsArray=$.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&$.isArray(src)?src:[]):clone=src&&$.isPlainObject(src)?src:{},target[name]=$.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy)));return target},$.queue=function(elem,type,data){function $makeArray(arr,results){var ret=results||[];return arr&&(isArraylike(Object(arr))?!function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;)first[i++]=second[j++];if(len!==len)for(;void 0!==second[j];)first[i++]=second[j++];return first.length=i,first}(ret,"string"==typeof arr?[arr]:arr):[].push.call(ret,arr)),ret}if(elem){type=(type||"fx")+"queue";var q=$.data(elem,type);return data?(!q||$.isArray(data)?q=$.data(elem,type,$makeArray(data)):q.push(data),q):q||[]}},$.dequeue=function(elems,type){$.each(elems.nodeType?[elems]:elems,function(i,elem){type=type||"fx";var queue=$.queue(elem,type),fn=queue.shift();"inprogress"===fn&&(fn=queue.shift()),fn&&("fx"===type&&queue.unshift("inprogress"),fn.call(elem,function(){$.dequeue(elem,type)}))})},$.fn=$.prototype={init:function(selector){if(selector.nodeType)return this[0]=selector,this;throw new Error("Not a DOM node.")},offset:function(){var box=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:box.top+(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:box.left+(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function offsetParentFn(elem){for(var offsetParent=elem.offsetParent;offsetParent&&"html"!==offsetParent.nodeName.toLowerCase()&&offsetParent.style&&"static"===offsetParent.style.position;)offsetParent=offsetParent.offsetParent;return offsetParent||document}var elem=this[0],offsetParent=offsetParentFn(elem),offset=this.offset(),parentOffset=/^(?:body|html)$/i.test(offsetParent.nodeName)?{top:0,left:0}:$(offsetParent).offset();return offset.top-=parseFloat(elem.style.marginTop)||0,offset.left-=parseFloat(elem.style.marginLeft)||0,offsetParent.style&&(parentOffset.top+=parseFloat(offsetParent.style.borderTopWidth)||0,parentOffset.left+=parseFloat(offsetParent.style.borderLeftWidth)||0),{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}};var cache={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var class2type={},hasOwn=class2type.hasOwnProperty,toString=class2type.toString,types="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<types.length;i++)class2type["[object "+types[i]+"]"]=types[i].toLowerCase();$.fn.init.prototype=$.fn,window.Velocity={Utilities:$}}}(window),function(factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=factory():"function"==typeof define&&define.amd?define(factory):factory()}(function(){"use strict";return function(global,window,document,undefined){/* Array compacting. Copyright Lo-Dash. MIT License: https://github.com/lodash/lodash/blob/master/LICENSE.txt */
function compactSparseArray(array){for(var index=-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];value&&result.push(value)}return result}function sanitizeElements(elements){return Type.isWrapped(elements)?elements=_slice.call(elements):Type.isNode(elements)&&(elements=[elements]),elements}function Data(element){var response=$.data(element,"velocity");return null===response?undefined:response}function pauseDelayOnElement(element,currentTime){var data=Data(element);data&&data.delayTimer&&!data.delayPaused&&(data.delayRemaining=data.delay-currentTime+data.delayBegin,data.delayPaused=!0,clearTimeout(data.delayTimer.setTimeout))}function resumeDelayOnElement(element,currentTime){var data=Data(element);data&&data.delayTimer&&data.delayPaused&&(data.delayPaused=!1,data.delayTimer.setTimeout=setTimeout(data.delayTimer.next,data.delayRemaining))}function generateStep(steps){return function(p){return Math.round(p*steps)*(1/steps)}}/* Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */
function generateBezier(mX1,mY1,mX2,mY2){function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function newtonRaphsonIterate(aX,aGuessT){for(var i=0;NEWTON_ITERATIONS>i;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(0===currentSlope)return aGuessT;var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope}return aGuessT}function calcSampleValues(){for(var i=0;kSplineTableSize>i;++i)mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2)}function binarySubdivide(aX,aA,aB){var currentX,currentT,i=0;do currentT=aA+(aB-aA)/2,currentX=calcBezier(currentT,mX1,mX2)-aX,currentX>0?aB=currentT:aA=currentT;while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT}function getTForX(aX){for(var intervalStart=0,currentSample=1,lastSample=kSplineTableSize-1;currentSample!==lastSample&&mSampleValues[currentSample]<=aX;++currentSample)intervalStart+=kSampleStepSize;--currentSample;var dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]),guessForT=intervalStart+dist*kSampleStepSize,initialSlope=getSlope(guessForT,mX1,mX2);return initialSlope>=NEWTON_MIN_SLOPE?newtonRaphsonIterate(aX,guessForT):0===initialSlope?guessForT:binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize)}function precompute(){_precomputed=!0,(mX1!==mY1||mX2!==mY2)&&calcSampleValues()}var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported="Float32Array"in window;if(4!==arguments.length)return!1;for(var i=0;4>i;++i)if("number"!=typeof arguments[i]||isNaN(arguments[i])||!isFinite(arguments[i]))return!1;mX1=Math.min(mX1,1),mX2=Math.min(mX2,1),mX1=Math.max(mX1,0),mX2=Math.max(mX2,0);var mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize),_precomputed=!1,f=function(aX){return _precomputed||precompute(),mX1===mY1&&mX2===mY2?aX:0===aX?0:1===aX?1:calcBezier(getTForX(aX),mY1,mY2)};f.getControlPoints=function(){return[{x:mX1,y:mY1},{x:mX2,y:mY2}]};var str="generateBezier("+[mX1,mY1,mX2,mY2]+")";return f.toString=function(){return str},f}function getEasing(value,duration){var easing=value;return Type.isString(value)?Velocity.Easings[value]||(easing=!1):easing=Type.isArray(value)&&1===value.length?generateStep.apply(null,value):Type.isArray(value)&&2===value.length?generateSpringRK4.apply(null,value.concat([duration])):Type.isArray(value)&&4===value.length?generateBezier.apply(null,value):!1,easing===!1&&(easing=Velocity.Easings[Velocity.defaults.easing]?Velocity.defaults.easing:EASING_DEFAULT),easing}function tick(timestamp){if(timestamp){var timeCurrent=Velocity.timestamp&&timestamp!==!0?timestamp:performance.now(),callsLength=Velocity.State.calls.length;callsLength>1e4&&(Velocity.State.calls=compactSparseArray(Velocity.State.calls),callsLength=Velocity.State.calls.length);for(var i=0;callsLength>i;i++)if(Velocity.State.calls[i]){var callContainer=Velocity.State.calls[i],call=callContainer[0],opts=callContainer[2],timeStart=callContainer[3],firstTick=!!timeStart,tweenDummyValue=null,pauseObject=callContainer[5],millisecondsEllapsed=callContainer[6];if(timeStart||(timeStart=Velocity.State.calls[i][3]=timeCurrent-16),pauseObject){if(pauseObject.resume!==!0)continue;timeStart=callContainer[3]=Math.round(timeCurrent-millisecondsEllapsed-16),callContainer[5]=null}millisecondsEllapsed=callContainer[6]=timeCurrent-timeStart;for(var percentComplete=Math.min(millisecondsEllapsed/opts.duration,1),j=0,callLength=call.length;callLength>j;j++){var tweensContainer=call[j],element=tweensContainer.element;if(Data(element)){var transformPropertyExists=!1;if(opts.display!==undefined&&null!==opts.display&&"none"!==opts.display){if("flex"===opts.display){var flexValues=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(flexValues,function(i,flexValue){CSS.setPropertyValue(element,"display",flexValue)})}CSS.setPropertyValue(element,"display",opts.display)}opts.visibility!==undefined&&"hidden"!==opts.visibility&&CSS.setPropertyValue(element,"visibility",opts.visibility);for(var property in tweensContainer)if(tweensContainer.hasOwnProperty(property)&&"element"!==property){var currentValue,tween=tweensContainer[property],easing=Type.isString(tween.easing)?Velocity.Easings[tween.easing]:tween.easing;if(Type.isString(tween.pattern)){var patternReplace=1===percentComplete?function($0,index,round){var result=tween.endValue[index];return round?Math.round(result):result}:function($0,index,round){var startValue=tween.startValue[index],tweenDelta=tween.endValue[index]-startValue,result=startValue+tweenDelta*easing(percentComplete,opts,tweenDelta);return round?Math.round(result):result};currentValue=tween.pattern.replace(/{(\d+)(!)?}/g,patternReplace)}else if(1===percentComplete)currentValue=tween.endValue;else{var tweenDelta=tween.endValue-tween.startValue;currentValue=tween.startValue+tweenDelta*easing(percentComplete,opts,tweenDelta)}if(!firstTick&&currentValue===tween.currentValue)continue;if(tween.currentValue=currentValue,"tween"===property)tweenDummyValue=currentValue;else{var hookRoot;if(CSS.Hooks.registered[property]){hookRoot=CSS.Hooks.getRoot(property);var rootPropertyValueCache=Data(element).rootPropertyValueCache[hookRoot];rootPropertyValueCache&&(tween.rootPropertyValue=rootPropertyValueCache)}var adjustedSetData=CSS.setPropertyValue(element,property,tween.currentValue+(9>IE&&0===parseFloat(currentValue)?"":tween.unitType),tween.rootPropertyValue,tween.scrollData);CSS.Hooks.registered[property]&&(CSS.Normalizations.registered[hookRoot]?Data(element).rootPropertyValueCache[hookRoot]=CSS.Normalizations.registered[hookRoot]("extract",null,adjustedSetData[1]):Data(element).rootPropertyValueCache[hookRoot]=adjustedSetData[1]),"transform"===adjustedSetData[0]&&(transformPropertyExists=!0)}}opts.mobileHA&&Data(element).transformCache.translate3d===undefined&&(Data(element).transformCache.translate3d="(0px, 0px, 0px)",transformPropertyExists=!0),transformPropertyExists&&CSS.flushTransformCache(element)}}opts.display!==undefined&&"none"!==opts.display&&(Velocity.State.calls[i][2].display=!1),opts.visibility!==undefined&&"hidden"!==opts.visibility&&(Velocity.State.calls[i][2].visibility=!1),opts.progress&&opts.progress.call(callContainer[1],callContainer[1],percentComplete,Math.max(0,timeStart+opts.duration-timeCurrent),timeStart,tweenDummyValue),1===percentComplete&&completeCall(i)}}Velocity.State.isTicking&&ticker(tick)}function completeCall(callIndex,isStopped){if(!Velocity.State.calls[callIndex])return!1;for(var call=Velocity.State.calls[callIndex][0],elements=Velocity.State.calls[callIndex][1],opts=Velocity.State.calls[callIndex][2],resolver=Velocity.State.calls[callIndex][4],remainingCallsExist=!1,i=0,callLength=call.length;callLength>i;i++){var element=call[i].element;isStopped||opts.loop||("none"===opts.display&&CSS.setPropertyValue(element,"display",opts.display),"hidden"===opts.visibility&&CSS.setPropertyValue(element,"visibility",opts.visibility));var data=Data(element);if(opts.loop!==!0&&($.queue(element)[1]===undefined||!/\.velocityQueueEntryFlag/i.test($.queue(element)[1]))&&data){data.isAnimating=!1,data.rootPropertyValueCache={};var transformHAPropertyExists=!1;$.each(CSS.Lists.transforms3D,function(i,transformName){var defaultValue=/^scale/.test(transformName)?1:0,currentValue=data.transformCache[transformName];data.transformCache[transformName]!==undefined&&new RegExp("^\\("+defaultValue+"[^.]").test(currentValue)&&(transformHAPropertyExists=!0,delete data.transformCache[transformName])}),opts.mobileHA&&(transformHAPropertyExists=!0,delete data.transformCache.translate3d),transformHAPropertyExists&&CSS.flushTransformCache(element),CSS.Values.removeClass(element,"velocity-animating")}if(!isStopped&&opts.complete&&!opts.loop&&i===callLength-1)try{opts.complete.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}resolver&&opts.loop!==!0&&resolver(elements),data&&opts.loop===!0&&!isStopped&&($.each(data.tweensContainer,function(propertyName,tweenContainer){if(/^rotate/.test(propertyName)&&(parseFloat(tweenContainer.startValue)-parseFloat(tweenContainer.endValue))%360===0){var oldStartValue=tweenContainer.startValue;tweenContainer.startValue=tweenContainer.endValue,tweenContainer.endValue=oldStartValue}/^backgroundPosition/.test(propertyName)&&100===parseFloat(tweenContainer.endValue)&&"%"===tweenContainer.unitType&&(tweenContainer.endValue=0,tweenContainer.startValue=100)}),Velocity(element,"reverse",{loop:!0,delay:opts.delay})),opts.queue!==!1&&$.dequeue(element,opts.queue)}Velocity.State.calls[callIndex]=!1;for(var j=0,callsLength=Velocity.State.calls.length;callsLength>j;j++)if(Velocity.State.calls[j]!==!1){remainingCallsExist=!0;break}remainingCallsExist===!1&&(Velocity.State.isTicking=!1,delete Velocity.State.calls,Velocity.State.calls=[])}var $,IE=function(){if(document.documentMode)return document.documentMode;for(var i=7;i>4;i--){var div=document.createElement("div");if(div.innerHTML="<!--[if IE "+i+"]><span></span><![endif]-->",div.getElementsByTagName("span").length)return div=null,i}return undefined}(),rAFShim=function(){var timeLast=0;return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){var timeDelta,timeCurrent=(new Date).getTime();return timeDelta=Math.max(0,16-(timeCurrent-timeLast)),timeLast=timeCurrent+timeDelta,setTimeout(function(){callback(timeCurrent+timeDelta)},timeDelta)}}(),performance=function(){var perf=window.performance||{};if("function"!=typeof perf.now){var nowOffset=perf.timing&&perf.timing.navigationStart?perf.timing.navigationStart:(new Date).getTime();perf.now=function(){return(new Date).getTime()-nowOffset}}return perf}(),_slice=function(){var slice=Array.prototype.slice;try{return slice.call(document.documentElement),slice}catch(e){return function(begin,end){var len=this.length;if("number"!=typeof begin&&(begin=0),"number"!=typeof end&&(end=len),this.slice)return slice.call(this,begin,end);var i,cloned=[],start=begin>=0?begin:Math.max(0,len+begin),upTo=0>end?len+end:Math.min(end,len),size=upTo-start;if(size>0)if(cloned=new Array(size),this.charAt)for(i=0;size>i;i++)cloned[i]=this.charAt(start+i);else for(i=0;size>i;i++)cloned[i]=this[start+i];return cloned}}}(),_inArray=function(){return Array.prototype.includes?function(arr,val){return arr.includes(val)}:Array.prototype.indexOf?function(arr,val){return arr.indexOf(val)>=0}:function(arr,val){for(var i=0;i<arr.length;i++)if(arr[i]===val)return!0;return!1}},Type={isNumber:function(variable){return"number"==typeof variable},isString:function(variable){return"string"==typeof variable},isArray:Array.isArray||function(variable){return"[object Array]"===Object.prototype.toString.call(variable)},isFunction:function(variable){return"[object Function]"===Object.prototype.toString.call(variable)},isNode:function(variable){return variable&&variable.nodeType},isWrapped:function(variable){return variable&&variable!==window&&Type.isNumber(variable.length)&&!Type.isString(variable)&&!Type.isFunction(variable)&&!Type.isNode(variable)&&(0===variable.length||Type.isNode(variable[0]))},isSVG:function(variable){return window.SVGElement&&variable instanceof window.SVGElement},isEmptyObject:function(variable){for(var name in variable)if(variable.hasOwnProperty(name))return!1;return!0}},isJQuery=!1;if(global.fn&&global.fn.jquery?($=global,isJQuery=!0):$=window.Velocity.Utilities,8>=IE&&!isJQuery)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=IE)return void(jQuery.fn.velocity=jQuery.fn.animate);var DURATION_DEFAULT=400,EASING_DEFAULT="swing",Velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:window.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:document.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:window.Promise,defaults:{queue:"",duration:DURATION_DEFAULT,easing:EASING_DEFAULT,begin:undefined,complete:undefined,progress:undefined,display:undefined,visibility:undefined,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(element){$.data(element,"velocity",{isSVG:Type.isSVG(element),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:0},debug:!1,timestamp:!0,pauseAll:function(queueName){var currentTime=(new Date).getTime();$.each(Velocity.State.calls,function(i,activeCall){if(activeCall){if(queueName!==undefined&&(activeCall[2].queue!==queueName||activeCall[2].queue===!1))return!0;activeCall[5]={resume:!1}}}),$.each(Velocity.State.delayedElements,function(k,element){element&&pauseDelayOnElement(element,currentTime)})},resumeAll:function(queueName){var currentTime=(new Date).getTime();$.each(Velocity.State.calls,function(i,activeCall){if(activeCall){if(queueName!==undefined&&(activeCall[2].queue!==queueName||activeCall[2].queue===!1))return!0;activeCall[5]&&(activeCall[5].resume=!0)}}),$.each(Velocity.State.delayedElements,function(k,element){element&&resumeDelayOnElement(element,currentTime)})}};window.pageYOffset!==undefined?(Velocity.State.scrollAnchor=window,Velocity.State.scrollPropertyLeft="pageXOffset",Velocity.State.scrollPropertyTop="pageYOffset"):(Velocity.State.scrollAnchor=document.documentElement||document.body.parentNode||document.body,Velocity.State.scrollPropertyLeft="scrollLeft",Velocity.State.scrollPropertyTop="scrollTop");/* Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var generateSpringRK4=function(){function springAccelerationForState(state){return-state.tension*state.x-state.friction*state.v}function springEvaluateStateWithDerivative(initialState,dt,derivative){var state={x:initialState.x+derivative.dx*dt,v:initialState.v+derivative.dv*dt,tension:initialState.tension,friction:initialState.friction};return{dx:state.v,dv:springAccelerationForState(state)}}function springIntegrateState(state,dt){var a={dx:state.v,dv:springAccelerationForState(state)},b=springEvaluateStateWithDerivative(state,.5*dt,a),c=springEvaluateStateWithDerivative(state,.5*dt,b),d=springEvaluateStateWithDerivative(state,dt,c),dxdt=1/6*(a.dx+2*(b.dx+c.dx)+d.dx),dvdt=1/6*(a.dv+2*(b.dv+c.dv)+d.dv);return state.x=state.x+dxdt*dt,state.v=state.v+dvdt*dt,state}return function springRK4Factory(tension,friction,duration){var have_duration,dt,last_state,initState={x:-1,v:0,tension:null,friction:null},path=[0],time_lapsed=0,tolerance=1e-4,DT=.016;for(tension=parseFloat(tension)||500,friction=parseFloat(friction)||20,duration=duration||null,initState.tension=tension,initState.friction=friction,have_duration=null!==duration,have_duration?(time_lapsed=springRK4Factory(tension,friction),dt=time_lapsed/duration*DT):dt=DT;;)if(last_state=springIntegrateState(last_state||initState,dt),path.push(1+last_state.x),time_lapsed+=16,!(Math.abs(last_state.x)>tolerance&&Math.abs(last_state.v)>tolerance))break;return have_duration?function(percentComplete){return path[percentComplete*(path.length-1)|0]}:time_lapsed}}();Velocity.Easings={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},spring:function(p){return 1-Math.cos(4.5*p*Math.PI)*Math.exp(6*-p)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(i,easingArray){Velocity.Easings[easingArray[0]]=generateBezier.apply(null,easingArray[1])});var CSS=Velocity.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var i=0;i<CSS.Lists.colors.length;i++){var rgbComponents="color"===CSS.Lists.colors[i]?"0 0 0 1":"255 255 255 1";CSS.Hooks.templates[CSS.Lists.colors[i]]=["Red Green Blue Alpha",rgbComponents]}var rootProperty,hookTemplate,hookNames;if(IE)for(rootProperty in CSS.Hooks.templates)if(CSS.Hooks.templates.hasOwnProperty(rootProperty)){hookTemplate=CSS.Hooks.templates[rootProperty],hookNames=hookTemplate[0].split(" ");var defaultValues=hookTemplate[1].match(CSS.RegEx.valueSplit);"Color"===hookNames[0]&&(hookNames.push(hookNames.shift()),defaultValues.push(defaultValues.shift()),CSS.Hooks.templates[rootProperty]=[hookNames.join(" "),defaultValues.join(" ")])}for(rootProperty in CSS.Hooks.templates)if(CSS.Hooks.templates.hasOwnProperty(rootProperty)){hookTemplate=CSS.Hooks.templates[rootProperty],hookNames=hookTemplate[0].split(" ");for(var j in hookNames)if(hookNames.hasOwnProperty(j)){var fullHookName=rootProperty+hookNames[j],hookPosition=j;CSS.Hooks.registered[fullHookName]=[rootProperty,hookPosition]}}},getRoot:function(property){var hookData=CSS.Hooks.registered[property];return hookData?hookData[0]:property},getUnit:function(str,start){var unit=(str.substr(start||0,5).match(/^[a-z%]+/)||[])[0]||"";return unit&&_inArray(CSS.Lists.units,unit)?unit:""},fixColors:function(str){return str.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function($0,$1,$2){return CSS.Lists.colorNames.hasOwnProperty($2)?($1?$1:"rgba(")+CSS.Lists.colorNames[$2]+($1?"":",1)"):$1+$2})},cleanRootPropertyValue:function(rootProperty,rootPropertyValue){return CSS.RegEx.valueUnwrap.test(rootPropertyValue)&&(rootPropertyValue=rootPropertyValue.match(CSS.RegEx.valueUnwrap)[1]),CSS.Values.isCSSNullValue(rootPropertyValue)&&(rootPropertyValue=CSS.Hooks.templates[rootProperty][1]),rootPropertyValue},extractValue:function(fullHookName,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var hookRoot=hookData[0],hookPosition=hookData[1];return rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue),rootPropertyValue.toString().match(CSS.RegEx.valueSplit)[hookPosition]}return rootPropertyValue},injectValue:function(fullHookName,hookValue,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var rootPropertyValueParts,rootPropertyValueUpdated,hookRoot=hookData[0],hookPosition=hookData[1];return rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue),rootPropertyValueParts=rootPropertyValue.toString().match(CSS.RegEx.valueSplit),rootPropertyValueParts[hookPosition]=hookValue,rootPropertyValueUpdated=rootPropertyValueParts.join(" ")}return rootPropertyValue}},Normalizations:{registered:{clip:function(type,element,propertyValue){switch(type){case"name":return"clip";case"extract":var extracted;return CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)?extracted=propertyValue:(extracted=propertyValue.toString().match(CSS.RegEx.valueUnwrap),extracted=extracted?extracted[1].replace(/,(\s+)?/g," "):propertyValue),extracted;case"inject":return"rect("+propertyValue+")"}},blur:function(type,element,propertyValue){switch(type){case"name":return Velocity.State.isFirefox?"filter":"-webkit-filter";case"extract":var extracted=parseFloat(propertyValue);if(!extracted&&0!==extracted){var blurComponent=propertyValue.toString().match(/blur\(([0-9]+[A-z]+)\)/i);extracted=blurComponent?blurComponent[1]:0}return extracted;case"inject":return parseFloat(propertyValue)?"blur("+propertyValue+")":"none"}},opacity:function(type,element,propertyValue){if(8>=IE)switch(type){case"name":return"filter";case"extract":var extracted=propertyValue.toString().match(/alpha\(opacity=(.*)\)/i);return propertyValue=extracted?extracted[1]/100:1;case"inject":return element.style.zoom=1,parseFloat(propertyValue)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(propertyValue),10)+")"}else switch(type){case"name":return"opacity";case"extract":return propertyValue;case"inject":return propertyValue}}},register:function(){function augmentDimension(name,element,wantInner){var isBorderBox="border-box"===CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase();if(isBorderBox===(wantInner||!1)){var i,value,augment=0,sides="width"===name?["Left","Right"]:["Top","Bottom"],fields=["padding"+sides[0],"padding"+sides[1],"border"+sides[0]+"Width","border"+sides[1]+"Width"];for(i=0;i<fields.length;i++)value=parseFloat(CSS.getPropertyValue(element,fields[i])),isNaN(value)||(augment+=value);return wantInner?-augment:augment}return 0}function getDimension(name,wantInner){return function(type,element,propertyValue){switch(type){case"name":return name;case"extract":return parseFloat(propertyValue)+augmentDimension(name,element,wantInner);case"inject":return parseFloat(propertyValue)-augmentDimension(name,element,wantInner)+"px"}}}IE&&!(IE>9)||Velocity.State.isGingerbread||(CSS.Lists.transformsBase=CSS.Lists.transformsBase.concat(CSS.Lists.transforms3D));for(var i=0;i<CSS.Lists.transformsBase.length;i++)!function(){var transformName=CSS.Lists.transformsBase[i];CSS.Normalizations.registered[transformName]=function(type,element,propertyValue){switch(type){case"name":return"transform";case"extract":return Data(element)===undefined||Data(element).transformCache[transformName]===undefined?/^scale/i.test(transformName)?1:0:Data(element).transformCache[transformName].replace(/[()]/g,"");case"inject":var invalid=!1;switch(transformName.substr(0,transformName.length-1)){case"translate":invalid=!/(%|px|em|rem|vw|vh|\d)$/i.test(propertyValue);break;case"scal":case"scale":Velocity.State.isAndroid&&Data(element).transformCache[transformName]===undefined&&1>propertyValue&&(propertyValue=1),invalid=!/(\d)$/i.test(propertyValue);break;case"skew":invalid=!/(deg|\d)$/i.test(propertyValue);break;case"rotate":invalid=!/(deg|\d)$/i.test(propertyValue)}return invalid||(Data(element).transformCache[transformName]="("+propertyValue+")"),Data(element).transformCache[transformName]}}}();for(var j=0;j<CSS.Lists.colors.length;j++)!function(){var colorName=CSS.Lists.colors[j];CSS.Normalizations.registered[colorName]=function(type,element,propertyValue){switch(type){case"name":return colorName;case"extract":var extracted;if(CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue))extracted=propertyValue;else{var converted,colorNames={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(propertyValue)?converted=colorNames[propertyValue]!==undefined?colorNames[propertyValue]:colorNames.black:CSS.RegEx.isHex.test(propertyValue)?converted="rgb("+CSS.Values.hexToRgb(propertyValue).join(" ")+")":/^rgba?\(/i.test(propertyValue)||(converted=colorNames.black),extracted=(converted||propertyValue).toString().match(CSS.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!IE||IE>8)&&3===extracted.split(" ").length&&(extracted+=" 1"),extracted;case"inject":return/^rgb/.test(propertyValue)?propertyValue:(8>=IE?4===propertyValue.split(" ").length&&(propertyValue=propertyValue.split(/\s+/).slice(0,3).join(" ")):3===propertyValue.split(" ").length&&(propertyValue+=" 1"),(8>=IE?"rgb":"rgba")+"("+propertyValue.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();CSS.Normalizations.registered.innerWidth=getDimension("width",!0),CSS.Normalizations.registered.innerHeight=getDimension("height",!0),CSS.Normalizations.registered.outerWidth=getDimension("width"),CSS.Normalizations.registered.outerHeight=getDimension("height")}},Names:{camelCase:function(property){return property.replace(/-(\w)/g,function(match,subMatch){return subMatch.toUpperCase()})},SVGAttribute:function(property){var SVGAttributes="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(IE||Velocity.State.isAndroid&&!Velocity.State.isChrome)&&(SVGAttributes+="|transform"),new RegExp("^("+SVGAttributes+")$","i").test(property)},prefixCheck:function(property){if(Velocity.State.prefixMatches[property])return[Velocity.State.prefixMatches[property],!0];for(var vendors=["","Webkit","Moz","ms","O"],i=0,vendorsLength=vendors.length;vendorsLength>i;i++){var propertyPrefixed;if(propertyPrefixed=0===i?property:vendors[i]+property.replace(/^\w/,function(match){return match.toUpperCase()}),Type.isString(Velocity.State.prefixElement.style[propertyPrefixed]))return Velocity.State.prefixMatches[property]=propertyPrefixed,[propertyPrefixed,!0]}return[property,!1]}},Values:{/* Hex to RGB conversion. Copyright Tim Down: http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb */
hexToRgb:function(hex){var rgbParts,shortformRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,longformRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return hex=hex.replace(shortformRegex,function(m,r,g,b){return r+r+g+g+b+b}),rgbParts=longformRegex.exec(hex),rgbParts?[parseInt(rgbParts[1],16),parseInt(rgbParts[2],16),parseInt(rgbParts[3],16)]:[0,0,0]},isCSSNullValue:function(value){return!value||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(value)},getUnitType:function(property){return/^(rotate|skew)/i.test(property)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(property)?"":"px"},getDisplayType:function(element){var tagName=element&&element.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(tagName)?"inline":/^(li)$/i.test(tagName)?"list-item":/^(tr)$/i.test(tagName)?"table-row":/^(table)$/i.test(tagName)?"table":/^(tbody)$/i.test(tagName)?"table-row-group":"block"},addClass:function(element,className){if(element)if(element.classList)element.classList.add(className);else if(Type.isString(element.className))element.className+=(element.className.length?" ":"")+className;else{var currentClass=element.getAttribute(7>=IE?"className":"class")||"";element.setAttribute("class",currentClass+(currentClass?" ":"")+className)}},removeClass:function(element,className){if(element)if(element.classList)element.classList.remove(className);else if(Type.isString(element.className))element.className=element.className.toString().replace(new RegExp("(^|\\s)"+className.split(" ").join("|")+"(\\s|$)","gi")," ");else{var currentClass=element.getAttribute(7>=IE?"className":"class")||"";element.setAttribute("class",currentClass.replace(new RegExp("(^|s)"+className.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(element,property,rootPropertyValue,forceStyleLookup){function computePropertyValue(element,property){var computedValue=0;if(8>=IE)computedValue=$.css(element,property);else{var toggleDisplay=!1;/^(width|height)$/.test(property)&&0===CSS.getPropertyValue(element,"display")&&(toggleDisplay=!0,CSS.setPropertyValue(element,"display",CSS.Values.getDisplayType(element)));var revertDisplay=function(){toggleDisplay&&CSS.setPropertyValue(element,"display","none")};if(!forceStyleLookup){if("height"===property&&"border-box"!==CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()){var contentBoxHeight=element.offsetHeight-(parseFloat(CSS.getPropertyValue(element,"borderTopWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderBottomWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingTop"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingBottom"))||0);return revertDisplay(),contentBoxHeight}if("width"===property&&"border-box"!==CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()){var contentBoxWidth=element.offsetWidth-(parseFloat(CSS.getPropertyValue(element,"borderLeftWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderRightWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingLeft"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingRight"))||0);return revertDisplay(),contentBoxWidth}}var computedStyle;computedStyle=Data(element)===undefined?window.getComputedStyle(element,null):Data(element).computedStyle?Data(element).computedStyle:Data(element).computedStyle=window.getComputedStyle(element,null),"borderColor"===property&&(property="borderTopColor"),computedValue=9===IE&&"filter"===property?computedStyle.getPropertyValue(property):computedStyle[property],(""===computedValue||null===computedValue)&&(computedValue=element.style[property]),revertDisplay()}if("auto"===computedValue&&/^(top|right|bottom|left)$/i.test(property)){var position=computePropertyValue(element,"position");("fixed"===position||"absolute"===position&&/top|left/i.test(property))&&(computedValue=$(element).position()[property]+"px")}return computedValue}var propertyValue;if(CSS.Hooks.registered[property]){var hook=property,hookRoot=CSS.Hooks.getRoot(hook);rootPropertyValue===undefined&&(rootPropertyValue=CSS.getPropertyValue(element,CSS.Names.prefixCheck(hookRoot)[0])),CSS.Normalizations.registered[hookRoot]&&(rootPropertyValue=CSS.Normalizations.registered[hookRoot]("extract",element,rootPropertyValue)),propertyValue=CSS.Hooks.extractValue(hook,rootPropertyValue)}else if(CSS.Normalizations.registered[property]){var normalizedPropertyName,normalizedPropertyValue;normalizedPropertyName=CSS.Normalizations.registered[property]("name",element),"transform"!==normalizedPropertyName&&(normalizedPropertyValue=computePropertyValue(element,CSS.Names.prefixCheck(normalizedPropertyName)[0]),CSS.Values.isCSSNullValue(normalizedPropertyValue)&&CSS.Hooks.templates[property]&&(normalizedPropertyValue=CSS.Hooks.templates[property][1])),propertyValue=CSS.Normalizations.registered[property]("extract",element,normalizedPropertyValue)}if(!/^[\d-]/.test(propertyValue)){var data=Data(element);if(data&&data.isSVG&&CSS.Names.SVGAttribute(property))if(/^(height|width)$/i.test(property))try{propertyValue=element.getBBox()[property]}catch(error){propertyValue=0}else propertyValue=element.getAttribute(property);else propertyValue=computePropertyValue(element,CSS.Names.prefixCheck(property)[0])}return CSS.Values.isCSSNullValue(propertyValue)&&(propertyValue=0),Velocity.debug>=2&&console.log("Get "+property+": "+propertyValue),propertyValue},setPropertyValue:function(element,property,propertyValue,rootPropertyValue,scrollData){var propertyName=property;if("scroll"===property)scrollData.container?scrollData.container["scroll"+scrollData.direction]=propertyValue:"Left"===scrollData.direction?window.scrollTo(propertyValue,scrollData.alternateValue):window.scrollTo(scrollData.alternateValue,propertyValue);else if(CSS.Normalizations.registered[property]&&"transform"===CSS.Normalizations.registered[property]("name",element))CSS.Normalizations.registered[property]("inject",element,propertyValue),propertyName="transform",propertyValue=Data(element).transformCache[property];else{if(CSS.Hooks.registered[property]){var hookName=property,hookRoot=CSS.Hooks.getRoot(property);rootPropertyValue=rootPropertyValue||CSS.getPropertyValue(element,hookRoot),propertyValue=CSS.Hooks.injectValue(hookName,propertyValue,rootPropertyValue),property=hookRoot}if(CSS.Normalizations.registered[property]&&(propertyValue=CSS.Normalizations.registered[property]("inject",element,propertyValue),property=CSS.Normalizations.registered[property]("name",element)),propertyName=CSS.Names.prefixCheck(property)[0],8>=IE)try{element.style[propertyName]=propertyValue}catch(error){Velocity.debug&&console.log("Browser does not support ["+propertyValue+"] for ["+propertyName+"]")}else{var data=Data(element);data&&data.isSVG&&CSS.Names.SVGAttribute(property)?element.setAttribute(property,propertyValue):element.style[propertyName]=propertyValue}Velocity.debug>=2&&console.log("Set "+property+" ("+propertyName+"): "+propertyValue)}return[propertyName,propertyValue]},flushTransformCache:function(element){var transformString="",data=Data(element);if((IE||Velocity.State.isAndroid&&!Velocity.State.isChrome)&&data&&data.isSVG){var getTransformFloat=function(transformProperty){return parseFloat(CSS.getPropertyValue(element,transformProperty))},SVGTransforms={translate:[getTransformFloat("translateX"),getTransformFloat("translateY")],skewX:[getTransformFloat("skewX")],skewY:[getTransformFloat("skewY")],scale:1!==getTransformFloat("scale")?[getTransformFloat("scale"),getTransformFloat("scale")]:[getTransformFloat("scaleX"),getTransformFloat("scaleY")],rotate:[getTransformFloat("rotateZ"),0,0]};$.each(Data(element).transformCache,function(transformName){/^translate/i.test(transformName)?transformName="translate":/^scale/i.test(transformName)?transformName="scale":/^rotate/i.test(transformName)&&(transformName="rotate"),SVGTransforms[transformName]&&(transformString+=transformName+"("+SVGTransforms[transformName].join(" ")+") ",delete SVGTransforms[transformName])})}else{var transformValue,perspective;$.each(Data(element).transformCache,function(transformName){return transformValue=Data(element).transformCache[transformName],"transformPerspective"===transformName?(perspective=transformValue,!0):(9===IE&&"rotateZ"===transformName&&(transformName="rotate"),void(transformString+=transformName+transformValue+" "))}),perspective&&(transformString="perspective"+perspective+" "+transformString)}CSS.setPropertyValue(element,"transform",transformString)}};CSS.Hooks.register(),CSS.Normalizations.register(),Velocity.hook=function(elements,arg2,arg3){var value;return elements=sanitizeElements(elements),$.each(elements,function(i,element){if(Data(element)===undefined&&Velocity.init(element),arg3===undefined)value===undefined&&(value=CSS.getPropertyValue(element,arg2));else{var adjustedSet=CSS.setPropertyValue(element,arg2,arg3);"transform"===adjustedSet[0]&&Velocity.CSS.flushTransformCache(element),value=adjustedSet}}),value};var animate=function(){function getChain(){return isUtility?promiseData.promise||null:elementsWrapped}function processElement(element,elementArrayIndex){function buildQueue(next){var data,lastTweensContainer;if(opts.begin&&0===elementsIndex)try{opts.begin.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}if("scroll"===action){var scrollPositionCurrent,scrollPositionCurrentAlternate,scrollPositionEnd,scrollDirection=/^x$/i.test(opts.axis)?"Left":"Top",scrollOffset=parseFloat(opts.offset)||0;opts.container?Type.isWrapped(opts.container)||Type.isNode(opts.container)?(opts.container=opts.container[0]||opts.container,scrollPositionCurrent=opts.container["scroll"+scrollDirection],scrollPositionEnd=scrollPositionCurrent+$(element).position()[scrollDirection.toLowerCase()]+scrollOffset):opts.container=null:(scrollPositionCurrent=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+scrollDirection]],scrollPositionCurrentAlternate=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+("Left"===scrollDirection?"Top":"Left")]],scrollPositionEnd=$(element).offset()[scrollDirection.toLowerCase()]+scrollOffset),tweensContainer={scroll:{rootPropertyValue:!1,startValue:scrollPositionCurrent,currentValue:scrollPositionCurrent,endValue:scrollPositionEnd,unitType:"",easing:opts.easing,scrollData:{container:opts.container,direction:scrollDirection,alternateValue:scrollPositionCurrentAlternate}},element:element},Velocity.debug&&console.log("tweensContainer (scroll): ",tweensContainer.scroll,element)}else if("reverse"===action){if(data=Data(element),!data)return;if(!data.tweensContainer)return void $.dequeue(element,opts.queue);"none"===data.opts.display&&(data.opts.display="auto"),"hidden"===data.opts.visibility&&(data.opts.visibility="visible"),data.opts.loop=!1,data.opts.begin=null,data.opts.complete=null,options.easing||delete opts.easing,options.duration||delete opts.duration,opts=$.extend({},data.opts,opts),lastTweensContainer=$.extend(!0,{},data?data.tweensContainer:null);for(var lastTween in lastTweensContainer)if(lastTweensContainer.hasOwnProperty(lastTween)&&"element"!==lastTween){var lastStartValue=lastTweensContainer[lastTween].startValue;lastTweensContainer[lastTween].startValue=lastTweensContainer[lastTween].currentValue=lastTweensContainer[lastTween].endValue,lastTweensContainer[lastTween].endValue=lastStartValue,Type.isEmptyObject(options)||(lastTweensContainer[lastTween].easing=opts.easing),Velocity.debug&&console.log("reverse tweensContainer ("+lastTween+"): "+JSON.stringify(lastTweensContainer[lastTween]),element)}tweensContainer=lastTweensContainer}else if("start"===action){data=Data(element),data&&data.tweensContainer&&data.isAnimating===!0&&(lastTweensContainer=data.tweensContainer);var parsePropertyValue=function(valueData,skipResolvingEasing){var endValue,easing,startValue;return Type.isFunction(valueData)&&(valueData=valueData.call(element,elementArrayIndex,elementsLength)),Type.isArray(valueData)?(endValue=valueData[0],!Type.isArray(valueData[1])&&/^[\d-]/.test(valueData[1])||Type.isFunction(valueData[1])||CSS.RegEx.isHex.test(valueData[1])?startValue=valueData[1]:Type.isString(valueData[1])&&!CSS.RegEx.isHex.test(valueData[1])&&Velocity.Easings[valueData[1]]||Type.isArray(valueData[1])?(easing=skipResolvingEasing?valueData[1]:getEasing(valueData[1],opts.duration),startValue=valueData[2]):startValue=valueData[1]||valueData[2]):endValue=valueData,skipResolvingEasing||(easing=easing||opts.easing),Type.isFunction(endValue)&&(endValue=endValue.call(element,elementArrayIndex,elementsLength)),Type.isFunction(startValue)&&(startValue=startValue.call(element,elementArrayIndex,elementsLength)),[endValue||0,easing,startValue]},fixPropertyValue=function(property,valueData){var pattern,rootProperty=CSS.Hooks.getRoot(property),rootPropertyValue=!1,endValue=valueData[0],easing=valueData[1],startValue=valueData[2];if(!(data&&data.isSVG||"tween"===rootProperty||CSS.Names.prefixCheck(rootProperty)[1]!==!1||CSS.Normalizations.registered[rootProperty]!==undefined))return void(Velocity.debug&&console.log("Skipping ["+rootProperty+"] due to a lack of browser support."));(opts.display!==undefined&&null!==opts.display&&"none"!==opts.display||opts.visibility!==undefined&&"hidden"!==opts.visibility)&&/opacity|filter/.test(property)&&!startValue&&0!==endValue&&(startValue=0),opts._cacheValues&&lastTweensContainer&&lastTweensContainer[property]?(startValue===undefined&&(startValue=lastTweensContainer[property].endValue+lastTweensContainer[property].unitType),rootPropertyValue=data.rootPropertyValueCache[rootProperty]):CSS.Hooks.registered[property]?startValue===undefined?(rootPropertyValue=CSS.getPropertyValue(element,rootProperty),startValue=CSS.getPropertyValue(element,property,rootPropertyValue)):rootPropertyValue=CSS.Hooks.templates[rootProperty][1]:startValue===undefined&&(startValue=CSS.getPropertyValue(element,property));var separatedValue,endValueUnitType,startValueUnitType,operator=!1,separateValue=function(property,value){var unitType,numericValue;return numericValue=(value||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(match){return unitType=match,""}),unitType||(unitType=CSS.Values.getUnitType(property)),[numericValue,unitType]};if(startValue!==endValue&&Type.isString(startValue)&&Type.isString(endValue)){pattern="";var iStart=0,iEnd=0,aStart=[],aEnd=[],inCalc=0,inRGB=0,inRGBA=0;for(startValue=CSS.Hooks.fixColors(startValue),endValue=CSS.Hooks.fixColors(endValue);iStart<startValue.length&&iEnd<endValue.length;){var cStart=startValue[iStart],cEnd=endValue[iEnd];if(/[\d\.-]/.test(cStart)&&/[\d\.-]/.test(cEnd)){for(var tStart=cStart,tEnd=cEnd,dotStart=".",dotEnd=".";++iStart<startValue.length;){if(cStart=startValue[iStart],cStart===dotStart)dotStart="..";else if(!/\d/.test(cStart))break;tStart+=cStart}for(;++iEnd<endValue.length;){if(cEnd=endValue[iEnd],cEnd===dotEnd)dotEnd="..";else if(!/\d/.test(cEnd))break;tEnd+=cEnd}var uStart=CSS.Hooks.getUnit(startValue,iStart),uEnd=CSS.Hooks.getUnit(endValue,iEnd);if(iStart+=uStart.length,iEnd+=uEnd.length,uStart===uEnd)tStart===tEnd?pattern+=tStart+uStart:(pattern+="{"+aStart.length+(inRGB?"!":"")+"}"+uStart,aStart.push(parseFloat(tStart)),aEnd.push(parseFloat(tEnd)));else{var nStart=parseFloat(tStart),nEnd=parseFloat(tEnd);pattern+=(5>inCalc?"calc":"")+"("+(nStart?"{"+aStart.length+(inRGB?"!":"")+"}":"0")+uStart+" + "+(nEnd?"{"+(aStart.length+(nStart?1:0))+(inRGB?"!":"")+"}":"0")+uEnd+")",nStart&&(aStart.push(nStart),aEnd.push(0)),nEnd&&(aStart.push(0),aEnd.push(nEnd))}}else{if(cStart!==cEnd){inCalc=0;break}pattern+=cStart,iStart++,iEnd++,0===inCalc&&"c"===cStart||1===inCalc&&"a"===cStart||2===inCalc&&"l"===cStart||3===inCalc&&"c"===cStart||inCalc>=4&&"("===cStart?inCalc++:(inCalc&&5>inCalc||inCalc>=4&&")"===cStart&&--inCalc<5)&&(inCalc=0),0===inRGB&&"r"===cStart||1===inRGB&&"g"===cStart||2===inRGB&&"b"===cStart||3===inRGB&&"a"===cStart||inRGB>=3&&"("===cStart?(3===inRGB&&"a"===cStart&&(inRGBA=1),inRGB++):inRGBA&&","===cStart?++inRGBA>3&&(inRGB=inRGBA=0):(inRGBA&&(inRGBA?5:4)>inRGB||inRGB>=(inRGBA?4:3)&&")"===cStart&&--inRGB<(inRGBA?5:4))&&(inRGB=inRGBA=0)}}(iStart!==startValue.length||iEnd!==endValue.length)&&(Velocity.debug&&console.error('Trying to pattern match mis-matched strings ["'+endValue+'", "'+startValue+'"]'),pattern=undefined),pattern&&(aStart.length?(Velocity.debug&&console.log('Pattern found "'+pattern+'" -> ',aStart,aEnd,"["+startValue+","+endValue+"]"),startValue=aStart,endValue=aEnd,endValueUnitType=startValueUnitType=""):pattern=undefined)}pattern||(separatedValue=separateValue(property,startValue),startValue=separatedValue[0],startValueUnitType=separatedValue[1],separatedValue=separateValue(property,endValue),endValue=separatedValue[0].replace(/^([+-\/*])=/,function(match,subMatch){return operator=subMatch,""}),endValueUnitType=separatedValue[1],startValue=parseFloat(startValue)||0,endValue=parseFloat(endValue)||0,"%"===endValueUnitType&&(/^(fontSize|lineHeight)$/.test(property)?(endValue/=100,endValueUnitType="em"):/^scale/.test(property)?(endValue/=100,endValueUnitType=""):/(Red|Green|Blue)$/i.test(property)&&(endValue=endValue/100*255,endValueUnitType="")));var calculateUnitRatios=function(){var sameRatioIndicators={myParent:element.parentNode||document.body,position:CSS.getPropertyValue(element,"position"),fontSize:CSS.getPropertyValue(element,"fontSize")},samePercentRatio=sameRatioIndicators.position===callUnitConversionData.lastPosition&&sameRatioIndicators.myParent===callUnitConversionData.lastParent,sameEmRatio=sameRatioIndicators.fontSize===callUnitConversionData.lastFontSize;callUnitConversionData.lastParent=sameRatioIndicators.myParent,callUnitConversionData.lastPosition=sameRatioIndicators.position,callUnitConversionData.lastFontSize=sameRatioIndicators.fontSize;var measurement=100,unitRatios={};if(sameEmRatio&&samePercentRatio)unitRatios.emToPx=callUnitConversionData.lastEmToPx,unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth,unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight;else{var dummy=data&&data.isSVG?document.createElementNS("http://www.w3.org/2000/svg","rect"):document.createElement("div");Velocity.init(dummy),sameRatioIndicators.myParent.appendChild(dummy),$.each(["overflow","overflowX","overflowY"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,"hidden")}),Velocity.CSS.setPropertyValue(dummy,"position",sameRatioIndicators.position),Velocity.CSS.setPropertyValue(dummy,"fontSize",sameRatioIndicators.fontSize),Velocity.CSS.setPropertyValue(dummy,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,measurement+"%")}),Velocity.CSS.setPropertyValue(dummy,"paddingLeft",measurement+"em"),unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth=(parseFloat(CSS.getPropertyValue(dummy,"width",null,!0))||1)/measurement,unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight=(parseFloat(CSS.getPropertyValue(dummy,"height",null,!0))||1)/measurement,unitRatios.emToPx=callUnitConversionData.lastEmToPx=(parseFloat(CSS.getPropertyValue(dummy,"paddingLeft"))||1)/measurement,sameRatioIndicators.myParent.removeChild(dummy)}return null===callUnitConversionData.remToPx&&(callUnitConversionData.remToPx=parseFloat(CSS.getPropertyValue(document.body,"fontSize"))||16),null===callUnitConversionData.vwToPx&&(callUnitConversionData.vwToPx=parseFloat(window.innerWidth)/100,callUnitConversionData.vhToPx=parseFloat(window.innerHeight)/100),unitRatios.remToPx=callUnitConversionData.remToPx,unitRatios.vwToPx=callUnitConversionData.vwToPx,unitRatios.vhToPx=callUnitConversionData.vhToPx,Velocity.debug>=1&&console.log("Unit ratios: "+JSON.stringify(unitRatios),element),unitRatios};if(/[\/*]/.test(operator))endValueUnitType=startValueUnitType;else if(startValueUnitType!==endValueUnitType&&0!==startValue)if(0===endValue)endValueUnitType=startValueUnitType;else{elementUnitConversionData=elementUnitConversionData||calculateUnitRatios();var axis=/margin|padding|left|right|width|text|word|letter/i.test(property)||/X$/.test(property)||"x"===property?"x":"y";switch(startValueUnitType){case"%":startValue*="x"===axis?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight;break;case"px":break;default:startValue*=elementUnitConversionData[startValueUnitType+"ToPx"]}switch(endValueUnitType){case"%":startValue*=1/("x"===axis?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight);break;case"px":break;default:startValue*=1/elementUnitConversionData[endValueUnitType+"ToPx"]}}switch(operator){case"+":endValue=startValue+endValue;break;case"-":endValue=startValue-endValue;break;case"*":endValue=startValue*endValue;break;case"/":endValue=startValue/endValue}tweensContainer[property]={rootPropertyValue:rootPropertyValue,startValue:startValue,currentValue:startValue,endValue:endValue,unitType:endValueUnitType,easing:easing},pattern&&(tweensContainer[property].pattern=pattern),Velocity.debug&&console.log("tweensContainer ("+property+"): "+JSON.stringify(tweensContainer[property]),element)};for(var property in propertiesMap)if(propertiesMap.hasOwnProperty(property)){var propertyName=CSS.Names.camelCase(property),valueData=parsePropertyValue(propertiesMap[property]);if(_inArray(CSS.Lists.colors,propertyName)){var endValue=valueData[0],easing=valueData[1],startValue=valueData[2];if(CSS.RegEx.isHex.test(endValue)){for(var colorComponents=["Red","Green","Blue"],endValueRGB=CSS.Values.hexToRgb(endValue),startValueRGB=startValue?CSS.Values.hexToRgb(startValue):undefined,i=0;i<colorComponents.length;i++){var dataArray=[endValueRGB[i]];easing&&dataArray.push(easing),startValueRGB!==undefined&&dataArray.push(startValueRGB[i]),fixPropertyValue(propertyName+colorComponents[i],dataArray)}continue}}fixPropertyValue(propertyName,valueData)}tweensContainer.element=element}tweensContainer.element&&(CSS.Values.addClass(element,"velocity-animating"),call.push(tweensContainer),data=Data(element),data&&(""===opts.queue&&(data.tweensContainer=tweensContainer,data.opts=opts),data.isAnimating=!0),elementsIndex===elementsLength-1?(Velocity.State.calls.push([call,elements,opts,null,promiseData.resolver,null,0]),Velocity.State.isTicking===!1&&(Velocity.State.isTicking=!0,tick())):elementsIndex++)}var elementUnitConversionData,opts=$.extend({},Velocity.defaults,options),tweensContainer={};switch(Data(element)===undefined&&Velocity.init(element),parseFloat(opts.delay)&&opts.queue!==!1&&$.queue(element,opts.queue,function(next){Velocity.velocityQueueEntryFlag=!0;var callIndex=Velocity.State.delayedElements.count++;Velocity.State.delayedElements[callIndex]=element;var delayComplete=function(index){return function(){Velocity.State.delayedElements[index]=!1,next()}}(callIndex);Data(element).delayBegin=(new Date).getTime(),Data(element).delay=parseFloat(opts.delay),Data(element).delayTimer={setTimeout:setTimeout(next,parseFloat(opts.delay)),next:delayComplete}}),opts.duration.toString().toLowerCase()){case"fast":opts.duration=200;break;case"normal":opts.duration=DURATION_DEFAULT;break;case"slow":opts.duration=600;break;default:opts.duration=parseFloat(opts.duration)||1}if(Velocity.mock!==!1&&(Velocity.mock===!0?opts.duration=opts.delay=1:(opts.duration*=parseFloat(Velocity.mock)||1,opts.delay*=parseFloat(Velocity.mock)||1)),opts.easing=getEasing(opts.easing,opts.duration),opts.begin&&!Type.isFunction(opts.begin)&&(opts.begin=null),opts.progress&&!Type.isFunction(opts.progress)&&(opts.progress=null),opts.complete&&!Type.isFunction(opts.complete)&&(opts.complete=null),opts.display!==undefined&&null!==opts.display&&(opts.display=opts.display.toString().toLowerCase(),"auto"===opts.display&&(opts.display=Velocity.CSS.Values.getDisplayType(element))),opts.visibility!==undefined&&null!==opts.visibility&&(opts.visibility=opts.visibility.toString().toLowerCase()),opts.mobileHA=opts.mobileHA&&Velocity.State.isMobile&&!Velocity.State.isGingerbread,opts.queue===!1)if(opts.delay){var callIndex=Velocity.State.delayedElements.count++;Velocity.State.delayedElements[callIndex]=element;var delayComplete=function(index){return function(){Velocity.State.delayedElements[index]=!1,buildQueue()}}(callIndex);Data(element).delayBegin=(new Date).getTime(),Data(element).delay=parseFloat(opts.delay),Data(element).delayTimer={setTimeout:setTimeout(buildQueue,parseFloat(opts.delay)),next:delayComplete}}else buildQueue();else $.queue(element,opts.queue,function(next,clearQueue){return clearQueue===!0?(promiseData.promise&&promiseData.resolver(elements),!0):(Velocity.velocityQueueEntryFlag=!0,void buildQueue(next))});""!==opts.queue&&"fx"!==opts.queue||"inprogress"===$.queue(element)[0]||$.dequeue(element)}var opts,isUtility,elementsWrapped,argumentIndex,elements,propertiesMap,options,syntacticSugar=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||Type.isString(arguments[0].properties));Type.isWrapped(this)?(isUtility=!1,argumentIndex=0,elements=this,elementsWrapped=this):(isUtility=!0,argumentIndex=1,elements=syntacticSugar?arguments[0].elements||arguments[0].e:arguments[0]);var promiseData={promise:null,resolver:null,rejecter:null};if(isUtility&&Velocity.Promise&&(promiseData.promise=new Velocity.Promise(function(resolve,reject){promiseData.resolver=resolve,promiseData.rejecter=reject})),syntacticSugar?(propertiesMap=arguments[0].properties||arguments[0].p,options=arguments[0].options||arguments[0].o):(propertiesMap=arguments[argumentIndex],options=arguments[argumentIndex+1]),elements=sanitizeElements(elements),!elements)return void(promiseData.promise&&(propertiesMap&&options&&options.promiseRejectEmpty===!1?promiseData.resolver():promiseData.rejecter()));var elementsLength=elements.length,elementsIndex=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(propertiesMap)&&!$.isPlainObject(options)){var startingArgumentPosition=argumentIndex+1;options={};for(var i=startingArgumentPosition;i<arguments.length;i++)Type.isArray(arguments[i])||!/^(fast|normal|slow)$/i.test(arguments[i])&&!/^\d/.test(arguments[i])?Type.isString(arguments[i])||Type.isArray(arguments[i])?options.easing=arguments[i]:Type.isFunction(arguments[i])&&(options.complete=arguments[i]):options.duration=arguments[i]}var action;switch(propertiesMap){case"scroll":action="scroll";break;case"reverse":action="reverse";break;case"pause":var currentTime=(new Date).getTime();return $.each(elements,function(i,element){pauseDelayOnElement(element,currentTime)}),$.each(Velocity.State.calls,function(i,activeCall){var found=!1;activeCall&&$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;return queueName===!0||activeCall[2].queue===queueName||options===undefined&&activeCall[2].queue===!1?($.each(elements,function(l,element){return element===activeElement?(activeCall[5]={resume:!1},found=!0,!1):void 0}),found?!1:void 0):!0})}),getChain();case"resume":return $.each(elements,function(i,element){resumeDelayOnElement(element,currentTime)}),$.each(Velocity.State.calls,function(i,activeCall){var found=!1;activeCall&&$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;return(queueName===!0||activeCall[2].queue===queueName||options===undefined&&activeCall[2].queue===!1)&&activeCall[5]?($.each(elements,function(l,element){return element===activeElement?(activeCall[5].resume=!0,found=!0,!1):void 0}),found?!1:void 0):!0})}),getChain();case"finish":case"finishAll":case"stop":$.each(elements,function(i,element){Data(element)&&Data(element).delayTimer&&(clearTimeout(Data(element).delayTimer.setTimeout),Data(element).delayTimer.next&&Data(element).delayTimer.next(),delete Data(element).delayTimer),"finishAll"!==propertiesMap||options!==!0&&!Type.isString(options)||($.each($.queue(element,Type.isString(options)?options:""),function(_,item){Type.isFunction(item)&&item()}),$.queue(element,Type.isString(options)?options:"",[]))});var callsToStop=[];return $.each(Velocity.State.calls,function(i,activeCall){activeCall&&$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;return queueName===!0||activeCall[2].queue===queueName||options===undefined&&activeCall[2].queue===!1?void $.each(elements,function(l,element){if(element===activeElement)if((options===!0||Type.isString(options))&&($.each($.queue(element,Type.isString(options)?options:""),function(_,item){Type.isFunction(item)&&item(null,!0)}),$.queue(element,Type.isString(options)?options:"",[])),"stop"===propertiesMap){var data=Data(element);data&&data.tweensContainer&&queueName!==!1&&$.each(data.tweensContainer,function(m,activeTween){activeTween.endValue=activeTween.currentValue}),callsToStop.push(i)}else("finish"===propertiesMap||"finishAll"===propertiesMap)&&(activeCall[2].duration=1)}):!0})}),"stop"===propertiesMap&&($.each(callsToStop,function(i,j){completeCall(j,!0)}),promiseData.promise&&promiseData.resolver(elements)),getChain();default:if(!$.isPlainObject(propertiesMap)||Type.isEmptyObject(propertiesMap)){if(Type.isString(propertiesMap)&&Velocity.Redirects[propertiesMap]){opts=$.extend({},options);var durationOriginal=opts.duration,delayOriginal=opts.delay||0;return opts.backwards===!0&&(elements=$.extend(!0,[],elements).reverse()),$.each(elements,function(elementIndex,element){parseFloat(opts.stagger)?opts.delay=delayOriginal+parseFloat(opts.stagger)*elementIndex:Type.isFunction(opts.stagger)&&(opts.delay=delayOriginal+opts.stagger.call(element,elementIndex,elementsLength)),opts.drag&&(opts.duration=parseFloat(durationOriginal)||(/^(callout|transition)/.test(propertiesMap)?1e3:DURATION_DEFAULT),opts.duration=Math.max(opts.duration*(opts.backwards?1-elementIndex/elementsLength:(elementIndex+1)/elementsLength),.75*opts.duration,200)),Velocity.Redirects[propertiesMap].call(element,element,opts||{},elementIndex,elementsLength,elements,promiseData.promise?promiseData:undefined)}),getChain()}var abortError="Velocity: First argument ("+propertiesMap+") was not a property map, a known action, or a registered redirect. Aborting.";return promiseData.promise?promiseData.rejecter(new Error(abortError)):window.console&&console.log(abortError),getChain()}action="start"}var callUnitConversionData={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},call=[];$.each(elements,function(i,element){Type.isNode(element)&&processElement(element,i)}),opts=$.extend({},Velocity.defaults,options),opts.loop=parseInt(opts.loop,10);var reverseCallsCount=2*opts.loop-1;if(opts.loop)for(var x=0;reverseCallsCount>x;x++){var reverseOptions={delay:opts.delay,progress:opts.progress};x===reverseCallsCount-1&&(reverseOptions.display=opts.display,reverseOptions.visibility=opts.visibility,reverseOptions.complete=opts.complete),animate(elements,"reverse",reverseOptions)}return getChain()};Velocity=$.extend(animate,Velocity),Velocity.animate=animate;var ticker=window.requestAnimationFrame||rAFShim;if(!Velocity.State.isMobile&&document.hidden!==undefined){var updateTicker=function(){document.hidden?(ticker=function(callback){return setTimeout(function(){callback(!0)},16)},tick()):ticker=window.requestAnimationFrame||rAFShim};updateTicker(),document.addEventListener("visibilitychange",updateTicker)}return global.Velocity=Velocity,global!==window&&(global.fn.velocity=animate,global.fn.velocity.defaults=Velocity.defaults),$.each(["Down","Up"],function(i,direction){Velocity.Redirects["slide"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),begin=opts.begin,complete=opts.complete,inlineValues={},computedValues={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};opts.display===undefined&&(opts.display="Down"===direction?"inline"===Velocity.CSS.Values.getDisplayType(element)?"inline-block":"block":"none"),opts.begin=function(){0===elementsIndex&&begin&&begin.call(elements,elements);for(var property in computedValues)if(computedValues.hasOwnProperty(property)){inlineValues[property]=element.style[property];var propertyValue=CSS.getPropertyValue(element,property);computedValues[property]="Down"===direction?[propertyValue,0]:[0,propertyValue]}inlineValues.overflow=element.style.overflow,element.style.overflow="hidden"},opts.complete=function(){for(var property in inlineValues)inlineValues.hasOwnProperty(property)&&(element.style[property]=inlineValues[property]);
elementsIndex===elementsSize-1&&(complete&&complete.call(elements,elements),promiseData&&promiseData.resolver(elements))},Velocity(element,computedValues,opts)}}),$.each(["In","Out"],function(i,direction){Velocity.Redirects["fade"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),complete=opts.complete,propertiesMap={opacity:"In"===direction?1:0};0!==elementsIndex&&(opts.begin=null),elementsIndex!==elementsSize-1?opts.complete=null:opts.complete=function(){complete&&complete.call(elements,elements),promiseData&&promiseData.resolver(elements)},opts.display===undefined&&(opts.display="In"===direction?"auto":"none"),Velocity(this,propertiesMap,opts)}}),Velocity}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}),/* VelocityJS.org UI Pack (5.2.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License. Portions copyright Daniel Eden, Christian Pucci. */
function(factory){"use strict";"function"==typeof require&&"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define(["velocity"],factory):factory()}(function(){"use strict";return function(global,window,document,undefined){function greaterSemver(primary,secondary){var versionInts=[];return primary&&secondary?($.each([primary,secondary],function(i,versionObject){var versionIntsComponents=[];$.each(versionObject,function(component,value){for(;value.toString().length<5;)value="0"+value;versionIntsComponents.push(value)}),versionInts.push(versionIntsComponents.join(""))}),parseFloat(versionInts[0])>parseFloat(versionInts[1])):!1}var Velocity=global.Velocity;if(!Velocity||!Velocity.Utilities)return void(window.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var $=Velocity.Utilities,velocityVersion=Velocity.version,requiredVersion={major:1,minor:1,patch:0};if(greaterSemver(requiredVersion,velocityVersion)){var abortError="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(abortError),new Error(abortError)}Velocity.RegisterEffect=Velocity.RegisterUI=function(effectName,properties){function animateParentHeight(elements,direction,totalDuration,stagger){var parentNode,totalHeightDelta=0;$.each(elements.nodeType?[elements]:elements,function(i,element){stagger&&(totalDuration+=i*stagger),parentNode=element.parentNode;var propertiesToSum=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===Velocity.CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]),$.each(propertiesToSum,function(i,property){totalHeightDelta+=parseFloat(Velocity.CSS.getPropertyValue(element,property))})}),Velocity.animate(parentNode,{height:("In"===direction?"+":"-")+"="+totalHeightDelta},{queue:!1,easing:"ease-in-out",duration:totalDuration*("In"===direction?.6:1)})}return Velocity.Redirects[effectName]=function(element,redirectOptions,elementsIndex,elementsSize,elements,promiseData,loop){var finalElement=elementsIndex===elementsSize-1,totalDuration=0;loop=loop||properties.loop,"function"==typeof properties.defaultDuration?properties.defaultDuration=properties.defaultDuration.call(elements,elements):properties.defaultDuration=parseFloat(properties.defaultDuration);for(var callIndex=0;callIndex<properties.calls.length;callIndex++)durationPercentage=properties.calls[callIndex][1],"number"==typeof durationPercentage&&(totalDuration+=durationPercentage);var shareDuration=totalDuration>=1?0:properties.calls.length?(1-totalDuration)/properties.calls.length:1;for(callIndex=0;callIndex<properties.calls.length;callIndex++){var call=properties.calls[callIndex],propertyMap=call[0],redirectDuration=1e3,durationPercentage=call[1],callOptions=call[2]||{},opts={};if(redirectOptions.duration!==undefined?redirectDuration=redirectOptions.duration:properties.defaultDuration!==undefined&&(redirectDuration=properties.defaultDuration),opts.duration=redirectDuration*("number"==typeof durationPercentage?durationPercentage:shareDuration),opts.queue=redirectOptions.queue||"",opts.easing=callOptions.easing||"ease",opts.delay=parseFloat(callOptions.delay)||0,opts.loop=!properties.loop&&callOptions.loop,opts._cacheValues=callOptions._cacheValues||!0,0===callIndex){if(opts.delay+=parseFloat(redirectOptions.delay)||0,0===elementsIndex&&(opts.begin=function(){redirectOptions.begin&&redirectOptions.begin.call(elements,elements);var direction=effectName.match(/(In|Out)$/);direction&&"In"===direction[0]&&propertyMap.opacity!==undefined&&$.each(elements.nodeType?[elements]:elements,function(i,element){Velocity.CSS.setPropertyValue(element,"opacity",0)}),redirectOptions.animateParentHeight&&direction&&animateParentHeight(elements,direction[0],redirectDuration+opts.delay,redirectOptions.stagger)}),null!==redirectOptions.display)if(redirectOptions.display!==undefined&&"none"!==redirectOptions.display)opts.display=redirectOptions.display;else if(/In$/.test(effectName)){var defaultDisplay=Velocity.CSS.Values.getDisplayType(element);opts.display="inline"===defaultDisplay?"inline-block":defaultDisplay}redirectOptions.visibility&&"hidden"!==redirectOptions.visibility&&(opts.visibility=redirectOptions.visibility)}if(callIndex===properties.calls.length-1){var injectFinalCallbacks=function(){redirectOptions.display!==undefined&&"none"!==redirectOptions.display||!/Out$/.test(effectName)||$.each(elements.nodeType?[elements]:elements,function(i,element){Velocity.CSS.setPropertyValue(element,"display","none")}),redirectOptions.complete&&redirectOptions.complete.call(elements,elements),promiseData&&promiseData.resolver(elements||element)};opts.complete=function(){if(loop&&Velocity.Redirects[effectName](element,redirectOptions,elementsIndex,elementsSize,elements,promiseData,loop===!0?!0:Math.max(0,loop-1)),properties.reset){for(var resetProperty in properties.reset)if(properties.reset.hasOwnProperty(resetProperty)){var resetValue=properties.reset[resetProperty];Velocity.CSS.Hooks.registered[resetProperty]!==undefined||"string"!=typeof resetValue&&"number"!=typeof resetValue||(properties.reset[resetProperty]=[properties.reset[resetProperty],properties.reset[resetProperty]])}var resetOptions={duration:0,queue:!1};finalElement&&(resetOptions.complete=injectFinalCallbacks),Velocity.animate(element,properties.reset,resetOptions)}else finalElement&&injectFinalCallbacks()},"hidden"===redirectOptions.visibility&&(opts.visibility=redirectOptions.visibility)}Velocity.animate(element,propertyMap,opts)}},Velocity},Velocity.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var effectName in Velocity.RegisterEffect.packagedEffects)Velocity.RegisterEffect.packagedEffects.hasOwnProperty(effectName)&&Velocity.RegisterEffect(effectName,Velocity.RegisterEffect.packagedEffects[effectName]);Velocity.RunSequence=function(originalSequence){var sequence=$.extend(!0,[],originalSequence);sequence.length>1&&($.each(sequence.reverse(),function(i,currentCall){var nextCall=sequence[i+1];if(nextCall){var currentCallOptions=currentCall.o||currentCall.options,nextCallOptions=nextCall.o||nextCall.options,timing=currentCallOptions&&currentCallOptions.sequenceQueue===!1?"begin":"complete",callbackOriginal=nextCallOptions&&nextCallOptions[timing],options={};options[timing]=function(){var nextCallElements=nextCall.e||nextCall.elements,elements=nextCallElements.nodeType?[nextCallElements]:nextCallElements;callbackOriginal&&callbackOriginal.call(elements,elements),Velocity(currentCall)},nextCall.o?nextCall.o=$.extend({},nextCallOptions,options):nextCall.options=$.extend({},nextCallOptions,options)}}),sequence.reverse()),Velocity(sequence[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}),/*!
 * jQuery Mobile Events
 * by Ben Major (www.ben-major.co.uk)
 *
 * Copyright 2011, Ben Major
 * Licensed under the MIT License:
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
function($){function handler(){var orientation=get_orientation();orientation!==last_orientation&&(last_orientation=orientation,win.trigger("orientationchange"))}function triggerCustomEvent(obj,eventType,event,touchData){var originalType=event.type;event.type=eventType,$.event.dispatch.call(obj,event,touchData),event.type=originalType}$.attrFn=$.attrFn||{};var agent=navigator.userAgent.toLowerCase(),isChromeDesktop=agent.indexOf("chrome")>-1&&(agent.indexOf("windows")>-1||agent.indexOf("macintosh")>-1||agent.indexOf("linux")>-1)&&agent.indexOf("mobile")<0,settings={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in document.documentElement&&!isChromeDesktop,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in document.documentElement&&!isChromeDesktop?"touchstart":"mousedown",endevent:"ontouchstart"in document.documentElement&&!isChromeDesktop?"touchend":"mouseup",moveevent:"ontouchstart"in document.documentElement&&!isChromeDesktop?"touchmove":"mousemove",tapevent:"ontouchstart"in document.documentElement&&!isChromeDesktop?"tap":"click",scrollevent:"ontouchstart"in document.documentElement&&!isChromeDesktop?"touchmove":"scroll",hold_timer:null,tap_timer:null};$.isTouchCapable=function(){return settings.touch_capable},$.getStartEvent=function(){return settings.startevent},$.getEndEvent=function(){return settings.endevent},$.getMoveEvent=function(){return settings.moveevent},$.getTapEvent=function(){return settings.tapevent},$.getScrollEvent=function(){return settings.scrollevent},$.each(["tapstart","tapend","tap","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(i,name){$.fn[name]=function(fn){return fn?this.on(name,fn):this.trigger(name)},$.attrFn[name]=!0}),$.event.special.tapstart={setup:function(){var thisObject=this,$this=$(thisObject);$this.on(settings.startevent,function(e){if($this.data("callee",arguments.callee),e.which&&1!==e.which)return!1;var origEvent=e.originalEvent,touchData={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};return triggerCustomEvent(thisObject,"tapstart",e,touchData),!0})},remove:function(){$(this).off(settings.startevent,$(this).data.callee)}},$.event.special.tapmove={setup:function(){var thisObject=this,$this=$(thisObject);$this.on(settings.moveevent,function(e){$this.data("callee",arguments.callee);var origEvent=e.originalEvent,touchData={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};return triggerCustomEvent(thisObject,"tapmove",e,touchData),!0})},remove:function(){$(this).off(settings.moveevent,$(this).data.callee)}},$.event.special.tapend={setup:function(){var thisObject=this,$this=$(thisObject);$this.on(settings.endevent,function(e){$this.data("callee",arguments.callee);var origEvent=e.originalEvent,touchData={position:{x:settings.touch_capable?origEvent.changedTouches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.changedTouches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.changedTouches[0].pageX-origEvent.changedTouches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.changedTouches[0].pageY-origEvent.changedTouches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};return triggerCustomEvent(thisObject,"tapend",e,touchData),!0})},remove:function(){$(this).off(settings.endevent,$(this).data.callee)}},$.event.special.taphold={setup:function(){var origTarget,thisObject=this,$this=$(thisObject),start_pos={x:0,y:0};$this.on(settings.startevent,function(e){if(e.which&&1!==e.which)return!1;$this.data("tapheld",!1),origTarget=e.target;var origEvent=e.originalEvent,start_time=(new Date).getTime(),startPosition={x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},startOffset={x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY};return start_pos.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,start_pos.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,settings.hold_timer=window.setTimeout(function(){var end_x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,end_y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;if(e.target==origTarget&&start_pos.x==end_x&&start_pos.y==end_y){$this.data("tapheld",!0);var end_time=(new Date).getTime(),endPosition={x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},endOffset={x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY};duration=end_time-start_time;var touchData={startTime:start_time,endTime:end_time,startPosition:startPosition,startOffset:startOffset,endPosition:endPosition,endOffset:endOffset,duration:duration,target:e.target};$this.data("callee1",arguments.callee),triggerCustomEvent(thisObject,"taphold",e,touchData)}},settings.taphold_threshold),!0}).on(settings.endevent,function(){$this.data("callee2",arguments.callee),$this.data("tapheld",!1),window.clearTimeout(settings.hold_timer)})},remove:function(){$(this).off(settings.startevent,$(this).data.callee1).off(settings.endevent,$(this).data.callee2)}},$.event.special.doubletap={setup:function(){var origTarget,action,firstTap,origEvent,thisObject=this,$this=$(thisObject);$this.on(settings.startevent,function(e){return e.which&&1!==e.which?!1:($this.data("doubletapped",!1),origTarget=e.target,$this.data("callee1",arguments.callee),origEvent=e.originalEvent,firstTap={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target},!0)}).on(settings.endevent,function(e){var now=(new Date).getTime(),lastTouch=$this.data("lastTouch")||now+1,delta=now-lastTouch;if(window.clearTimeout(action),$this.data("callee2",arguments.callee),delta<settings.doubletap_int&&delta>0&&e.target==origTarget&&delta>100){$this.data("doubletapped",!0),window.clearTimeout(settings.tap_timer);var lastTap={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target},touchData={firstTap:firstTap,secondTap:lastTap,interval:lastTap.time-firstTap.time};triggerCustomEvent(thisObject,"doubletap",e,touchData)}else $this.data("lastTouch",now),action=window.setTimeout(function(e){window.clearTimeout(action)},settings.doubletap_int,[e]);$this.data("lastTouch",now)})},remove:function(){$(this).off(settings.startevent,$(this).data.callee1).off(settings.endevent,$(this).data.callee2)}},$.event.special.singletap={setup:function(){var thisObject=this,$this=$(thisObject),origTarget=null,startTime=null,start_pos={x:0,y:0};$this.on(settings.startevent,function(e){return e.which&&1!==e.which?!1:(startTime=(new Date).getTime(),origTarget=e.target,$this.data("callee1",arguments.callee),start_pos.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,start_pos.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(settings.endevent,function(e){$this.data("callee2",arguments.callee),e.target==origTarget&&(end_pos_x=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,end_pos_y=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,settings.tap_timer=window.setTimeout(function(){if(!$this.data("doubletapped")&&!$this.data("tapheld")&&start_pos.x==end_pos_x&&start_pos.y==end_pos_y){var origEvent=e.originalEvent,touchData={position:{x:settings.touch_capable?origEvent.changedTouches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.changedTouches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.changedTouches[0].pageX-origEvent.changedTouches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.changedTouches[0].pageY-origEvent.changedTouches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};touchData.time-startTime<settings.taphold_threshold&&triggerCustomEvent(thisObject,"singletap",e,touchData)}},settings.doubletap_int))})},remove:function(){$(this).off(settings.startevent,$(this).data.callee1).off(settings.endevent,$(this).data.callee2)}},$.event.special.tap={setup:function(){var start_time,thisObject=this,$this=$(thisObject),started=!1,origTarget=null,start_pos={x:0,y:0};$this.on(settings.startevent,function(e){return $this.data("callee1",arguments.callee),e.which&&1!==e.which?!1:(started=!0,start_pos.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,start_pos.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,start_time=(new Date).getTime(),origTarget=e.target,!0)}).on(settings.endevent,function(e){$this.data("callee2",arguments.callee);var end_x=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,end_y=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;if(diff_x=start_pos.x-end_x,diff_y=start_pos.y-end_y,origTarget==e.target&&started&&(new Date).getTime()-start_time<settings.taphold_threshold&&(start_pos.x==end_x&&start_pos.y==end_y||diff_x>=-settings.tap_pixel_range&&diff_x<=settings.tap_pixel_range&&diff_y>=-settings.tap_pixel_range&&diff_y<=settings.tap_pixel_range)){var origEvent=e.originalEvent,touchData={position:{x:settings.touch_capable?origEvent.changedTouches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.changedTouches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.changedTouches[0].pageX-origEvent.changedTouches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.changedTouches[0].pageY-origEvent.changedTouches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};triggerCustomEvent(thisObject,"tap",e,touchData)}})},remove:function(){$(this).off(settings.startevent,$(this).data.callee1).off(settings.endevent,$(this).data.callee2)}},$.event.special.swipe={setup:function(){function touchStart(e){$this=$(e.target),$this.data("callee1",arguments.callee),originalCoord.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,originalCoord.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,finalCoord.x=originalCoord.x,finalCoord.y=originalCoord.y,started=!0;var origEvent=e.originalEvent;startEvnt={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};for(var dt=new Date;new Date-dt<100;);}function touchMove(e){$this=$(e.target),$this.data("callee2",arguments.callee),finalCoord.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,finalCoord.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,window.clearTimeout(settings.hold_timer);var swipedir,ele_x_threshold=$this.data("xthreshold"),ele_y_threshold=$this.data("ythreshold"),h_threshold="undefined"!=typeof ele_x_threshold&&ele_x_threshold!==!1&&parseInt(ele_x_threshold)?parseInt(ele_x_threshold):settings.swipe_h_threshold,v_threshold="undefined"!=typeof ele_y_threshold&&ele_y_threshold!==!1&&parseInt(ele_y_threshold)?parseInt(ele_y_threshold):settings.swipe_v_threshold;if(originalCoord.y>finalCoord.y&&originalCoord.y-finalCoord.y>v_threshold&&(swipedir="swipeup"),originalCoord.x<finalCoord.x&&finalCoord.x-originalCoord.x>h_threshold&&(swipedir="swiperight"),originalCoord.y<finalCoord.y&&finalCoord.y-originalCoord.y>v_threshold&&(swipedir="swipedown"),originalCoord.x>finalCoord.x&&originalCoord.x-finalCoord.x>h_threshold&&(swipedir="swipeleft"),void 0!=swipedir&&started){originalCoord.x=0,originalCoord.y=0,finalCoord.x=0,finalCoord.y=0,started=!1;var origEvent=e.originalEvent;endEvnt={position:{x:settings.touch_capable?origEvent.touches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.touches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.touches[0].pageX-origEvent.touches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.touches[0].pageY-origEvent.touches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target};var xAmount=Math.abs(startEvnt.position.x-endEvnt.position.x),yAmount=Math.abs(startEvnt.position.y-endEvnt.position.y),touchData={startEvnt:startEvnt,endEvnt:endEvnt,direction:swipedir.replace("swipe",""),xAmount:xAmount,yAmount:yAmount,duration:endEvnt.time-startEvnt.time};hasSwiped=!0,$this.trigger("swipe",touchData).trigger(swipedir,touchData)}}function touchEnd(e){$this=$(e.target);var swipedir="";if($this.data("callee3",arguments.callee),hasSwiped){var ele_x_threshold=$this.data("xthreshold"),ele_y_threshold=$this.data("ythreshold"),h_threshold="undefined"!=typeof ele_x_threshold&&ele_x_threshold!==!1&&parseInt(ele_x_threshold)?parseInt(ele_x_threshold):settings.swipe_h_threshold,v_threshold="undefined"!=typeof ele_y_threshold&&ele_y_threshold!==!1&&parseInt(ele_y_threshold)?parseInt(ele_y_threshold):settings.swipe_v_threshold,origEvent=e.originalEvent;endEvnt={position:{x:settings.touch_capable?origEvent.changedTouches[0].screenX:e.screenX,y:settings.touch_capable?origEvent.changedTouches[0].screenY:e.screenY},offset:{x:settings.touch_capable?origEvent.changedTouches[0].pageX-origEvent.changedTouches[0].target.offsetLeft:e.offsetX,y:settings.touch_capable?origEvent.changedTouches[0].pageY-origEvent.changedTouches[0].target.offsetTop:e.offsetY},time:(new Date).getTime(),target:e.target},startEvnt.position.y>endEvnt.position.y&&startEvnt.position.y-endEvnt.position.y>v_threshold&&(swipedir="swipeup"),startEvnt.position.x<endEvnt.position.x&&endEvnt.position.x-startEvnt.position.x>h_threshold&&(swipedir="swiperight"),startEvnt.position.y<endEvnt.position.y&&endEvnt.position.y-startEvnt.position.y>v_threshold&&(swipedir="swipedown"),startEvnt.position.x>endEvnt.position.x&&startEvnt.position.x-endEvnt.position.x>h_threshold&&(swipedir="swipeleft");var xAmount=Math.abs(startEvnt.position.x-endEvnt.position.x),yAmount=Math.abs(startEvnt.position.y-endEvnt.position.y),touchData={startEvnt:startEvnt,endEvnt:endEvnt,direction:swipedir.replace("swipe",""),xAmount:xAmount,yAmount:yAmount,duration:endEvnt.time-startEvnt.time};$this.trigger("swipeend",touchData)}started=!1,hasSwiped=!1}var startEvnt,thisObject=this,$this=$(thisObject),started=!1,hasSwiped=!1,originalCoord={x:0,y:0},finalCoord={x:0,y:0};$this.on(settings.startevent,touchStart),$this.on(settings.moveevent,touchMove),$this.on(settings.endevent,touchEnd)},remove:function(){$(this).off(settings.startevent,$(this).data.callee1).off(settings.moveevent,$(this).data.callee2).off(settings.endevent,$(this).data.callee3)}},$.event.special.scrollstart={setup:function(){function trigger(event,state){scrolling=state,triggerCustomEvent(thisObject,scrolling?"scrollstart":"scrollend",event)}var scrolling,timer,thisObject=this,$this=$(thisObject);$this.on(settings.scrollevent,function(event){$this.data("callee",arguments.callee),scrolling||trigger(event,!0),clearTimeout(timer),timer=setTimeout(function(){trigger(event,!1)},50)})},remove:function(){$(this).off(settings.scrollevent,$(this).data.callee)}};var special_event,get_orientation,last_orientation,initial_orientation_is_landscape,initial_orientation_is_default,win=$(window),portrait_map={0:!0,180:!0};if(settings.orientation_support){var ww=window.innerWidth||$(window).width(),wh=window.innerHeight||$(window).height(),landscape_threshold=50;initial_orientation_is_landscape=ww>wh&&ww-wh>landscape_threshold,initial_orientation_is_default=portrait_map[window.orientation],(initial_orientation_is_landscape&&initial_orientation_is_default||!initial_orientation_is_landscape&&!initial_orientation_is_default)&&(portrait_map={"-90":!0,90:!0})}$.event.special.orientationchange=special_event={setup:function(){return settings.orientation_support?!1:(last_orientation=get_orientation(),win.on("throttledresize",handler),!0)},teardown:function(){return settings.orientation_support?!1:(win.off("throttledresize",handler),!0)},add:function(handleObj){var old_handler=handleObj.handler;handleObj.handler=function(event){return event.orientation=get_orientation(),old_handler.apply(this,arguments)}}},$.event.special.orientationchange.orientation=get_orientation=function(){var isPortrait=!0,elem=document.documentElement;return isPortrait=settings.orientation_support?portrait_map[window.orientation]:elem&&elem.clientWidth/elem.clientHeight<1.1,isPortrait?"portrait":"landscape"},$.event.special.throttledresize={setup:function(){$(this).on("resize",throttle_handler)},teardown:function(){$(this).off("resize",throttle_handler)}};var heldCall,curr,diff,throttle=250,throttle_handler=function(){curr=(new Date).getTime(),diff=curr-lastCall,diff>=throttle?(lastCall=curr,$(this).trigger("throttledresize")):(heldCall&&window.clearTimeout(heldCall),heldCall=window.setTimeout(handler,throttle-diff))},lastCall=0;$.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe"},function(e,srcE,touchData){$.event.special[e]={setup:function(){$(this).on(srcE,$.noop)}}})}(jQuery),function($){var val=jQuery.fn.val;jQuery.fn.val=function(){var result=val.apply(this,arguments);if(arguments.length){var $this=$(this);$this=$this.filter("select").filter(function(){return!!$(this).data("customSelect")}),$this.trigger("change")}return result},$.customSelect=new function(){var self=this;self.refresh=function(customSelect){var $customSelect=$(customSelect),data=$customSelect.data("customSelect");if("undefined"!=typeof data){var val=$customSelect.val(),$labelText=data.$label.find(".js-custom-select-label-text");if(console.log("customSelect init - val == ",val),"undefined"!=typeof val&&null!==val&&val.length?$labelText.html($customSelect.find("option[value='"+val+"']").html()):$labelText.html(data.$placeholder.html()),data.open){data.$rendered.toggleClass(data.openCssClass,!0),data.$rendered.toggleClass(data.closedCssClass,!1);var $currentOption=$customSelect.find("option[value='"+$customSelect.val()+"']");if($currentOption.length){var $currentItem=data.$items.filter("[data-custom-select-value='"+$currentOption.attr("value")+"']");$currentItem.focus()}else data.$dropdown.focus()}else data.$rendered.toggleClass(data.openCssClass,!1),data.$rendered.toggleClass(data.closedCssClass,!0),data.$items.add(data.$dropdown).filter(function(){return $(this).get(0)==document.activeElement}).length&&data.$label.focus()}},self.setValue=function(customSelect,value){var $customSelect=$(customSelect),data=$customSelect.data("customSelect");if($customSelect.val()!=value){if(data.triggeringChange)return;data.triggeringChange=!0,$customSelect.val(value),$customSelect.trigger("change"),data.triggeringChange=!1}self.refresh(customSelect)},self.getOpen=function(customSelect){var $customSelect=$(customSelect),data=$customSelect.data("customSelect");return data.open},self.setOpen=function(customSelect,state){var $customSelect=$(customSelect),data=$customSelect.data("customSelect");"undefined"!=typeof data&&(data.open=state),self.refresh(customSelect)},self.toggleOpen=function(customSelect){self.setOpen(customSelect,!self.getOpen(customSelect))},self.close=function(customSelect){self.setOpen(customSelect,!1)},self.open=function(customSelect){self.setOpen(customSelect,!0)}},$.fn.customSelect=function(overridesOrAction){if("object"==typeof overridesOrAction||"undefined"==typeof overridesOrAction){var overrides=overridesOrAction,config={labelTemplate:'<span class="select-affordance"></span><span class="js-custom-select-label-text custom-select-label-text">${label}</span>',dropdownTemplate:'<ul>{{each items}}<li><a data-custom-select-value="${value}" ${disabled} href="${url}">${title}</a></li>{{/each}}</ul>',template:'<div id="${selectId}" class="${cssClasses}"><a class="js-custom-select-label custom-select-label" href="javascript:void(0)">{labelTemplate}</a><div class="js-custom-select-dropdown custom-select-dropdown" tabindex>{dropdownTemplate}</div></div>',$placeholder:function(){return $("[for="+$(this).attr("id")+"]").first()},importSelectCssClasses:!0,cssClass:"custom-select",openCssClass:"open",closedCssClass:"closed",readyCssClass:"ready"};$.extend(config,overrides),config.template=config.template.replace("{labelTemplate}",config.labelTemplate).replace("{dropdownTemplate}",config.dropdownTemplate);var _=$.customSelect;$(this).each(function(){var $customSelect=$(this);if($customSelect.data("customSelect"))return!1;var $placeholder;"function"==typeof config.$placeholder?$placeholder=config.$placeholder.apply($customSelect):config.$placeholder instanceof jQuery&&($placeholder=config.$placeholder);var data={$placeholder:$placeholder,open:!1,cssClass:config.cssClass,importSelectCssClasses:config.importSelectCssClasses,openCssClass:config.openCssClass,closedCssClass:config.closedCssClass,readyCssClass:config.readyCssClass};$customSelect.data("customSelect",data),$customSelect.css({display:"none"}),data.$placeholder.css({display:"none"});var cssClassAttribute=$customSelect.attr("class")||"",getItemsTemplateRegex=/\{\{each items\}\}(.*)\{\{\/each\}\}/,items=$.map($customSelect.find("option"),function(option){return{disabled:$(option).is(":disabled")?"class='option--disabled'":"",title:$(option).html(),url:$(option).attr("data-url")?$(option).attr("data-url"):"javascript:void(0)",value:$(option).val()}}),itemTemplate=config.template.match(getItemsTemplateRegex)[1],renderedItems="";$.each(items,function(index,value){renderedItems+=itemTemplate.replace("${disabled}",items[index].disabled).replace("${title}",items[index].title).replace("${url}",items[index].url).replace("${value}",items[index].value)});var cssClasses=[config.cssClass,config.readyCssClass];data.importSelectCssClasses&&jQuery.merge(cssClasses,$.grep(cssClassAttribute.split(" "),function(cssClass){return"js-"!=cssClass.substring(0,3)}));var $rendered=$(config.template.replace("${selectId}",$customSelect.attr("id")||"").replace("${label}",data.$placeholder.html()||"").replace("${cssClasses}",cssClasses.join(" ")).replace(getItemsTemplateRegex,renderedItems));$customSelect.after($rendered),data.$rendered=$rendered,data.$label=$rendered.find(".js-custom-select-label"),data.$dropdown=$rendered.find(".js-custom-select-dropdown"),data.$items=$rendered.find("[data-custom-select-value]"),$customSelect.on("change",function(){$.customSelect.refresh($customSelect)}),data.$label.click(function(){$.customSelect.toggleOpen($customSelect)}),data.$items.click(function(e){return $(this).hasClass("option--disabled")?void e.preventDefault():($.customSelect.setValue($customSelect,$(this).attr("data-custom-select-value")),void $.customSelect.close($customSelect))}),$(document).click(function(e){-1==$(e.target).parents().index($rendered)&&data.open&&$.customSelect.close($customSelect)}),data.$label.add(data.$dropdown).on("keydown",function(e){if((115==e.which||40==e.which&&e.altKey)&&!data.open&&($.customSelect.open($customSelect),e.preventDefault()),(115==e.which||38==e.which&&e.altKey||27==e.which)&&data.open&&($.customSelect.close($customSelect),e.preventDefault()),40==e.which&&!e.altKey&&!data.open){var $currentOption=$customSelect.find("option[value='"+$customSelect.val()+"']"),$nextOption=$currentOption.next();$nextOption.length&&$.customSelect.setValue($customSelect,$nextOption.attr("value")),e.preventDefault()}if(38==e.which&&!e.altKey&&!data.open){var $currentOption=$customSelect.find("option[value='"+$customSelect.val()+"']"),$previousOption=$currentOption.prev();$previousOption.length&&$.customSelect.setValue($customSelect,$previousOption.attr("value")),e.preventDefault()}if(36==e.which&&!data.open){var $firstOption=$customSelect.find("option").first();$firstOption.length&&$.customSelect.setValue($customSelect,$firstOption.attr("value"))}if(35==e.which&&!data.open){var $lastOption=$customSelect.find("option").last();$lastOption.length&&$.customSelect.setValue($customSelect,$lastOption.attr("value"))}if(40==e.which&&!e.altKey&&data.open){var $currentItem=data.$items.filter(function(){return $(this).get(0)==document.activeElement}),$nextItem=data.$items.eq(data.$items.index($currentItem)+1),$itemToFocus=$nextItem;$itemToFocus=$nextItem.length?$nextItem:data.$items.first(),$itemToFocus.focus(),e.preventDefault()}if(38==e.which&&!e.altKey&&data.open){var $currentItem=data.$items.filter(function(){return $(this).get(0)==document.activeElement}),$previousItem=data.$items.eq(data.$items.index($currentItem)-1),$itemToFocus=$previousItem;$itemToFocus=$previousItem.length?$previousItem:data.$items.last(),$itemToFocus.focus(),e.preventDefault()}if(36==e.which&&data.open){var $firstItem=data.$items.first();$firstItem.focus(),e.preventDefault()}if(35==e.which&&data.open){var $lastItem=data.$items.last();$lastItem.focus(),e.preventDefault()}if((13==e.which||10==e.which)&&data.open){var $currentItem=data.$items.filter(function(){return $(this).get(0)==document.activeElement});$currentItem&&($.customSelect.setValue($customSelect,$currentItem.attr("data-custom-select-value")),$.customSelect.close($customSelect)),e.preventDefault()}}),_.refresh($customSelect)})}if("string"==typeof overridesOrAction){var action=overridesOrAction.toLowerCase();"open"==action&&$.each(this,function(){$.customSelect.open($(this))}),"close"==action&&$.each(this,function(){$.customSelect.close($(this))})}return this}}(jQuery),$.touchDropdown=new function(){var self=this;self.randomGuid=function(){var S4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return S4()+S4()},self.setOpen=function(dropdown,open){var $modalSheet=$("#touch-dropdown-modal-sheet"),isIOS=navigator.userAgent.match(/(iPad|iPhone|OS [0-9_]+ like Mac OS X)/gi),sheetOpacity=0;"string"!=typeof dropdown||dropdown.match(/\.#/g)||(dropdown="#"+dropdown);var $this=$(dropdown),o=$this.data("touch-dropdown").config;$modalSheet.length||($modalSheet=$('<div id="touch-dropdown-modal-sheet"></div>').css("opacity",sheetOpacity).appendTo(document.body),isIOS&&$modalSheet.bind(o.tapEventName,function(){self.close(dropdown)}));var $content=$this.find(o.contentSelector);o.open=open,$this.toggleClass(o.dropdownOpenCssClass,open),$this.toggleClass(o.dropdownClosedCssClass,!open),$content.toggle(open),$modalSheet.height($(document.body).height()),isIOS?open?$modalSheet.toggle(open).fadeTo(400,sheetOpacity):($modalSheet.fadeTo(0,sheetOpacity).fadeTo(400,0,function(){$modalSheet.toggle(open)}),$modalSheet.fadeTo(0,sheetOpacity).fadeTo(400,0,function(){$modalSheet.toggle(open)})):$modalSheet.toggle(open)},self.open=function(dropdown){self.setOpen(dropdown,!0)},self.close=function(dropdown){self.setOpen(dropdown,!1)}},$.fn.touchDropdown=function(overridesOrAction){if("object"==typeof overridesOrAction||"undefined"==typeof overridesOrAction){var overrides=overridesOrAction;$(this).each(function(){var o={labelSelector:".js-dropdown-label",contentSelector:".js-dropdown-content",dropdownOpenCssClass:"open",dropdownClosedCssClass:"closed",dropdownReadyCssClass:"ready",tapEventName:"tapone"};$.extend(o,overrides);var $this=$(this);$this.data("touch-dropdown",{config:o});var $label=$this.find(o.labelSelector),$content=$this.find(o.contentSelector);$label.click(function(){$.touchDropdown.setOpen($this,!o.open)}),$label.add($content).on("keydown",function(e){(115==e.which||40==e.which&&e.altKey)&&!o.open&&$.touchDropdown.setOpen($this,!0),(115==e.which||38==e.which&&e.altKey||27==e.which)&&o.open&&$.touchDropdown.setOpen($this,!1)}),$(document).click(function(e){-1==$(e.target).parents().index($this)&&$.touchDropdown.close($this)}),$.touchDropdown.close($this),$this.attr("id")?dropdownId=$this.attr("id"):(dropdownId=$.touchDropdown.randomGuid(),$this.attr("id",dropdownId)),$this.addClass(o.dropdownReadyCssClass)})}if("string"==typeof overridesOrAction){var action=overridesOrAction.toLowerCase();"open"==action&&$.each(this,function(){$.touchDropdown.open($(this))}),"close"==action&&$.each(this,function(){$.touchDropdown.close($(this))})}return this},"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.persist&&(AFL.persist={}),function($,exports,window){function getCookie(name){var start=document.cookie.indexOf(name+"="),len=start+name.length+1;if(!start&&name!=document.cookie.substring(0,name.length))return null;if(-1==start)return null;var end=document.cookie.indexOf(";",len);return-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(len,end))}exports.setCookie=function(name,value,expires,path,domain,secure){var today=new Date;today.setTime(today.getTime()),expires&&(expires=1e3*expires*60*60*24);var expires_date=new Date(today.getTime()+expires);document.cookie=name+"="+escape(value)+(expires?";expires="+expires_date.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")},exports.getCookie=function(name){var start=document.cookie.indexOf(name+"="),len=start+name.length+1;if(!start&&name!=document.cookie.substring(0,name.length))return null;if(-1==start)return null;var end=document.cookie.indexOf(";",len);return-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(len,end))},exports.deleteCookie=function(name,path,domain){getCookie(name)&&(document.cookie=name+"="+(path?";path="+path:"")+(domain?";domain="+domain:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},exports.eraseCookie=function(name){if(getCookie(name)){var date=new Date;date.setTime(date.getTime()-864e5),document.cookie=name+"=; expires="+date.toGMTString(),document.cookie=name+"=; expires="+date.toGMTString()+"; path=/"}},window.setCookie=exports.setCookie,window.getCookie=exports.getCookie,window.deleteCookie=exports.deleteCookie,window.eraseCookie=exports.eraseCookie}(jQuery,AFL.persist,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.unique&&(AFL.unique={}),function(exports,window){return exports.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"==c?r:3&r|8;return v.toString(16)})},exports}(AFL.unique,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.useragent&&(AFL.useragent={}),function(exports,window){var agent=navigator.userAgent||navigator.vendor||window.opera,isMobile=(exports.isIos=/ip(ad|od|hone)/i.test(agent),exports.isAndroid=/android/i.test(agent),exports.isWinphone=/(\bWindows Phone\b)/i.test(agent)&&/(\b(MSIE|Trident|Edge)\b)/i.test(agent),exports.isMobile=function(userAgent){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4));
}),isTablet=exports.isTablet=function(userAgent){return/android|ipad|playbook|silk/i.test(userAgent)&&!isMobile(userAgent)},firefoxUnsupportedVersion=(exports.isDesktop=function(userAgent){return!isMobile(userAgent)&&!isTablet(userAgent)},40),ieUnsupportedVersion=9,chromeUnsupportedVersion=44,unsupportedBrowserMap=[{regex:/(Chrome)\/(\d{1,3}).\d.\d{1,4}.\d* Safari\/\d*.\d*[\s]*$/i,name:"Chrome"},{regex:/(MSIE) (\d{1,3})/i,name:"Internet Explorer"},{regex:/(Firefox)\/(\d{1,3}).\d/i,name:"Firefox"}];exports.getBrowserSpec=function(userAgent){for(var i in unsupportedBrowserMap){var matches=userAgent.match(unsupportedBrowserMap[i].regex);if(matches)return{name:unsupportedBrowserMap[i].name,version:matches[2]}}};var isBrowserChromeUnsupportedVersion=function(userAgent){var currentBrowserSpec=exports.getBrowserSpec(userAgent);return"undefined"!=typeof currentBrowserSpec&&"Chrome"==currentBrowserSpec.name?parseInt(currentBrowserSpec.version,10)<=chromeUnsupportedVersion:!1},isBrowserIEUnsupportedVersion=function(userAgent){var currentBrowserSpec=exports.getBrowserSpec(userAgent);return"undefined"!=typeof currentBrowserSpec&&"Internet Explorer"==currentBrowserSpec.name?parseInt(currentBrowserSpec.version,10)<=ieUnsupportedVersion:!1},isBrowserFirefoxUnsupportedVersion=function(userAgent){var currentBrowserSpec=exports.getBrowserSpec(userAgent);return"undefined"!=typeof currentBrowserSpec&&"Firefox"==currentBrowserSpec.name?parseInt(currentBrowserSpec.version,10)<=firefoxUnsupportedVersion:!1};exports.isBrowserUnsupported=function(userAgent){return isBrowserChromeUnsupportedVersion(userAgent)||isBrowserIEUnsupportedVersion(userAgent)||isBrowserFirefoxUnsupportedVersion(userAgent)}}(AFL.useragent,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.timing&&(AFL.timing={}),function($,exports,window){exports.requestAnimFrame=function(){return exports.requestAnimationFrame||exports.webkitRequestAnimationFrame||exports.mozRequestAnimationFrame||exports.oRequestAnimationFrame||exports.msRequestAnimationFrame||function(callback,element){window.setTimeout(callback,1e3/60)}},exports.requestInterval=function(fn,delay){function loop(){var current=(new Date).getTime(),delta=current-start;delta>=delay&&(fn.call(),start=(new Date).getTime()),handle.value=exports.requestAnimFrame(loop)}if(!(exports.requestAnimationFrame||exports.webkitRequestAnimationFrame||exports.mozRequestAnimationFrame&&exports.mozCancelRequestAnimationFrame||exports.oRequestAnimationFrame||exports.msRequestAnimationFrame))return setInterval(fn,delay);var start=(new Date).getTime(),handle=new Object;return handle.value=exports.requestAnimFrame(loop),handle},exports.clearRequestInterval=function(handle){exports.cancelAnimationFrame?exports.cancelAnimationFrame(handle.value):exports.webkitCancelAnimationFrame?exports.webkitCancelAnimationFrame(handle.value):exports.webkitCancelRequestAnimationFrame?exports.webkitCancelRequestAnimationFrame(handle.value):exports.mozCancelRequestAnimationFrame?exports.mozCancelRequestAnimationFrame(handle.value):exports.oCancelRequestAnimationFrame?exports.oCancelRequestAnimationFrame(handle.value):exports.msCancelRequestAnimationFrame?exports.msCancelRequestAnimationFrame(handle.value):clearInterval(handle)},AFL.timing.requestAnimFrame=exports.requestAnimFrame,AFL.timing.requestInterval=exports.requestInterval,AFL.timing.clearRequestInterval=exports.clearRequestInterval}(jQuery,AFL.timing,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.legacyBrowserCta&&(AFL.legacyBrowserCta={}),function(exports,jQuery,window){var agent=window.navigator.userAgent;exports.showBrowserUnsupportedMessage=function(){function getBackgroundPos(){var yPos=parseInt($backgroundElement.css("background-position-y"));return isNaN(yPos)?0:yPos}function shiftBackgroundPos(){$backgroundElement.css("background-position-y",getBackgroundPos()+$updateBrowserCtaHeight+"px")}function resetBackgroundPos(){$backgroundElement.css("background-position-y",getBackgroundPos()+"px")}var upgradeBrowserCookieName="hasClosedIe8Message";if(0==$(".partial--update-browser-cta").length){var updateBrowserCtaHtml=_.template($("#afl-update-browser-cta").html()),$whereToPrepend=$("body");$whereToPrepend.prepend(updateBrowserCtaHtml);var $updateBrowserCtaScope=$(".partial--update-browser-cta"),$updateBrowserCtaCloseBtn=$updateBrowserCtaScope.find(".js-close-ie8-prompt"),$updateBrowserCtaHeight=Number($updateBrowserCtaScope.height()),upgradeBrowserCookieValue=AFL.persist.getCookie(upgradeBrowserCookieName),$backgroundElement=$("body");if(null===upgradeBrowserCookieValue){var currentBrowserSpec=AFL.useragent.getBrowserSpec(agent);$("span.js-update-browser-cta-version").html(currentBrowserSpec.name+" "+currentBrowserSpec.version),$updateBrowserCtaScope.show(),shiftBackgroundPos()}$updateBrowserCtaCloseBtn.on("click",function(e){e.preventDefault(),AFL.persist.setCookie(upgradeBrowserCookieName,"true","","/","",""),$updateBrowserCtaScope.css("display","none"),resetBackgroundPos()})}},$(function(){AFL.useragent.isBrowserUnsupported(agent)&&exports.showBrowserUnsupportedMessage()})}(AFL.legacyBrowserCta,jQuery,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.liveRadioPopup&&(AFL.ui.decorators.liveRadioPopup={}),function(exports,window){return exports.decorate=function($popups){$popups.each(function(){var $popup=$(this),queryParams=AFL.querystring.extractMapFromDocumentUrl(),ooyalaEmbedCode=AFL.persist.getCookie("ooyalaEmbedCode-"+queryParams.id),ooyalaTitle=AFL.persist.getCookie("ooyalaTitle-"+queryParams.id);$popup.find(".js-live-radio-popup-ooyala-player").attr("data-content-id",ooyalaEmbedCode),$popup.find(".js-live-radio-popup-title").text(ooyalaTitle)})},exports}(AFL.ui.decorators.liveRadioPopup,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.liveRadioPopupLink&&(AFL.ui.decorators.liveRadioPopupLink={}),function(exports,window){return exports.decorate=function($links){$links.on("click",function(e){e.preventDefault();var $el=$(this),instanceId=$el.attr("data-live-radio-instance-id");AFL.persist.setCookie("ooyalaEmbedCode-"+instanceId,$el.attr("data-live-radio-popup-ooyala-embed-code"),"","/",window.location.hostname,""),AFL.persist.setCookie("ooyalaTitle-"+instanceId,$el.attr("data-live-radio-popup-title"),"","/",window.location.hostname,"");var url=$(this).attr("href")+"?id="+instanceId,windowName="radio",windowSize="width=370,height=260";window.open(url,windowName,windowSize)})},exports}(AFL.ui.decorators.liveRadioPopupLink,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.addDeviceCidToHref&&(AFL.ui.decorators.addDeviceCidToHref={}),function(exports,window){return exports.decorate=function($links){var deviceType=AFL.ui.isTablet?"Tablet":AFL.ui.isMobile?"Mobile":"Desktop";$links.each(function(){var $link=$(this),oldHref=$link.attr("href"),newHref=AFL.querystring.extendInUrlUsingMap(oldHref,{cid:deviceType+"MatchCentre"});$link.attr("href",newHref)})},exports}(AFL.ui.decorators.addDeviceCidToHref,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.jQueryTabs&&(AFL.ui.decorators.jQueryTabs={}),function(exports,window){return exports.decorate=function($tabsets){$tabsets.each(function(){var $tabset=$(this);$tabset.find(".tab").removeClass("tab-noscript"),$tabset.find("h3.tab-noscript").hide(),$tabset.tabs()})},exports}(AFL.ui.decorators.jQueryTabs,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.cmsOoyalaPlayer&&(AFL.ui.decorators.cmsOoyalaPlayer={}),function(exports,window){return exports.decorate=function($cmsOoyalaPlayer){$cmsOoyalaPlayer.each(function(){var $ooyalaPlayerPositioningWrapper=$(this),$ooyalaPlayer=$ooyalaPlayerPositioningWrapper.clone();$ooyalaPlayerPositioningWrapper.addClass("ooyala-player-sizing-wrapper"),$ooyalaPlayer.removeClass("js-cms-ooyala-player").addClass("js-ooyala-player").addClass("ooyala-player-wrapper"),$ooyalaPlayerPositioningWrapper.append($ooyalaPlayer)})},exports}(AFL.ui.decorators.cmsOoyalaPlayer,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.selectRandomJqueryTab&&(AFL.ui.decorators.selectRandomJqueryTab={}),function(exports,window){function randomFromInterval(from,to){return Math.floor(Math.random()*(to-from+1)+from)}return exports.decorate=function($tabsets){$tabsets.each(function(){var $tabset=$(this),$tabs=$tabset.find("ul.ui-tabs-nav > li");if($tabs.length>1){var random=randomFromInterval(0,$tabs.length-1);$tabs.each(function(i,value){var $tab=$(this),$tabPage=$($tab.find("a").attr("href"));return i===random?($tab.addClass("ui-tabs-selected ui-state-active"),void $tabPage.removeClass("ui-tabs-hide")):($tab.removeClass("ui-tabs-selected ui-state-active"),void $tabPage.addClass("ui-tabs-hide"))})}})},exports}(AFL.ui.decorators.selectRandomJqueryTab,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.siteNav&&(AFL.ui.decorators.siteNav={}),function(exports,window){return exports.decorate=function($siteNavEls){$siteNavEls.each(function(){var $siteNav=$(this);$siteNav.data("siteNavIsApplied")||AFL.ui.siteNav.init($siteNav)})},exports}(AFL.ui.decorators.siteNav,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.siteNavPrimaryItems&&(AFL.ui.decorators.siteNavPrimaryItems={}),function(exports,window){return exports.decorate=function($siteNavPrimaryItemsEls){$siteNavPrimaryItemsEls.each(function(){var $siteNavPrimaryItems=$(this),$watchElementsResize=$siteNavPrimaryItems.closest(".js-site-nav").find(".js-site-nav-tools");if(!$siteNavPrimaryItems.data("siteNavPrimaryItemsIsApplied")){var siteNavPrimaryItems=AFL.ui.siteNavPrimaryItems.init($siteNavPrimaryItems,$watchElementsResize);siteNavPrimaryItems.on("didOpenDropdown",function(){AFL.ui.siteNav.setSticky(!0),AFL.ui.siteNav.getBurgerMenuOpen()&&AFL.ui.siteNav.setBurgerMenuOpen(!1)}),siteNavPrimaryItems.on("didCloseDropdown",function(){AFL.ui.siteNav.setSticky(!1)})}}),$siteNavPrimaryItemsEls.data("siteNavPrimaryItemsIsApplied",!0)},exports}(AFL.ui.decorators.siteNavPrimaryItems,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.siteNavTools&&(AFL.ui.decorators.siteNavTools={}),function(exports,window){return exports.decorate=function($siteNavToolsEls){$siteNavToolsEls.each(function(){var $siteNavTools=$(this),siteNavTools=AFL.ui.siteNavTools.init($siteNavTools);AFL.isMobileSite&&siteNavTools.disableSearch(),siteNavTools.on("didOpenSearch",function(){AFL.ui.siteNav.setSticky(!0),AFL.ui.siteNav.setDimmed(!0)}),siteNavTools.on("didCloseSearch",function(){AFL.ui.siteNav.setSticky(!1),AFL.ui.siteNav.setDimmed(!1)})})},exports}(AFL.ui.decorators.siteNavTools,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.siteNavLogin&&(AFL.ui.decorators.siteNavLogin={}),function(exports,window){return exports.decorate=function($siteNavLoginEls){$siteNavLoginEls.each(function(){var $siteNavLogin=$(this);AFL.ui.siteNavLogin.init($siteNavLogin),AFL.ui.cssmedia.on("didInitOrChange",function(e,media){var showDropdown=!AFL.isMobileSite&&media.viewportWidth.is.telstraLarge;$siteNavLogin.find(".js-site-nav-login-link-only").css("display",showDropdown?"none":""),$siteNavLogin.find(".js-site-nav-login-dropdown").css("display",showDropdown?"":"none")})})},exports}(AFL.ui.decorators.siteNavLogin,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),"undefined"==typeof AFL.ui.decorators.iframeResizer&&(AFL.ui.decorators.iframeResizer={}),function(exports,window){function getAutoHeightCalculationMethod(){return isIE&&10>=ieVersion?"max":"min"}function getHeightCalculationMethod(attr){var auto=getAutoHeightCalculationMethod();if(!attr)return getAutoHeightCalculationMethod();if(-1===attr.indexOf(","))return attr;for(var attrCommaSeparatedKeyValuePairs=attr.split(","),attrMap={},i=0;i<attrCommaSeparatedKeyValuePairs.length;i++){var keyValuePair=attrCommaSeparatedKeyValuePairs.split("=");attrMap[keyValuePair[0]]=keyValuePair[1]}return isAndroid?attrMap.android||attrMap["default"]||auto:isIos?attrMap.ios||attrMap["default"]||auto:isIE&&10>=ieVersion?attrMap.ie10orBelow||attrMap["default"]||auto:attrMap["default"]||auto}var agent=navigator.userAgent,regexpIeVersion=/MSIE\s([\d.]+)/,ieVersion=null,ieVersionMatch=regexpIeVersion.exec(agent);ieVersionMatch&&(ieVersion=window.parseInt(ieVersionMatch[1],10));var isIE=null!==ieVersion,isAndroid=/android/i.test(agent),isIos=/ip(ad|od|hone)/i.test(agent);return exports.decorate=function($iframeContainers){$.when(window.iframeResize||$.ajax({url:"/static-resources/components/iframe-resizer/vendor/iframeResizer.min.js",cache:!0,dataType:"script"})).done(function(){$iframeContainers.each(function(){var $iframeContainer=$(this),heightCalculationMethodAttr=$iframeContainer.attr("data-iframe-resizer-height-calculation-method"),heightCalculationMethod=getHeightCalculationMethod(heightCalculationMethodAttr);console.log("heightCalculationMethod: ",heightCalculationMethod);var checkOriginAttr=$iframeContainer.attr("data-iframe-resizer-check-origin"),checkOrigin=""===checkOriginAttr||"true"===checkOriginAttr;$iframeContainer.find("iframe").attr("width","100%").iFrameResize({heightCalculationMethod:heightCalculationMethod,checkOrigin:checkOrigin,enablePublicMethods:!0})})})},exports}(AFL.ui.decorators.iframeResizer,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.decorators&&(AFL.ui.decorators={}),function($,exports,window){var decoratorRegistrations=[],registerOne=function(registration,failSilently){if("object"!=typeof registration.decorator){if(failSilently)return{successes:[],failures:[registration.debugId]};throw new TypeError("Registration failure - decorator must be an object")}if(!registration.decorator||"function"!=typeof registration.decorator.decorate){if(failSilently)return{successes:[],failures:[registration.debugId]};throw new TypeError("Registration failure - decorator must have a decorate() method")}return decoratorRegistrations.push({decorator:registration.decorator,selector:registration.selector,debugId:registration.debugId}),{successes:[registration.debugId],failures:[]}},registerMany=function(registrationList,failSilently){var failures=[],successes=[];return $.each(registrationList,function(index,registration){var result=registerOne(registration,failSilently);result.failures.length&&failures.push(result.failures[0]),result.successes.length&&successes.push(result.successes[0])}),{successes:successes,failures:failures}},registerOneOrMany=function(decoratorOrRegistrationOrList,selector,debugId,failSilently){return decoratorOrRegistrationOrList instanceof Array?registerMany(decoratorOrRegistrationOrList,failSilently):"object"==typeof decoratorOrRegistrationOrList?registerOne(decoratorOrRegistrationOrList,failSilently):registerOne({decorator:decoratorOrRegistrationOrList,selector:selector,debugId:debugId},failSilently)};exports.register=function(decoratorOrRegistrationOrList,selector,debugId){return registerOneOrMany(decoratorOrRegistrationOrList,selector,debugId,!1)},exports.tryRegister=function(decoratorOrRegistrationOrList,selector,debugId){return registerOneOrMany(decoratorOrRegistrationOrList,selector,debugId,!0)},exports.getDecoratorRegistrations=function(){return decoratorRegistrations.slice(0)},exports.decorate=function($scope){$.each(decoratorRegistrations,function(index,decoratorRegistration){var $matchedElementsWithinScope=$scope.find(decoratorRegistration.selector);$matchedElementsWithinScope.length&&decoratorRegistration.decorator.decorate($matchedElementsWithinScope)})}}(jQuery,AFL.ui.decorators,window),/*!
 * jQuery Smart Banner
 * Copyright (c) 2012 Arnold Daniels <arnold@jasny.net>
 * Based on 'jQuery Smart Web App Banner' by Kurt Zenisek @ kzeni.com
 */
!function($){var SmartBanner=function(options){this.origHtmlMargin=parseFloat($("html").css("margin-top")),this.options=$.extend({},$.smartbanner.defaults,options);var standalone=navigator.standalone;if(this.options.force?this.type=this.options.force:null!=navigator.userAgent.match(/iPad|iPhone|iPod/i)?null!=navigator.userAgent.match(/Safari/i)&&(null!=navigator.userAgent.match(/CriOS/i)||window.Number(navigator.userAgent.substr(navigator.userAgent.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):null!=navigator.userAgent.match(/Android/i)&&(this.type="android"),this.type&&!standalone&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")){this.scale="auto"==this.options.scale?$(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var meta=$("android"==this.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]');0!=meta.length&&(this.appId=/app-id=([^\s,]+)/.exec(meta.attr("content"))[1],this.title=this.options.title?this.options.title:$("title").text().replace(/\s*[|\-\xb7].*$/,""),this.author=this.options.author?this.options.author:$('meta[name="author"]').length?$('meta[name="author"]').attr("content"):window.location.hostname,this.create(),this.show(),this.listen())}};SmartBanner.prototype={constructor:SmartBanner,create:function(){var iconURL,link=this.options.url?this.options.url:("android"==this.type?"market://details?id=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,inStore=this.options.price?this.options.price+" - "+("android"==this.type?this.options.inGooglePlay:this.options.inAppStore):"",gloss=null===this.options.iconGloss?"ios"==this.type:this.options.iconGloss;$("body").append('<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+inStore+'</span></div><a href="'+link+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>"),this.options.icon?iconURL=this.options.icon:$('link[rel="apple-touch-icon-precomposed"]').length>0?(iconURL=$('link[rel="apple-touch-icon-precomposed"]').attr("href"),null===this.options.iconGloss&&(gloss=!1)):$('link[rel="apple-touch-icon"]').length>0&&(iconURL=$('link[rel="apple-touch-icon"]').attr("href")),iconURL?($("#smartbanner .sb-icon").css("background-image","url("+iconURL+")"),gloss&&$("#smartbanner .sb-icon").addClass("gloss")):$("#smartbanner").addClass("no-icon"),this.bannerHeight=$("#smartbanner").outerHeight()+2,this.scale>1&&($("#smartbanner").css("top",parseFloat($("#smartbanner").css("top"))*this.scale).css("height",parseFloat($("#smartbanner").css("height"))*this.scale),$("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",$(window).width()/this.scale))},listen:function(){$("#smartbanner .sb-close").on("click",$.proxy(this.close,this)),$("#smartbanner .sb-button").on("click",$.proxy(this.install,this))},show:function(callback){$("#smartbanner").stop().animate({top:0},this.options.speedIn).addClass("shown"),$("html").animate({marginTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",callback)},hide:function(callback){$("#smartbanner").stop().animate({top:-1*this.bannerHeight*this.scale},this.options.speedOut).removeClass("shown"),$("html").animate({marginTop:this.origHtmlMargin},this.options.speedOut,"swing",callback)},close:function(e){e.preventDefault(),this.hide(),this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(e){this.hide(),this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(name,value,exdays){var exdate=new Date;exdate.setDate(exdate.getDate()+exdays),value=escape(value)+(null==exdays?"":"; expires="+exdate.toUTCString()),document.cookie=name+"="+value+"; path=/;"},getCookie:function(name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++)if(x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("=")),y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1),x=x.replace(/^\s+|\s+$/g,""),x==name)return unescape(y);return null},switchType:function(){var that=this;this.hide(function(){that.type="android"==that.type?"ios":"android";var meta=$("android"==that.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");that.appId=/app-id=([^\s,]+)/.exec(meta)[1],$("#smartbanner").detach(),that.create(),that.show()})}},$.smartbanner=function(option){var $window=$(window),data=$window.data("typeahead"),options="object"==typeof option&&option;data||$window.data("typeahead",data=new SmartBanner(options)),"string"==typeof option&&data[option]()},$.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null},$.smartbanner.Constructor=SmartBanner}(window.jQuery),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.smartbanner&&(AFL.ui.smartbanner={}),function(exports,useragent){exports.init=function(){function checkSmartBannerCookie(){return AFL.persist.getCookie("sb-closed")}function applySmartBannerActiveState(){var checkCookiePersists=checkSmartBannerCookie(),$smartbannerEl=$("#smartbanner");null===checkCookiePersists&&$smartbannerEl.length>0?$("html").addClass("smartbanner-active"):($("html").removeClass("smartbanner-active"),clearInterval(smartBannerInterval))}if(!navigator.userAgent.match(/edge/i)){if(null===checkSmartBannerCookie()&&!useragent.isDesktop(navigator.userAgent))var smartBannerInterval=setInterval(applySmartBannerActiveState,500);var viewportMetaContent=$("meta[name=viewport]").attr("content"),viewportMetaWidthKeyValuePairs=viewportMetaContent&&viewportMetaContent.split(",").filter(function(el){return el.indexOf("width")>=-1}),viewportMetaWidthKeyValuePair=viewportMetaWidthKeyValuePairs&&viewportMetaWidthKeyValuePairs[0].split(/\s*=\s*/),hasFixedViewport="device-width"!==viewportMetaWidthKeyValuePair[1];useragent.isIos||useragent.isAndroid?$.smartbanner({title:"AFL Live Official App",author:"Telstra Corporation Limited",price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",icon:"/static-resources/components/vendor/smartbanner/dist/aflApp.png",iconGloss:!0,button:"VIEW",scale:hasFixedViewport?"2.5":"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null}):useragent.isWinphone&&SmartBannerWinPhone.init()}}}(AFL.ui.smartbanner,AFL.useragent),"undefined"==typeof SmartBannerWinPhone)var SmartBannerWinPhone={};"undefined"==typeof SmartBannerWinPhone.persist&&(SmartBannerWinPhone.persist={}),function(exports,window){exports.setCookie=function(name,value,expires,path,domain,secure){var today=new Date;today.setTime(today.getTime()),expires&&(expires=1e3*expires*60*60*24);var expires_date=new Date(today.getTime()+expires);document.cookie=name+"="+escape(value)+(expires?";expires="+expires_date.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")},exports.getCookie=function(name){var start=document.cookie.indexOf(name+"="),len=start+name.length+1;if(!start&&name!=document.cookie.substring(0,name.length))return null;if(-1==start)return null;var end=document.cookie.indexOf(";",len);return-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(len,end))}}(SmartBannerWinPhone.persist,window),function(exports,persist){var hideSmartBannerCookieName="smartbanner-winphone-hidden",forEachEl=function(nodeList,visitor){return Array.prototype.forEach.call(nodeList,visitor)};exports.init=function(options){if(navigator.userAgent.match(/(\bWindows Phone\b)/)&&navigator.userAgent.match(/\b(MSIE|Trident|Edge)\b/)){if(null!==persist.getCookie(hideSmartBannerCookieName))return;if(null!==document.querySelector(".smartbanner-winphone"))return;var elSmartBannerContainer=document.createElement("div");elSmartBannerContainer.innerHTML=['<div class="smartbanner-winphone">','<div class="smartbanner-winphone-layout">','<div class="smartbanner-winphone-layout__first">','<a class="smartbanner-winphone__close js-smartbanner-winphone-close" href="javascript:void(0)">Close</a>',"</div>",'<div class="smartbanner-winphone-layout__body">','<div class="smartbanner-winphone-app-info">','<div class="smartbanner-winphone-app-info-media">','<div class="smartbanner-winphone-app-info-media__image">','<img class="smartbanner-winphone-app-info__icon" width="60" height="60" ','src="//store-images.s-microsoft.com/image/apps.19786.9007199266585302.12619193-b12b-4da9-8915-b4ddacc0d200.1eeba7f0-6b46-4319-8aec-a00557ce816d?w=120&h=120&q=60" />',"</div>",'<div class="smartbanner-winphone-app-info-media__body">',"<h1>AFL Live Official App</h1>",'<span class="smartbanner-winphone-app-info__author">Telstra Corporation</span>','<span class="smartbanner-winphone-app-info__availability">FREE - Microsoft Store</span>',"</div>","</div>","</div>","</div>",'<div class="smartbanner-winphone-layout__last">','<a class="smartbanner-winphone__button-primary" href="http://windowsphone.com/s?appid=137538ff-2dc5-4060-a161-cb2c264e676a">Get it</a>',"</div>","</div>","</div>"].join("");var elSmartBanner=elSmartBannerContainer.firstChild;forEachEl(elSmartBanner.querySelectorAll(".js-smartbanner-winphone-close"),function(elCloseButton){elCloseButton.addEventListener("click",function(){elSmartBannerContainer.style.display="none",persist.setCookie(hideSmartBannerCookieName,"true","","/","","")})}),document.body.insertBefore(elSmartBannerContainer,document.body.firstChild),options=options||{},options.scale=options.scale||1,options.scale<1&&(options.scale=1),options.scale>1&&(elSmartBannerContainer.style["min-width"]=document.body.scrollWidth/options.scale+"px",elSmartBannerContainer.style.width=elSmartBannerContainer.style.width=100/options.scale+"%",elSmartBannerContainer.style.height=elSmartBannerContainer.clientHeight*options.scale+"px",elSmartBanner.style["-webkit-transform"]="scale("+options.scale+")",elSmartBanner.style["-ms-transform"]="scale("+options.scale+")",elSmartBanner.style["-webkit-transform-origin"]="0 0",elSmartBanner.style["-ms-transform-origin"]="0 0")}}}(SmartBannerWinPhone,SmartBannerWinPhone.persist),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),function($,exports,window){var agent=navigator.userAgent||navigator.vendor||window.opera,currentUrl=window.location.href,isMobile=exports.isMobile="undefined"!=typeof AFL.isMobileSite?AFL.isMobileSite:AFL.useragent.isMobile(agent),isTablet=exports.isTablet=AFL.useragent.isTablet(agent)&&!AFL.ui.isMobile,isIos=exports.isIos=/ip(ad|od|hone)/i.test(agent),isAndroid=exports.isAndroid=/android/i.test(agent),isSafari=exports.isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),isLteIE8=exports.isLteIE8=/MSIE [6-8]/i.test(agent),isLteIE9=exports.isLteIE9=/MSIE [6-9]/i.test(agent),media=exports.media={isSmall:exports.isMobile,isAboveSmall:!exports.isMobile};$.ajaxSetup({cache:!0}),exports.isMobileApp=function(){return-1!==currentUrl.indexOf(".mobileapp")},exports.addResponsiveClasses=function(){var $html=$("html");$html.toggleClass("is-mobile",exports.isMobile).toggleClass("is-not-mobile",!exports.isMobile).toggleClass("is-ios",exports.isIos).toggleClass("is-not-ios",!exports.isIos).toggleClass("is-android",exports.isAndroid).toggleClass("is-not-android",!exports.isAndroid).toggleClass("is-ios-or-android",exports.isAndroid||exports.isIos).toggleClass("is-not-ios-or-android",!exports.isAndroid&&!exports.isIos).toggleClass("lte-ie8",exports.isLteIE8).toggleClass("lte-ie9",exports.isLteIE9).toggleClass("is-mobile-app",exports.isMobileApp()).toggleClass("is-"+AFL.env.siteAbbr),$html.removeClass("no-js").addClass("js")},$.fn.filterAndFind=function(selector){return this.filter(selector).add(this.find(selector))},exports.slidesUseOoyala=!0,exports.decorateMarkup=function(scope){function livefyreFailed(){$scope.filterAndFind(".js-livefyre").each(function(){var $el=$(this),productName=AFL.livefyre.typeProductNameMap[$el.attr("data-livefyre-collection-type")];$el.html('<div class="notification-box notification-box--system-error">'+productName+" is currently unavailable, but should be back shortly.</div>")})}function bettingTab(url,name,args){"object"==typeof bettingSponsorTab&&bettingSponsorTab.close(),bettingSponsorTab=window.open(url,name,args)}function getRadioUrl(RadioUrlId){var domainUrlStr=AFL.Properties.global.domain.mobile.toString().split("/"),domainUrl=domainUrlStr[0]+"//"+domainUrlStr[2],radioDeviceType=getRadioDeviceType(),baseUrl=domainUrl+"/content-services/match-radio/"+RadioUrlId+"/device/"+radioDeviceType;$.ajax({type:"GET",url:baseUrl,dataType:"json",success:function(json_data){var urlRedirect=json_data.radioURL;window.location.href=urlRedirect},error:function(xhr){alert("Radio stream currently unavailable. Please try again later."),console.log(status)}})}var $scope=$("html");scope&&($scope=$(scope)),AFL.ui.decorators.decorate($scope),$scope.filterAndFind(".js-livefyre").length&&$.when(AFL.livefyre.loadJavaScript()).done(function(){AFL.livefyre.init(),$.when(AFL.livefyre.render({$els:$scope.filterAndFind(".js-livefyre")})).done(function(){}).fail(function(){livefyreFailed()})}).fail(livefyreFailed);var playerNamespaces=[],invokeOoyalaInit=exports.invokeOoyalaInit=function($player,namespace){function ooyalaHideSlidesPlayer(playerWrapper,ooPlayer,activeState){AFL.ui.isIos||AFL.ui.isAndroid||AFL.ooyala.killPlayer(ooPlayer),ooPlayer.pause(),playerWrapper.removeClass(activeState),playerWrapper.find(".partial--ooyala-video-player-empty-caption-block").remove(),playerWrapper.css({width:"0"})}namespace="undefined"!=typeof namespace?namespace:"OO";var $scope=$("html"),$playerInstance,ooPlayer,playerType,hasDiscovery,ooyalaV4Flags=AFL.Properties.global.ooyalaV4;if($playerInstance=$player?exports.$playerInstance=$player:exports.$playerInstance=$scope.filterAndFind(".js-ooyala-player"),playerType=$playerInstance.attr("data-player-type"),hasDiscovery=$playerInstance.attr("data-discovery"),"premium"!==playerType?AFL.ooyala.setVersion("v4"):AFL.ooyala.setVersion("v3"),$.when(AFL.ooyala.loadJavaScript($playerInstance,namespace)).done(function(){AFL.ooyala.isPlayerV4&&"true"===hasDiscovery&&($.ajaxPrefilter("script",function(s){s.crossDomain=!0}),$.getScript("/static-resources/components/vendor/ooyala/v4/4.16.10/other-plugin/discovery_api.min.js"));var playerObj=eval(namespace);playerObj.namespace=namespace,playerNamespaces.push({player:playerObj});var player=playerNamespaces[playerNamespaces.length-1].player;player.ready(function(){$playerInstance.aflOoyala(player),ooPlayer=$playerInstance.data("ooyala").ooPlayer,$(".radio-player").on("click",function(e){e.preventDefault()}),$scope.filterAndFind(".station-buttons a").on("click",function(e){if($(".radio-player").off(),!$(this).hasClass("station-button--active")){e.preventDefault(),$(".station-buttons a").removeClass("station-button--active"),$(this).addClass("station-button--active");var dataContentId=$(this).attr("data-content-id");if(AFL.ui.isIos){var ooPlayer=$playerInstance.data("ooyala").ooPlayer;AFL.ooyala.updateRadioMessage(ooPlayer),ooPlayer.setEmbedCode(dataContentId)}else{AFL.ui.destroyAndRecreateOoyala(dataContentId);var ooPlayer=$playerInstance.data("ooyala").ooPlayer;AFL.ooyala.updateRadioMessage(ooPlayer),AFL.ui.isAndroid?$(".oo-action-icon .oo-icon-play-slick").on("click",function(){$(".js-ooyala-player").data("ooyala").play()}):ooPlayer.play()}}})})}).fail(function(jqxhr,settings,exception){console.log("Error loading Ooyala script.")}),exports.destroyAndRecreateOoyala=function(dataContentId){AFL.ooyala.killPlayer(ooPlayer),$playerInstance.attr("data-content-id",dataContentId),$playerInstance.aflOoyala()},exports.videoCategoryClickBehaviours=function(){$scope.filterAndFind(".current-category .video-link a, .current-category .inner h4 a, #video-gallery-thumbs .video-link",".js-documentary-collection-view .js-pick-documentary a").on("click",function(e){if(e.preventDefault(),"undefined"!=typeof ooPlayer){var dataContentId=null;$(".match-centre#post-game").length?dataContentId=$(this).attr("data-content-id"):$(".partial--livepass-page").length?$(this).closest("data-ooyala-embed-code").attr("data-ooyala-embed-code"):dataContentId=$(this).closest(".vidlist").find(".video-link").attr("data-content-id"),$playerInstance.find("object").length?(exports.destroyAndRecreateOoyala(dataContentId),AFL.ooyala.resetPlaylist(dataContentId),ooPlayer=$(".js-ooyala-player").data("ooyala").ooPlayer,ooPlayer.play()):(ooPlayer.setEmbedCode(dataContentId),ooPlayer.play(),AFL.ooyala.resetPlaylist(dataContentId),AFL.ui.isIos||AFL.ui.isAndroid||ooPlayer.play())}e.stopImmediatePropagation()})},exports.videoCategoryClickBehaviours(),exports.refreshVideoClickBehaviours=function(){$scope.filterAndFind(".js-click-to-refresh-player").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var dataContentId=$(this).closest(".js-ooyala-player").attr("data-content-id");exports.destroyAndRecreateOoyala(dataContentId)})},exports.videoListClickBehaviours=function(){var modalFirstClick=!0;$scope.filterAndFind(".module-video .vidlist a").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var ooyalaVideoPlayerDiv=$(".match-centre-videos, .game-hub-videos").first();$scope.filterAndFind(".js-video-title").text(""),$scope.filterAndFind(".js-video-description").text("");var $that=$(this);if("undefined"!=typeof ooPlayer){$("#colorbox").addClass("colorbox--match-videos");var dataContentId=$that.closest(".vidlist").find(".video-link").attr("data-content-id");$playerInstance.find("object").length?modalFirstClick?ooPlayer.setEmbedCode(dataContentId):exports.destroyAndRecreateOoyala(dataContentId):ooPlayer.setEmbedCode(dataContentId),modalFirstClick=!1,$.fn.colorbox({inline:!0,href:ooyalaVideoPlayerDiv,opacity:.6,initialWidth:"100px",initialHeight:"100px",innerWidth:"630px",innerHeight:"445px",onLoad:function(){AFL.ui.isIos||AFL.ui.isAndroid||ooPlayer.play()},onClosed:function(){$scope.filterAndFind(".js-video-title").text(""),$scope.filterAndFind(".js-video-description").text("")}})}})},exports.videoListClickBehaviours(),exports.slidesUseOoyala&&!AFL.ui.isMobile){$scope.filterAndFind("#slides .playit").hide();var ooyalaCarouselFirstPlay=!0;$("a","#slides .slide.video-link").on("click",function(e){var playBtn=$(this);playBtn.parents(".caption").length||($(".js-video-title").text(""),$(".js-video-description").text(""),e.preventDefault(),ooyalaShowSlidesPlayer(playBtn),e.stopImmediatePropagation())})}var ooyalaChangeSlidesPlayerVideo=function($ooyalaPlayer,contentId){AFL.ui.isIos||AFL.ui.isAndroid||(ooyalaCarouselFirstPlay&&AFL.ooyala.killPlayer($ooyalaPlayer.data("ooyala").ooPlayer),$ooyalaPlayer.attr("data-autoplay",!0),$ooyalaPlayer.attr("data-content-id",contentId),$ooyalaPlayer.aflOoyala());var ooPlayer=$ooyalaPlayer.data("ooyala").ooPlayer;(AFL.ui.isIos||AFL.ui.isAndroid)&&(ooPlayer.setEmbedCode(contentId),ooPlayer.play()),ooyalaCarouselFirstPlay=!1},ooyalaShowSlidesPlayer=exports.ooyalaShowSlidesPlayer=function(playBtn){var $ooyalaPlayer=$scope.filterAndFind(".js-ooyala-player"),slideDataContentId=playBtn.closest(".slide.video-link").attr("data-content-id");ooyalaChangeSlidesPlayerVideo($ooyalaPlayer,slideDataContentId);var activeState="playing",slideWrapper=$scope.filterAndFind("#slides"),videoPlayerWrapper=slideWrapper.next("#slide-video-wrapper"),slideWrapperDetails={wrapperPos:slideWrapper.position(),wrapperWidth:slideWrapper.find(".slidesContainer").width()};videoPlayerWrapper.addClass(activeState),videoPlayerWrapper.css({width:slideWrapperDetails.wrapperWidth});var ooPlayer=$ooyalaPlayer.data("ooyala").ooPlayer;$(".slidesPagination a","#slides").live("click",function(e){videoPlayerWrapper.hasClass(activeState)&&ooyalaHideSlidesPlayer(videoPlayerWrapper,ooPlayer,activeState)}),$scope.filterAndFind("#slide-video-wrapper").find(".close").live("click",function(e){ooyalaHideSlidesPlayer(videoPlayerWrapper,ooPlayer,activeState)})}};$scope.filterAndFind(".js-ooyala-player-fmr").length||$scope.filterAndFind(".js-ooyala-player-afltv").length||($scope.filterAndFind(".js-ooyala-player").length||$scope.filterAndFind(".js-show-draft-player-profile-lightbox").length||$scope.filterAndFind(".partial--draft-tracker").length||$scope.filterAndFind(".partial--draft-machine").length?invokeOoyalaInit(null):$scope.filterAndFind(".js-live-radio-popup-ooyala-player").length&&invokeOoyalaInit($(".js-live-radio-popup-ooyala-player"),"OO")),$scope.filterAndFind(".js-current-page-highlighter").each(function(){var $nav=$(this);if(!$nav.data("current-page-highlighter-applied")){$nav.data("current-page-highlighter-applied",!0);var windowPathName=window.location.pathname.toLowerCase().replace(/^\/afl\/|^\/aflmobile\/|\.workstation[\/]?$|\.mobileapp[\/]?$|\.smartmobile[\/]?$/g,"/").replace(/\/$/,""),activeClass=$nav.attr("data-current-page-highlight-css-class")||"nav-item--active";$nav.find("a").each(function(){var $link=$(this),urls=[$link.attr("href")],isUrlMatched=!1,perLinkActiveClass=$link.attr("data-current-page-highlight-css-class")||activeClass;$link.attr("data-current-page-highlighter-alias-hrefs")&&(urls=$.merge(urls,$link.attr("data-current-page-highlighter-alias-hrefs").split(" "))),$.each(urls,function(index,url){var compareUrl=url.toLowerCase().replace(/^\/afl\/|^\/aflmobile\/|\.workstation[\/]?$|\.mobileapp[\/]?$|\.smartmobile[\/]?$/g,"/").replace(/\/$/,"");isUrlMatched=isUrlMatched||windowPathName==compareUrl}),$(this).toggleClass(perLinkActiveClass,isUrlMatched)})}}),AFL.ui.isIos&&$scope.filterAndFind(".js-sub-navigation a.nav-item").each(function(){var clicked=!1;$(this).bind("click",function(){if($(this).closest(".layout-cell").children(".js-sub-navigation__secondary").length){var subNavDisplay=$(this).closest(".layout-cell").children(".js-sub-navigation__secondary").attr("style");if("display: block;"!=subNavDisplay)return!(clicked=!0)}})}),$.fn.customSelect&&$scope.filterAndFind(".js-custom-select.custom-select--plain").customSelect({$placeholder:function(){return $(this).find('option[value=""]')}}),function(swipeJsAdapter){$scope.filterAndFind(".js-carousel-swipejs").each(function(){swipeJsAdapter.init($(this),{environment:{isIos:AFL.ui.isIos,media:{isSmall:AFL.ui.media.isSmall,isAboveSmall:AFL.ui.media.isAboveSmall}}})})}(AFL.swipeJsAdapter);var $aflLoginScope=$scope.find(".partial--afl-login-header-module");$aflLoginScope.each(function(){var $aflLoginScope=$(this);$aflLoginScope.data("afl.ui.login-widget")||($aflLoginScope.data("afl.ui.login-widget",!0),AFL.identity.loginWidget.init($aflLoginScope))});var $bettingSponsorScope=$scope.find(".js-popup-betting-sponsor");if(!$bettingSponsorScope.data("afl.ui.betting-sponsor")){$bettingSponsorScope.data("afl.ui.betting-sponsor",!0);var bettingSponsorTab;$(".js-popup-betting-sponsor").on("click",function(e){e.preventDefault();var bettingSponsorUrl=$(this).attr("href");bettingTab(bettingSponsorUrl,"BettingPopup","")})}var getRadioDeviceType=exports.getRadioDeviceType=function(){return isIos?"iOS-SmartMobile":isAndroid?"Android-SmartMobile":"Other-SmartMobile"},$mcMobileRadioLink=$scope.filterAndFind(".js-mc-mobile-radio-link");if($mcMobileRadioLink.on("touchstart click",function(){var RadioUrlId=$(this).attr("data-radioid");return getRadioUrl(RadioUrlId),!1}),AFL.ui.isMobile){$scope.filterAndFind("#app-prompt a.app-prompt-close").click(function(e){e.preventDefault(),AFL.persist.setCookie("dontShowAppPrompt","true","","/","",""),$scope.filterAndFind("#app-prompt").slideUp()}),$scope.filterAndFind(".returntoprevious").show().click(function(e){e.preventDefault(),window.history.back()}),$scope.filterAndFind(".checker").uniform(),$.each($scope.filterAndFind(".selector"),function(){var selector=$(this);selector.hasClass("sel-xsml")?selector.uniform({selectClass:"selector sel-xsml"}):selector.hasClass("sel-sml")?selector.uniform({selectClass:"selector sel-sml"}):selector.hasClass("sel-med")?selector.uniform({selectClass:"selector sel-med"}):selector.hasClass("sel-mlge")?selector.uniform({selectClass:"selector sel-mlge"}):selector.hasClass("sel-lge")?selector.uniform({selectClass:"selector sel-lge"}):selector.uniform()}),$.fn.menuOverlay=function(settings){$(this).each(function(){var killOverlay,bgPos,bodyEl=$("body"),linkEl=$(this),overlayEl=settings.overlay,topPos=settings.topPosition+"px",overlayPos=settings.overlayBg,visibleClass="visible",activeLinkClass="nav-active",overlayBgClass="overlay-background",bodyHeight=bodyEl.height()+"px";"object"===$.type(overlayEl)?(killOverlay=function(){overlayEl.closest(".header-region").length>0?overlayEl.closest(".header-region").find("."+visibleClass).removeClass(visibleClass).hide():overlayEl.parent().find("."+visibleClass).removeClass(visibleClass).hide(),linkEl.parent().parent().find("."+activeLinkClass).removeClass(activeLinkClass),$("."+overlayBgClass).hide()},bodyEl.click(function(){killOverlay()}),bgPos="undefined"!=typeof overlayPos?overlayPos+"px":topPos,$("."+overlayBgClass).length||bodyEl.append('<div class="'+overlayBgClass+'" style="top: '+bgPos+"; height:"+bodyHeight+';"></div>'),topPos.length>2&&overlayEl.css("top",topPos),linkEl.click(function(e){overlayEl.hasClass(visibleClass)||(killOverlay(),$("."+overlayBgClass).css("top",bgPos),overlayEl.addClass(visibleClass).slideDown(),$(this).addClass(activeLinkClass),$("."+overlayBgClass).show(),e.stopPropagation()),e.preventDefault()}),$("."+overlayBgClass).click(function(e){killOverlay()}),overlayEl.click(function(e){e.stopPropagation()})):console.log("The overlay must be passed as an object")})},$scope.filterAndFind(".header-container li .more.menu").menuOverlay({overlay:$(".header-region .segment-content-container.menu"),topPosition:98}),$scope.filterAndFind(".header-container li .more.clubs").menuOverlay({overlay:$(".header-region .segment-content-container.clubs"),topPosition:98});var radioButton=$scope.filterAndFind(".button.button--listen-live");if(radioButton.length>=1){var radioOverlay=$scope.filterAndFind(".segment-content-container.listenlive"),radioPos=radioButton.position(),overlayPos=radioPos.top+radioButton.outerHeight();radioOverlay.css("top",overlayPos+"px !important"),radioButton.menuOverlay({overlay:radioOverlay,topPosition:overlayPos,overlayBg:0})}$scope.filterAndFind("#slides").initSlideshow({mobile:!0}),$scope.filterAndFind("a.reveal").click(function(event){event.preventDefault(),parent_li=$(this).closest("li"),parent_li.find(".replay-qtrs").hasClass("hide")?(parent_li.find(".replay-qtrs").removeClass("hide"),parent_li.find(".match-info").addClass("hide")):(parent_li.find(".replay-qtrs").addClass("hide"),parent_li.find(".match-info").removeClass("hide"))})}if(!AFL.ui.isMobile){$scope.filterAndFind(".shopshop").jcarousel({wrap:"both"}).jcarouselAutoscroll({interval:3e3,target:"+=1",autostart:!0,create:$(".shopshop").hover(function(){$(this).jcarouselAutoscroll("stop")},function(){$(this).jcarouselAutoscroll("start")})}),$scope.filterAndFind("input[title]").each(function(){var $input=$(this);""===$input.val()&&$input.val($input.attr("title")),$input.focus(function(){$input.val()===$input.attr("title")&&$input.val("").addClass("focused"),$input.parents("#search").addClass("search-form-remove-opacity")}),$input.blur(function(){""===$input.val()&&$input.val($input.attr("title")).removeClass("focused"),$input.parents("#search").removeClass("search-form-remove-opacity")})});var calendar=$scope.filterAndFind(".calendar");calendar.length>0&&(calendar.datepicker({changeMonth:!0,changeYear:!0,showOn:"both",buttonImage:"/static-resources/themes/common/images/calendar.gif",buttonImageOnly:!0,dateFormat:"dd-mm-yy"}),$scope.filterAndFind(".ui-datepicker-calendar td a").live("click",function(e){e.preventDefault(),window.location.href="?date="+calendar.val()})),$scope.filterAndFind("#slides").initSlideshow(),$scope.filterAndFind(".js-dynamic-section .section-header").show(),$scope.filterAndFind(".js-selector-cont").show(),$scope.filterAndFind(".js-select-content").hide(),$scope.filterAndFind(".js-select-content:first-child").show(),$scope.filterAndFind(".js-selector").change(function(){var $selector=$(this);return $selector.parent().parent().parent().find(".js-select-content").hide(),$($selector.val()).show(),!1}),$scope.filterAndFind(".checker").uniform(),$.each($scope.filterAndFind(".selector"),function(){var selector=$(this),classes=selector.attr("class");selector.uniform({selectClass:classes})});var $comments=$scope.filterAndFind(".comments-container");if($comments.length>0){var characterLimit=800,commentCounter=function(el,chars){el.html(characterLimit-chars+" characters left")};$comments.each(function(){var textArea=$(this).find("textarea");if("disabled"!==textArea.attr("disabled")){textArea.after('<p id="counter"></p>');var counter=$("p#counter");commentCounter(counter,0),textArea.keydown(function(e){return textArea.val().length>=characterLimit&&(e.keyCode>46||32===e.keyCode)?!1:void 0}),textArea.keyup(function(){commentCounter(counter,textArea.val().length),textArea.val().length>characterLimit?counter.addClass("error"):counter.removeClass("error")})}})}$scope.filterAndFind(".dd-prompt-close").click(function(e){e.preventDefault(),AFL.persist.setCookie("dontShowWebAppPrompt","true","","/","",""),$scope.filterAndFind("#dd-prompt").hide()}),$scope.filterAndFind(".match-block").click(function(e){e.preventDefault(),$(".gamebar-offseason-links").hide(),$(this).find(".gamebar-offseason-links").show(),$(".live").removeClass("live"),$(this).addClass("live")}),$scope.filterAndFind(".button--listen-live").length&&$("#live-radio").on("click",function(e){e.preventDefault();var url=$(this).attr("href"),windowName="radio",windowSize="width=650,height=670";window.open(url,windowName,windowSize)}),$scope.filterAndFind("#results-photos ul li:nth-child(6n)").addClass("last"),$scope.filterAndFind("#results-videos .content div:nth-child(4n)").addClass("last")}$scope.filterAndFind(".js-jscrollpane").each(function(){var $el=$(this),pane=$el.data("jsp");if(pane)return void pane.reinitialise();$el.jScrollPane({supportPointerEvents:!0,autoReinitialise:!!$el.data("data-scrollpane-auto-reinitialise")||void 0});var $tabs=$el.closest(".js-jquery-tabs, .tabs");$tabs.length&&$tabs.on("tabsselect",function(event,ui){var $selectedTabPage=$tabs.find(".ui-tabs-nav ~ .ui-tabs-panel").eq($(ui.tab).closest("li").index());$selectedTabPage.find($el).length&&window.setTimeout(function(){$el.data("jsp").reinitialise()},0)})});var $accordianscope=$scope.filterAndFind(".partial--accordion-module");$accordianscope.filterAndFind(".js-accordion-question").on("click",function(e){e.preventDefault();var $associatedAnswer=$(this).parent().next(".accordion-answer");$(this).toggleClass("accordion-question-open"),$associatedAnswer.slideToggle(500)})},exports.init=function(){exports.addResponsiveClasses(),AFL.identity.makeCssResponsiveToIdentity(),AFL.ui.cssmedia.init({$pseudoElementParent:$('<span class="cssmedia-breakpoint-reporter-telstra"></span>').appendTo("body")}),AFL.enableSmartBanner&&AFL.ui.smartbanner.init(),AFL.ui.decorators.register([{decorator:AFL.ui.decorators.liveRadioPopupLink,selector:".js-live-radio-popup-link",debugId:"liveRadioPopupLink"},{decorator:AFL.ui.decorators.liveRadioPopup,selector:".js-live-radio-popup-content",debugId:"liveRadioPopup"},{decorator:AFL.ui.decorators.addDeviceCidToHref,selector:".js-add-device-cid-to-href",debugId:"addDeviceCidToHref"},{decorator:AFL.ui.decorators.iframeResizer,selector:".js-iframe-resizer",debugId:"iframeResizer"},{decorator:AFL.ui.decorators.jQueryTabs,selector:".tabs, .js-jquery-tabs",debugId:"jQueryTabs"},{decorator:AFL.ui.decorators.selectRandomJqueryTab,selector:".js-select-random-jquery-tab",debugId:"selectRandomJqueryTab"},{decorator:AFL.ui.decorators.cmsOoyalaPlayer,selector:".js-cms-ooyala-player",debugId:"cmsOoyalaPlayer"},{decorator:AFL.ui.decorators.siteNav,selector:".js-site-nav",debugId:"siteNav"},{decorator:AFL.ui.decorators.siteNavPrimaryItems,selector:".js-site-nav-primary-items",debugId:"siteNavPrimaryItems"},{decorator:AFL.ui.decorators.siteNavTools,selector:".js-site-nav-tools",debugId:"siteNavTools"},{decorator:AFL.ui.decorators.siteNavLogin,selector:".js-site-nav-login",debugId:"siteNavLogin"}]),exports.decorateMarkup()}}(jQuery,AFL.ui,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.social&&(AFL.social={}),function(exports,$,window){
exports.shareLinks;exports.shareToFacebook=function(facebookShareInfo){var fullImageUrl=window.location.protocol+"//"+window.location.host+facebookShareInfo.imageUrl,shareUrl=facebookShareInfo.url||window.location.href,facebookShareUrl="http://www.facebook.com/sharer.php?s=100&p[title]="+encodeURI(facebookShareInfo.title)+"&p[summary]="+encodeURI(facebookShareInfo.summary)+"&p[url]="+encodeURI(shareUrl)+"&&p[images][0]="+encodeURI(fullImageUrl);window.open(facebookShareUrl,"sharer","toolbar=0,status=0,width=548,height=325")},exports.shareToTwitter=function(twitterShareInfo){var url=window.location.href,via=twitterShareInfo.via||"AFL",related=twitterShareInfo.related||"AFL",twitterShareUrl="https://twitter.com/share?url="+encodeURIComponent(url)+"&text="+encodeURIComponent(twitterShareInfo.text)+"&data-via="+encodeURIComponent(via)+"&data-related="+encodeURIComponent(related)+"&hashtags="+encodeURIComponent(twitterShareInfo.hashTags)+"&data-count=none";window.open(twitterShareUrl,"sharer","toolbar=0,status=0,width=548,height=325")},exports.tweet=function(tweetInfo){var defer=$.Deferred(),url=tweetInfo.url||null,text=tweetInfo.text||null,via=tweetInfo.via||null,related=tweetInfo.related||null,hashTags=tweetInfo.hashTags||null,twitterIntentUrl="https://twitter.com/intent/tweet?"+(url?"url="+encodeURIComponent(url):"")+(text?"&text="+encodeURIComponent(text):"")+(via?"&via="+encodeURIComponent(via):"")+(related?"&related="+encodeURIComponent(related):"")+(hashTags?"&hashtags="+encodeURIComponent(hashTags):""),twitterWindow=window.open(twitterIntentUrl,"intent","toolbar=0,status=0,width=550,height=420"),twitterWindowInterval=window.setInterval(function(){twitterWindow&&twitterWindow.closed===!1||(window.clearInterval(twitterWindowInterval),defer.resolve())},200);return defer.promise()}}(AFL.social,jQuery,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.querystring&&(AFL.querystring={}),function(exports,window){function isObjectEmpty(map){for(var key in map)if(map.hasOwnProperty(key))return!1;return!0}return exports.isMap=function(map){if("object"!=typeof map||map instanceof Array||null===map)return!1;var value;for(var key in map)if(map.hasOwnProperty(key)&&(value=map[key],"object"==typeof value&&null!==value))return!1;return!0},exports.extractMapFromDocumentUrl=function(){return exports.extractMapFromUrl(window.document.location.href)},exports.extractMapFromUrl=function(url){if(-1===url.indexOf("?"))return{};var queryStringMap={},queryString=url.substr(url.indexOf("?")+1);return 0===queryString.length?{}:(queryString.split("&").forEach(function(value,index,arr){queryStringMap[value.split("=")[0]]=value.split("=")[1]}),queryStringMap)},exports.convertMapToString=function(map){var queryStringSegments=[];if(!exports.isMap(map))throw TypeError("The parameter 'map' must be a map");for(var key in map)map.hasOwnProperty(key)&&"undefined"!=typeof map[key]&&queryStringSegments.push(key+"="+map[key]);return queryStringSegments.join("&")},exports.removeFromUrl=function(url){if("string"!=typeof url)throw TypeError("The parameter 'url' must be a string");return url.indexOf("?")>=0?url.substr(0,url.indexOf("?")):url},exports.replaceInUrlUsingMap=function(url,map){var urlWithoutQueryString=exports.removeFromUrl(url);if("string"!=typeof url)throw TypeError("The parameter 'url' must be a string");return isObjectEmpty(map)?urlWithoutQueryString:urlWithoutQueryString+"?"+exports.convertMapToString(map)},exports.extendInUrlUsingMap=function(url,modificationsMap){var map=exports.extractMapFromUrl(url);if("string"!=typeof url)throw TypeError("The parameter 'url' must be a string");if(isObjectEmpty(modificationsMap))return url;for(var key in modificationsMap)modificationsMap.hasOwnProperty(key)&&(null===modificationsMap[key]?delete map[key]:"undefined"!=typeof modificationsMap[key]&&(map[key]=modificationsMap[key]));return exports.replaceInUrlUsingMap(url,map)},exports}(AFL.querystring,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.identity&&(AFL.identity={}),function(exports,persist,$,window){function updateHtmlLoggedInClass(loggedIn){$("html").toggleClass("is-logged-in",loggedIn).toggleClass("is-not-logged-in",!loggedIn)}function updateHtmlSubscribedClass(subscribed){$("html").toggleClass("is-subscribed",subscribed).toggleClass("is-not-subscribed",!subscribed)}function updateHtmlExSubscriberClass(subscribed){$("html").toggleClass("is-ex-subscriber",subscribed).toggleClass("is-not-ex-subscriber",!subscribed)}function updateLoginUserName(){var identityUsername=AFL.persist.getCookie("name");identityUsername&&(identityUsername=identityUsername.replace(/"/g,"")),$(".js-login-name").text(identityUsername)}exports.loginAndRegisterUsingAflId=exports.loginAndRegisterUsingAflId||!1;var urlRegexps={identity:{local:/^local(host|id.afl.com.au)$/,pit:/^pitid.afl.com.au$/,mod:/^modid.afl.com.au$/,prod:/^id.afl.com.au$/},cms:{local:/^local.afl.com.au$|.cloud.aflmedia.net$|dev.afl.com.au$/,pit:/^pit(m|wcms)?.afl.com.au$/,mod:/^mod(m|wcms)?.afl.com.au$/,awstest:/^(wwworigin.|www.|m.|wcms.)?afl.build001.testafl.com$/,prod:/^(www.|m.|wcms.)?afl.com.au$/}},getRegisterUrl=function(returnRedirectUrl){var url;return returnRedirectUrl=returnRedirectUrl||window.location.href,url=exports.loginAndRegisterUsingAflId?urlRegexps.identity.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/register":urlRegexps.identity.pit.test(window.location.hostname)?"/registerPopup":urlRegexps.identity.mod.test(window.location.hostname)?"/registerPopup":urlRegexps.identity.prod.test(window.location.hostname)?"/registerPopup":urlRegexps.cms.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/register":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/register":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/register":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/register":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/register"):urlRegexps.identity.local.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.identity.pit.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.identity.mod.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.identity.prod.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.cms.local.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.cms.pit.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.cms.mod.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.cms.awstest.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):urlRegexps.cms.prod.test(window.location.hostname)?"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"):"https://id.telstra.com.au/register/aflgame?gotoURL="+window.encodeURIComponent("https://signon.telstra.com/login?goto=https://signon.telstra.com/federation/saml2?SPID=AFLMedia"),AFL.querystring.extendInUrlUsingMap(url,{furl:window.encodeURIComponent(returnRedirectUrl),curl:window.encodeURIComponent(returnRedirectUrl)})},getRegisterPopupUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/registerPopup":urlRegexps.identity.pit.test(window.location.hostname)?"/registerPopup":urlRegexps.identity.mod.test(window.location.hostname)?"/registerPopup":urlRegexps.identity.prod.test(window.location.hostname)?"/registerPopup":urlRegexps.cms.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/registerPopup":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/registerPopup":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/registerPopup":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/registerPopup":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/registerPopup")},getLoginUrl=function(returnRedirectUrl){returnRedirectUrl=returnRedirectUrl||window.location.href;var url;return url=exports.loginAndRegisterUsingAflId?urlRegexps.identity.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/login":urlRegexps.identity.pit.test(window.location.hostname)?"/login":urlRegexps.identity.mod.test(window.location.hostname)?"/login":urlRegexps.identity.prod.test(window.location.hostname)?"/login":urlRegexps.cms.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/login":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/login":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/login":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/login":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/login"):urlRegexps.identity.local.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.identity.pit.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.identity.mod.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.identity.prod.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.cms.local.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.cms.pit.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.cms.mod.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":urlRegexps.cms.awstest.test(window.location.hostname)?"https://signon.telstra.com/federation/saml2?SPID=AFLMedia":(urlRegexps.cms.prod.test(window.location.hostname),"https://signon.telstra.com/federation/saml2?SPID=AFLMedia"),AFL.querystring.extendInUrlUsingMap(url,{furl:window.encodeURIComponent(returnRedirectUrl),curl:window.encodeURIComponent(returnRedirectUrl)})},getLoginPopupUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/loginPopup":urlRegexps.identity.pit.test(window.location.hostname)?"/loginPopup":urlRegexps.identity.mod.test(window.location.hostname)?"/loginPopup":urlRegexps.identity.prod.test(window.location.hostname)?"/loginPopup":urlRegexps.cms.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/loginPopup":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/loginPopup":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/loginPopup":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/loginPopup":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/loginPopup")},getLogoutPopupUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"http://localid.afl.com.au:9000/logout":urlRegexps.identity.pit.test(window.location.hostname)?"/logout":urlRegexps.identity.mod.test(window.location.hostname)?"/logout":urlRegexps.identity.prod.test(window.location.hostname)?"/logout":urlRegexps.cms.local.test(window.location.hostname)?"http://localid.afl.com.au:9000/logout":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/logout":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/logout":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/logout":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/logout")};exports.getFreeTrialUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/livepass":urlRegexps.identity.pit.test(window.location.hostname)?"/livepass":urlRegexps.identity.mod.test(window.location.hostname)?"/livepass":urlRegexps.identity.prod.test(window.location.hostname)?"/livepass":urlRegexps.cms.local.test(window.location.hostname)?"https://localid.afl.com.au:9443/livepass":urlRegexps.cms.pit.test(window.location.hostname)?"https://pitid.afl.com.au/livepass":urlRegexps.cms.mod.test(window.location.hostname)?"https://modid.afl.com.au/livepass":urlRegexps.cms.awstest.test(window.location.hostname)?"https://modid.afl.com.au/livepass":(urlRegexps.cms.prod.test(window.location.hostname),"https://id.afl.com.au/livepass")},exports.getSubscribeUrl=function(){return exports.getFreeTrialUrl.apply(this,arguments)},exports.getPremiumContentUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"http://local.afl.com.au:4567/livepass/match-replays":urlRegexps.identity.pit.test(window.location.hostname)?"http://pit.afl.com.au/livepass/match-replays":urlRegexps.identity.mod.test(window.location.hostname)?"http://mod.afl.com.au/livepass/match-replays":urlRegexps.identity.prod.test(window.location.hostname)?"http://www.afl.com.au/livepass/match-replays":urlRegexps.cms.local.test(window.location.hostname)?"/livepass/match-replays":urlRegexps.cms.pit.test(window.location.hostname)?"/livepass/match-replays":urlRegexps.cms.mod.test(window.location.hostname)?"/livepass/match-replays":urlRegexps.cms.awstest.test(window.location.hostname)?"/livepass/match-replays":urlRegexps.cms.prod.test(window.location.hostname)?"/livepass/match-replays":"http://www.afl.com.au/livepass/match-replays"},exports.getManageLoginUrl=function(){return urlRegexps.identity.local.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.identity.pit.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.identity.mod.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.identity.prod.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.cms.local.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.cms.pit.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.cms.mod.test(window.location.hostname)?"https://subscription.afl.com.au":urlRegexps.cms.awstest.test(window.location.hostname)?"https://subscription.afl.com.au":(urlRegexps.cms.prod.test(window.location.hostname),"https://subscription.afl.com.au")},exports.makeCssResponsiveToIdentity=function(){$(AFL.identity).on("loginchanged",function(e,now,before){updateHtmlLoggedInClass(now.loggedIn),updateHtmlSubscribedClass(now.subscribed),updateHtmlExSubscriberClass(now.exUser),now.loggedIn&&updateLoginUserName()}),updateHtmlLoggedInClass(AFL.identity.getLoggedIn()),updateHtmlSubscribedClass(AFL.identity.getSubscribed()),updateHtmlExSubscriberClass(AFL.identity.getExUser()),updateLoginUserName()};var newPopupWindow=function(url,id,size){var windowRect={left:void 0!=window.screenLeft?window.screenLeft:window.screenX,top:void 0!=window.screenTop?window.screenTop:window.screenY,width:window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,height:window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height},popupRect={width:size.width,height:size.height};return popupRect.left=Math.round((windowRect.width-popupRect.width)/2+windowRect.left),popupRect.top=Math.round((windowRect.height-popupRect.height)/2+windowRect.top),window.open(url,id,["height="+popupRect.height,"width="+popupRect.width,"left="+popupRect.left,"top="+popupRect.top,"modal=yes","alwaysRaised=yes"].join(","))},newLogOutIframe=function(url){var id="identityLogoutIframe";return $("<iframe>",{src:url,id:id,frameborder:0,scrolling:"no"}).css({position:"absolute",left:"-9999px",top:"0"}).appendTo("body"),$("iframe#"+id)};exports.getLoggedIn=function(){var cookie=AFL.persist.getCookie("status");return!(!cookie||2!=cookie.length||"1"!=cookie.substr(1,1))},exports.getSubscribed=function(){var cookie=AFL.persist.getCookie("status");return!(!cookie||2!=cookie.length||"1"!=cookie.substr(0,1))},exports.getExUser=function(){var cookie=AFL.persist.getCookie("status"),livepassTrial=AFL.persist.getCookie("subHistory");return!(!cookie||"true"!=livepassTrial||2!=cookie.length||"0"!=cookie.substr(0,1))};var redirectToLogin=function(returnRedirectUrl){window.location.href=getLoginUrl(returnRedirectUrl)},redirectToRegister=function(returnRedirectUrl){window.location.href=getRegisterUrl(returnRedirectUrl)};exports.asyncRegister=function(){return exports.asyncLogin(getRegisterPopupUrl())};var loginInterval=null,logoutTimeout=null;exports.asyncLogin=function(alternateUrl){var defer=new $.Deferred;if(exports.getLoggedIn())return defer.resolve(),defer.promise();var loginWindow=newPopupWindow(alternateUrl||getLoginPopupUrl(),"loginWindow",{width:765,height:629});return loginWindow.focus(),loginInterval&&clearInterval(loginInterval),loginInterval=window.setInterval(function(){var loggedIn=exports.getLoggedIn();return!loginWindow||loginWindow.closed?(window.clearInterval(loginInterval),loggedIn?void defer.resolve():void defer.reject()):void(loggedIn&&(loginWindow.close(),window.clearInterval(loginInterval),loginInterval=null,defer.resolve()))},200),defer.promise()},exports.asyncLogout=function(){function clearCookies(domain){deleteCookie("alpha","/",domain),deleteCookie("status","/",domain),deleteCookie("name","/",domain),deleteCookie("stamp","/",domain),deleteCookie("aflfa","/",domain),deleteCookie("lf-tok","/",domain),deleteCookie("mis-uuid","/",domain)}var domain=urlRegexps.cms.awstest.test(window.location.hostname)?".testafl.com":".afl.com.au",defer=new $.Deferred;if(!exports.getLoggedIn())return defer.resolve(),defer.promise();$(exports).trigger("beforelogout");var $logoutIframe=newLogOutIframe(getLogoutPopupUrl());return logoutTimeout&&clearTimeout(logoutTimeout),logoutTimeout=window.setTimeout(function(){$logoutIframe.remove(),clearCookies(domain),clearTimeout(logoutTimeout),logoutTimeout=null,defer.resolve()},3e3),defer.promise()},exports.login=function(){return exports.loginOverride?exports.loginOverride.apply(this,arguments):exports.loginAndRegisterUsingAflId?exports.asyncLogin.apply(this,arguments):redirectToLogin.apply(this,arguments)},exports.register=function(){return exports.registerOverride?exports.registerOverride.apply(this,arguments):exports.loginAndRegisterUsingAflId?exports.asyncRegister.apply(this,arguments):redirectToRegister.apply(this,arguments)},exports.logout=function(){return exports.logoutOverride?exports.logoutOverride.apply(this,arguments):exports.asyncLogout.apply(this,arguments)};var detectLoginChanged=function(){exports.lastLoginStatus=exports.lastLoginStatus||{loggedIn:null,subscribed:null,exUser:null},exports.currentLoginStatus={loggedIn:exports.getLoggedIn(),subscribed:exports.getSubscribed(),exUser:exports.getExUser()},JSON.stringify(exports.currentLoginStatus)!==JSON.stringify(exports.lastLoginStatus)&&$(exports).trigger("loginchanged",[exports.currentLoginStatus,exports.lastLoginStatus]),exports.lastLoginStatus=exports.currentLoginStatus};window.setInterval(detectLoginChanged,200)}(AFL.identity,AFL.persist,jQuery,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.identity&&(AFL.identity={}),"undefined"==typeof AFL.identity.loginWidget&&(AFL.identity.loginWidget={}),function(exports,persist,$,window){function updateLoginButtonStatus(){var $aflLoginScope=$(".partial--afl-login-header-module"),$livePassButtonTitle=$aflLoginScope.find(".js-live-pass-cta"),$registerButtonURL=$aflLoginScope.find(".js-afl-register-button"),$livePassButtonURL=$aflLoginScope.find(".js-live-pass-cta-url"),$livePassManageLoginURL=$aflLoginScope.find(".js-identity-manage-url"),isUserRegistered=AFL.identity.getLoggedIn(),isUserSubscribed=AFL.identity.getSubscribed(),isExUser=AFL.identity.getExUser();$registerButtonURL.attr("href","javascript:void(0)").off("click").on("click",function(){AFL.identity.register()}),$livePassManageLoginURL.attr("href",AFL.identity.getManageLoginUrl()),!isUserRegistered||isUserSubscribed||isExUser?isUserRegistered&&isUserSubscribed?($livePassButtonTitle.html("Access premium content"),$livePassButtonURL.attr("href",AFL.identity.getPremiumContentUrl())):isExUser&&!isUserSubscribed&&($livePassButtonTitle.html("Subscribe to AFL Live Pass"),$livePassButtonURL.attr("href",AFL.identity.getSubscribeUrl())):($livePassButtonTitle.html("Free Live Pass trial"),$livePassButtonURL.attr("href",AFL.identity.getFreeTrialUrl()))}function getAflLoginWidgetOpen($aflLoginWidget){return!$aflLoginWidget.hasClass("is-closed")}function setAflLoginWidgetOpen($aflLoginWidget,open){open?($aflLoginWidget.removeClass("is-closed"),$aflLoginWidget.slideDown(150)):($aflLoginWidget.slideUp(0),$aflLoginWidget.addClass("is-closed")),$aflLoginWidget.data("$toggleAflLoginWidgetButton").toggleClass("is-active",open)}exports.init=function($aflLoginScope){var $toggleAflLoginWidgetButton=$aflLoginScope.find(".js-toggle-afl-login-widget"),$aflLoginWidget=$aflLoginScope.find(".partial--afl-login-widget");$aflLoginWidget.data("$toggleAflLoginWidgetButton",$toggleAflLoginWidgetButton),$toggleAflLoginWidgetButton.on("click",function(){setAflLoginWidgetOpen($aflLoginWidget,!getAflLoginWidgetOpen($aflLoginWidget))}),$(AFL.identity).on("loginchanged",function(e,now,before){now.loggedIn!==before.loggedIn&&setAflLoginWidgetOpen($aflLoginWidget,!1),updateLoginButtonStatus()}),$(document).click(function(e){$(e.target).closest($toggleAflLoginWidgetButton).length||$(e.target).closest($aflLoginWidget).length||$aflLoginWidget.hasClass("is-closed")||setAflLoginWidgetOpen($aflLoginWidget,!getAflLoginWidgetOpen($aflLoginWidget))}),$(".js-identity-logout").on("click",function(){AFL.identity.logout()}),$(".js-identity-login").on("click",function(){AFL.identity.login()}),updateLoginButtonStatus()}}(AFL.identity.loginWidget,AFL.persist,jQuery,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.livefyre&&(AFL.livefyre={}),function($,exports,window){function hashAsAvatarId(name){return crc32(name)%numAvatars+1}function replaceAnonAvatarsWithRandoms($scope,options){$scope.find(options.selector).filter(function(index,el){var $el=$(el);return!$el.data("replaced-with-custom-avatar")&&$el.attr("src").match("fyre.co/a/anon/")}).each(function(){var $avatar=$(this),avatarId=hashAsAvatarId($avatar.attr("alt")),replacementHtml='<span class="'+$avatar.get(0).className+" "+options.cssClassOut+" "+options.cssSubclassPrefixOut+avatarId+'"></span>';$avatar.data("replaced-with-custom-avatar",!0).css({opacity:"0",position:"absolute"}).after($(replacementHtml))})}function replaceAllAnonAvatarsWithRandoms($scope){replaceAnonAvatarsWithRandoms($scope,{selector:"img.fyre-user-avatar",cssClassOut:"fyre-custom-avatar",cssSubclassPrefixOut:"fyre-custom-avatar--"}),replaceAnonAvatarsWithRandoms($scope,{selector:"img.fyre-user-avatar-25, .fyre-listener-avatars img",cssClassOut:"fyre-custom-avatar-small",cssSubclassPrefixOut:"fyre-custom-avatar-small--"}),replaceAnonAvatarsWithRandoms($scope,{selector:".fyre-comment-footer .fyre-avatar img",cssClassOut:"fyre-custom-avatar-tiny",cssSubclassPrefixOut:"fyre-custom-avatar-tiny--"})}function updateFollowButtonCssClass($scope){$scope.find(".fyre-follow-button").filter(function(index,el){return!$(el).hasClass("fyre-follow-button--following")&&$(el).text().match("\\-")}).removeClass("fyre-follow-button--not-following").addClass("fyre-follow-button--following").attr("title","- Follow").end().filter(function(index,el){return!$(el).hasClass("fyre-follow-button--not-following")&&$(el).text().match("\\+")}).removeClass("fyre-follow-button--following").addClass("fyre-follow-button--not-following").attr("title","+ Follow")}exports.siteId=null,exports.siteName=null,exports.network=null,exports.userAuthToken=null,exports.javaScriptUrl="//cdn.livefyre.com/libs/fyre.conv.load.js",exports.collection={},exports.typeProductNameMap={livechat:"LiveChat",livecomments:"LiveComments",liveblog:"LiveBlog"},exports.useNodeJsDebugCmtService=!1;var cmtServiceDefinitions={nodeJsViaCharles:{route:"/livefyre-token-service/collection-meta/:siteName/:type/:articleId/:articleUrl/:articleTitle/:tags",propertyNames:{token:"collectionMetaToken",checksum:"checksum",siteId:null,network:null}},intViaCharles:{route:"/livefyre-token-service/collectionToken?title=:articleTitle&articleId=:articleId&url=:articleUrl&type=:type",propertyNames:{token:"token",checksum:"checksum",siteId:"siteId",network:"networkName"}},"int":{route:"/api/vgn-ext-templating/content-services/livefyre/collectionToken?title=:articleTitle&articleId=:articleId&url=:articleUrl&type=:type",propertyNames:{token:"token",checksum:"checksum",siteId:"siteId",network:"networkName"}}};exports.cmtServiceDefinition=exports.useNodeJsDebugCmtService?cmtServiceDefinitions.nodeJsViaCharles:window.location.hostname.match(/^local|^10\.|^192\./)?cmtServiceDefinitions.intViaCharles:cmtServiceDefinitions["int"],exports.useUserAuthMetaTokenService=!1,exports.userAuthMetaTokenServiceRoute="/livefyre-token-service/user-auth/:userId/:displayName/:expirySeconds",exports.livefyreLogin=function(){fyre.conv.login(exports.userAuthToken),exports.decorate()},exports.livefyreLogout=function(){fyre.conv.logout(),exports.decorate()},exports.asyncGetUserAuthToken=function(){var deferred=new $.Deferred;if(deferred.then(function(userAuthResponseArgs){exports.userAuthToken=userAuthResponseArgs.userAuthToken}),AFL.persist.getCookie("lf-tok"))deferred.resolve({userAuthToken:AFL.persist.getCookie("lf-tok")});else if(exports.useUserAuthMetaTokenService){var userAuthTokenInputs={userId:"userno1029384756",displayName:"Matt Price",expirySeconds:3600};deferred=$.ajax(exports.userAuthMetaTokenServiceRoute.replace(":userId",encodeURIComponent(userAuthTokenInputs.userId)).replace(":displayName",encodeURIComponent(userAuthTokenInputs.displayName)).replace(":expirySeconds",encodeURIComponent(userAuthTokenInputs.expirySeconds)))}else deferred.reject(null);return deferred.promise()},exports.loadJavaScript=function(){var defer=new $.Deferred;return $.ajax({url:exports.javaScriptUrl,dataType:"script",timeout:3e4}).done(function(){defer.resolve()}).fail(function(){defer.reject()}),defer.promise()};var generateShareUrl=function(){var url=window.location.href.replace("localhost:4567","www.afl.com.au").replace("local.afl.com.au:4567","www.afl.com.au");return url},getShareTextDomainName=function(){return window.location.hostname.replace(/(^|.+\.)afl\./g,"AFL.")};exports.init=function(){exports.networkConfig={network:exports.network,authDelegate:new fyre.conv.RemoteAuthDelegate,strings:{shareDefaultText:"Check out %s's post on "+getShareTextDomainName()+"!",shareText:"I just posted a comment on "+getShareTextDomainName()+". Do you agree? Check it out!"}},exports.networkConfig.authDelegate.login=function(delegate){return $.when(exports.asyncGetUserAuthToken()).then(function(){exports.livefyreLogin(),delegate.success()},function(){$.when(AFL.identity.asyncLogin()).done(function(){exports.networkConfig.authDelegate.login.call(this,delegate)}).fail(function(){delegate.failure()})}),!0},$(AFL.identity).bind("beforelogout",function(){exports.livefyreLogout()}),exports.networkConfig.authDelegate.logout=function(delegate){return $.when(AFL.identity.asyncLogout()).done(function(){delegate.success()}).fail(function(){delegate.failure()}),!0},exports.networkConfig.authDelegate.viewProfile=function(delegate,author){var profileUrl=author.profileUrl,allowIt=profileUrl&&!profileUrl.match(/afl.*fyre.co/);return console.log("Allow this link?",allowIt),allowIt?void window.open(profileUrl,"_blank"):allowIt}};var cachedCrcTable,makeCRCTable=function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t},crc32=function(e){for(var t=cachedCrcTable||(cachedCrcTable=makeCRCTable()),n=-1,r=0;r<e.length;r++)n=n>>>8^t[255&(n^e.charCodeAt(r))];return(-1^n)>>>0},numAvatars=15;exports.decorate=function($widgets){$widgets instanceof $||($widgets=$(".fyre").parent()),$widgets.each(function(){var $widget=$(this),livefyreLogoHtml='<div class="powered-by-livefyre"><a href="http://livefyre.com" target="_blank">Powered by Livefyre</a></div>';0==$widget.find(".powered-by-livefyre").length&&$widget.append($(livefyreLogoHtml)),$widget.find(".fyre-user-loggedout").addClass("button button--plain button--inline"),replaceAllAnonAvatarsWithRandoms($widget),updateFollowButtonCssClass($widget),(AFL.ui.media.isSmall||$widget.closest(".js-livefyre-force-small").length||$widget.closest(".match-centre").length)&&!$widget.find(".fyre").hasClass("fyre-width-small")&&$widget.find(".fyre").addClass("fyre-width-small").removeClass("fyre-width-medium").removeClass("fyre-width-large")})},exports.render=function(config){var requests=[],convConfigs=[],defer=new $.Deferred;return config.$els.each(function(){var $el=$(this),suffix=($el.attr("data-livefyre-collection-type")||"").replace("live","").replace("comments","").replace(/(.+)/,"-$1"),cmtInputs={siteName:AFL.livefyre.siteName,type:$el.attr("data-livefyre-collection-type"),articleId:$el.attr("data-livefyre-collection-id")||AFL.livefyre.collection.baseId+suffix||null,articleUrl:$el.attr("data-livefyre-collection-url")||AFL.livefyre.collection.url||generateShareUrl(),articleTitle:$el.attr("data-livefyre-collection-title")||AFL.livefyre.collection.title||document.title,tags:$el.attr("data-livefyre-collection-tags")||AFL.livefyre.collection.tags};$el.attr("id")||$el.attr("id","livefyre-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"==c?r:3&r|8;return v.toString(16)})),requests.push($.when($.ajax({url:exports.cmtServiceDefinition.route.replace(":siteName",encodeURIComponent(cmtInputs.siteName)).replace(":type",encodeURIComponent(cmtInputs.type)).replace(":articleId",encodeURIComponent(cmtInputs.articleId)).replace(":articleUrl",encodeURIComponent(cmtInputs.articleUrl)).replace(":articleTitle",encodeURIComponent(cmtInputs.articleTitle)).replace(":tags",encodeURIComponent(cmtInputs.tags)),timeout:3e4})).done(function(cmtResponseArgs){convConfigs.push({app:"main",siteId:AFL.livefyre.siteId||cmtResponseArgs[exports.cmtServiceDefinition.propertyNames.siteId],articleId:cmtInputs.articleId,el:$el.attr("id"),collectionMeta:cmtResponseArgs[exports.cmtServiceDefinition.propertyNames.token],checksum:cmtResponseArgs[exports.cmtServiceDefinition.propertyNames.checksum]}),cmtResponseArgs[exports.cmtServiceDefinition.propertyNames.network]&&(exports.networkConfig.network=exports.network=cmtResponseArgs[exports.cmtServiceDefinition.propertyNames.network])}))}),$.when.apply(void 0,requests).done(function(){fyre.conv.load(exports.networkConfig,convConfigs,function(){var widgetsArray=arguments;$.each(widgetsArray,function(index,widget){return function(index,widget){widget.on("initialRenderComplete",function(){var opts=widget.getOpts();exports.decorate($("#"+opts.el))})}(index,widget)}),setInterval(function(){replaceAllAnonAvatarsWithRandoms($(".fyre").parent()),updateFollowButtonCssClass($(".fyre").parent())},200),$.when(exports.asyncGetUserAuthToken()).then(function(){exports.livefyreLogin()},function(){})}),defer.resolve()}).fail(function(){defer.reject()}),defer.promise()}}(jQuery,AFL.livefyre,window),(window.jQuery||window.Zepto)&&!function($){$.fn.Swipe=function(params){return this.each(function(){$(this).data("Swipe",new Swipe($(this)[0],params))})}}(window.jQuery||window.Zepto),"undefined"==typeof AFL&&(AFL={}),AFL.swipeJsAdapter=function(window,Swipe,$){var $indicatorContainerTemplate=$('<ol class="carousel-indicators carousel-indicators--interactive"></ol>'),$indicatorTemplate=$("<li></li>"),exports={},setIndicator=function($carousel,pos){
$carousel.find(".carousel-indicators").find("li").each(function(){var $indicator=$(this);$indicator.toggleClass("active",$indicator.attr("data-slide-index")==pos)})};exports.init=function(){(function($carousel,options){var carouselMedia=$carousel.attr("data-carousel-swipejs");if("undefined"==typeof carouselMedia||"undefined"==typeof options.environment.media||"for-small"==carouselMedia&&options.environment.media.isSmall||"for-above-small"==carouselMedia&&options.environment.media.isAboveSmall){for(var isIos="undefined"==typeof options.environment.isIos?options.environment.isIos:/ip(ad|od|hone)/i.test(navigator.userAgent),$indicatorContainer=$indicatorContainerTemplate.clone(),i=0;i<$carousel.find(".carousel-slide").length;i++)$indicatorTemplate.clone().attr("data-slide-index",i).appendTo($indicatorContainer);$indicatorContainer.on("click","li",function(){var $indicator=$(this),index=parseInt($indicator.attr("data-slide-index"));isIos?(index<swipe.getPos()&&swipe.prev(),index>swipe.getPos()&&swipe.next()):swipe.slide(index)}).appendTo($carousel),setIndicator($carousel,0);var swipe=Swipe($carousel.get(0),{auto:$carousel.attr("data-carousel-swipejs-auto-duration-ms")||3e3,continuous:!0,callback:function(pos){setIndicator($carousel,pos)}})}}).apply(this,arguments)};return exports}(window,Swipe,$),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.areas&&(AFL.areas={}),function(exports,window){var ads=exports.ads={adelaide:{id:"adelaide",detector:function(){return"adel"==AFL.env.siteAbbr}},brisbane:{id:"brisbane",detector:function(){return"bl"==AFL.env.siteAbbr}},carlton:{id:"carlton",detector:function(){return"carl"==AFL.env.siteAbbr}},collingwood:{id:"collingwood",detector:function(){return"coll"==AFL.env.siteAbbr}},essendon:{id:"essendon",detector:function(){return"ess"==AFL.env.siteAbbr}},fremantle:{id:"fremantle",detector:function(){return"fre"==AFL.env.siteAbbr}},geelong:{id:"geelong",detector:function(){return"geel"==AFL.env.siteAbbr}},goldcoast:{id:"goldcoast",detector:function(){return"gcfc"==AFL.env.siteAbbr}},gws:{id:"gws",detector:function(){return"gws"==AFL.env.siteAbbr}},hawthorn:{id:"hawthorn",detector:function(){return"haw"==AFL.env.siteAbbr}},melbourne:{id:"melbourne",detector:function(){return"melb"==AFL.env.siteAbbr}},northmelbourne:{id:"northmelbourne",detector:function(){return"nmfc"==AFL.env.siteAbbr}},portadelaide:{id:"portadelaide",detector:function(){return"port"==AFL.env.siteAbbr}},richmond:{id:"richmond",detector:function(){return"rich"==AFL.env.siteAbbr}},stkilda:{id:"stkilda",detector:function(){return"stk"==AFL.env.siteAbbr}},sydney:{id:"sydney",detector:function(){return"syd"==AFL.env.siteAbbr}},westcoast:{id:"westcoast",detector:function(){return"wce"==AFL.env.siteAbbr}},western:{id:"western",detector:function(){return"wb"==AFL.env.siteAbbr}},home:{id:"home",detector:function(){return 1===$("#slide-video-wrapper").length}},gameHub:{id:"gamehub",detector:function(){return 1===$(".game-hub").length}},radio:{id:"radio",detector:function(){return 1===$(".js-analytics-indicator[data-analytics-ad-area=radio]").length}},matchCentre:{id:"matchcentre",detector:function(){return 1===$(".match-centre#pre-game, .match-centre#live-game, .match-centre#post-game").length}},video:{id:"videocentre",detector:function(){return $("div.video-centre").length>0}},news:{id:"article",detector:function(){return 1===$(".article").length}},noAds:{id:"noads",detector:function(){return 1===$(".js-analytics-indicator[data-analytics-ad-area=noads], .partial--livepass-page").length}},other:{id:"other",detector:null}},site=exports.site={home:{id:"home",detector:function(){return 1===$("#slide-video-wrapper").length}},gameHub:{id:"gamehub",detector:function(){return 1===$(".game-hub").length}},radio:{id:"radio",detector:function(){return 1===$(".js-analytics-indicator[data-analytics-ad-area=radio]").length}},matchCentre:{id:"matchcentre",detector:function(){return 1===$(".match-centre#pre-game, .match-centre#live-game, .match-centre#post-game").length}},video:{id:"videocentre",detector:function(){return $("div.video-centre").length>0}},news:{id:"article",detector:function(){return 1===$(".article").length}},premium:{id:"premium",detector:function(){return 1===$(".partial--livepass-page").length}},other:{id:"other",detector:null}},adAreaPrecedence=[ads.adelaide,ads.brisbane,ads.carlton,ads.collingwood,ads.essendon,ads.fremantle,ads.geelong,ads.goldcoast,ads.gws,ads.hawthorn,ads.melbourne,ads.northmelbourne,ads.portadelaide,ads.richmond,ads.stkilda,ads.sydney,ads.westcoast,ads.western,ads.home,ads.gameHub,ads.radio,ads.matchCentre,ads.video,ads.news,ads.noAds,ads.other],siteAreaPrecedence=[site.home,site.gameHub,site.radio,site.matchCentre,site.video,site.news,site.premium,site.other];exports.getAdArea=function(){for(var i=0;i<adAreaPrecedence.length;i++){var adArea=adAreaPrecedence[i];if(adArea.detector&&adArea.detector())return adArea}return ads.other},exports.getSiteArea=function(){for(var i=0;i<siteAreaPrecedence.length;i++){var siteArea=siteAreaPrecedence[i];if(siteArea.detector&&siteArea.detector())return siteArea}return site.other},exports.getAdAreaId=function(){return exports.getAdArea().id}}(AFL.areas,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ooyala&&(AFL.ooyala={}),"undefined"==typeof AFL.ooyala.configs&&(AFL.ooyala.configs={}),function(exports,global){const playerConfigs=exports.playerConfigs={playerTypeIdMap:{radio:{afl:"7ee4c598d9364d10b87ae78fc2678345"},live:{afl:"c89627833a644e59a957b67c9ce2d57a",adel:"8137c2fb14994c84876f252064093036",bl:"8236b4f89fc64aa5a3adfb30f9426678",carl:"9c373eda49a940a793d33aa1eebdcf9e",coll:"4d5b2c7530cb4eb3948fc772203194bf",ess:"7b900a2e1aba49bd9ec23d6f555f6637",fre:"de504250992e460ea1182a26078e2613",geel:"a3447263fee45f4860fc0c9b2e9d843",gcfc:"af78ed0a6830486ea4577aa148495e85",gws:"4139ec78ff9e4e4f889ad9a0a91d4cb1",haw:"3c813d53423944e0baf5ddc903b592c5",melb:"575705728bf34330ae1d0252a2f2ec3d",nmfc:"c144583943244e2ab0ff7f85434fbbac",port:"cf48a4e6e6eb49dc8a207ef523eaf9f2",rich:"2b9c15e05111400ab8b1e1a995d16632",stk:"4bd1549b3fc749c1895a7c5ee4cdff21",syd:"e1bac8659a1c4182a6d07c023de70770",wb:"3965631acc9f4f25b1286e15e72d13b6",wce:"39afa7743e0e4a019aa68ad4a1ad1575"},"default":{afl:"89a379a0e1e94feca5bb87c46a8b2d5e",adel:"6f971dd7379c42e995bd9b39ef75ca90",bl:"85bce63c0ea34fb390de065b9449de59",carl:"2d5fcc6b05024a138d32473faa86c9a9",coll:"956405ea62d14ba092887d928d6ead20",ess:"5b7b1c8c38304ec794d57a843f5f0fe8",fre:"b3eaeb8070fb4889b785d5d79f475622",geel:"3363975251bf41b9bd69507cbb87ec06",gcfc:"a2c11b132e644d24baf3c28d4fd97503",gws:"8406ecfdd40440bda9973b34d8f2463e",haw:"c0d6c85eb94cfbabb48ccaf928564f",melb:"a7ff8cec2b304f5a824519ddc0b19334",nmfc:"c64837c37a64c479508226973659dbb",port:"c48d116a06a245ce940e765dc2d5097e",rich:"57dc91ab8053477b90cd74fe75c1d9ae",stk:"3d2d5eb16eed4055b63091fec9938a35",syd:"6cbf0e16bb564ce7b7dcb9df472532d4",wb:"5cf56e2059cd49deb64779026c46d75b",wce:"ba24ce3fa6474f8eab7470168ee736af"},premium:{afltv:"d9e83d5b8321430eb9e25fa87f3f93d7",docos:"17a38ef021264224a46ae1777b668b00",fmr:"6b0954bc80e34e7d9e0a69b9ba0cbca8"}},v4Params:{pcode:{primary:"Zha2IxOrpV-sPLqnCop1Lz0fZ5Gi",secondary:"BudDUxOt2GEh8L5PMMpcbz1wJFwm"},skin:{"default":{config:"/static-resources/responsive/components/common/ooyala/skins/default-video-skin.json",overrides:{afl:"/static-resources/responsive/components/common/ooyala/skins/afl/afl-video-skin.json",adel:"/static-resources/responsive/components/common/ooyala/skins/clubs/adel/adel-video-skin.json",bl:"/static-resources/responsive/components/common/ooyala/skins/clubs/bl/bl-video-skin.json",carl:"/static-resources/responsive/components/common/ooyala/skins/clubs/carl/carl-video-skin.json",coll:"/static-resources/responsive/components/common/ooyala/skins/clubs/coll/coll-video-skin.json",ess:"/static-resources/responsive/components/common/ooyala/skins/clubs/ess/ess-video-skin.json",fre:"/static-resources/responsive/components/common/ooyala/skins/clubs/fre/fre-video-skin.json",gcfc:"/static-resources/responsive/components/common/ooyala/skins/clubs/gcfc/gcfc-video-skin.json",geel:"/static-resources/responsive/components/common/ooyala/skins/clubs/geel/geel-video-skin.json",gws:"/static-resources/responsive/components/common/ooyala/skins/clubs/gws/gws-video-skin.json",haw:"/static-resources/responsive/components/common/ooyala/skins/clubs/haw/haw-video-skin.json",melb:"/static-resources/responsive/components/common/ooyala/skins/clubs/melb/melb-video-skin.json",nmfc:"/static-resources/responsive/components/common/ooyala/skins/clubs/nmfc/nmfc-video-skin.json",port:"/static-resources/responsive/components/common/ooyala/skins/clubs/port/port-video-skin.json",rich:"/static-resources/responsive/components/common/ooyala/skins/clubs/rich/rich-video-skin.json",stk:"/static-resources/responsive/components/common/ooyala/skins/clubs/stk/stk-video-skin.json",syd:"/static-resources/responsive/components/common/ooyala/skins/clubs/syd/syd-video-skin.json",wb:"/static-resources/responsive/components/common/ooyala/skins/clubs/wb/wb-video-skin.json",wce:"/static-resources/responsive/components/common/ooyala/skins/clubs/wce/wce-video-skin.json"}},live:{config:"/static-resources/responsive/components/common/ooyala/skins/default-live-video-skin.json",overrides:{afl:"/static-resources/responsive/components/common/ooyala/skins/afl/afl-live-video-skin.json",adel:"/static-resources/responsive/components/common/ooyala/skins/clubs/adel/adel-live-video-skin.json",bl:"/static-resources/responsive/components/common/ooyala/skins/clubs/bl/bl-live-video-skin.json",carl:"/static-resources/responsive/components/common/ooyala/skins/clubs/carl/carl-live-video-skin.json",coll:"/static-resources/responsive/components/common/ooyala/skins/clubs/coll/coll-live-video-skin.json",ess:"/static-resources/responsive/components/common/ooyala/skins/clubs/ess/ess-live-video-skin.json",fre:"/static-resources/responsive/components/common/ooyala/skins/clubs/fre/fre-live-video-skin.json",gcfc:"/static-resources/responsive/components/common/ooyala/skins/clubs/gcfc/gcfc-live-video-skin.json",geel:"/static-resources/responsive/components/common/ooyala/skins/clubs/geel/geel-live-video-skin.json",gws:"/static-resources/responsive/components/common/ooyala/skins/clubs/gws/gws-live-video-skin.json",haw:"/static-resources/responsive/components/common/ooyala/skins/clubs/haw/haw-live-video-skin.json",melb:"/static-resources/responsive/components/common/ooyala/skins/clubs/melb/melb-live-video-skin.json",nmfc:"/static-resources/responsive/components/common/ooyala/skins/clubs/nmfc/nmfc-live-video-skin.json",port:"/static-resources/responsive/components/common/ooyala/skins/clubs/port/port-live-video-skin.json",rich:"/static-resources/responsive/components/common/ooyala/skins/clubs/rich/rich-live-video-skin.json",stk:"/static-resources/responsive/components/common/ooyala/skins/clubs/stk/stk-live-video-skin.json",syd:"/static-resources/responsive/components/common/ooyala/skins/clubs/syd/syd-live-video-skin.json",wb:"/static-resources/responsive/components/common/ooyala/skins/clubs/wb/wb-live-video-skin.json",wce:"/static-resources/responsive/components/common/ooyala/skins/clubs/wce/wce-live-video-skin.json"}},radio:{config:"/static-resources/responsive/components/common/ooyala/skins/default-video-skin.json",overrides:{afl:"/static-resources/responsive/components/common/ooyala/skins/afl/afl-radio-skin.json"}},premium:{config:"/static-resources/responsive/components/common/ooyala/skins/default-video-skin.json",overrides:{afl:"/static-resources/responsive/components/common/ooyala/skins/afl/afl-premium-skin.json"}}}},areaAdSetMap:{}};playerConfigs.areaAdSetMap[AFL.areas.ads.adelaide.id]="99775f4eeb844a0aab288473ed688ab1",playerConfigs.areaAdSetMap[AFL.areas.ads.brisbane.id]="a454afb8961641a08153c70ec12510ee",playerConfigs.areaAdSetMap[AFL.areas.ads.carlton.id]="7ff8af97c9df4e4db3d7efa02bdc1351",playerConfigs.areaAdSetMap[AFL.areas.ads.collingwood.id]="9b6c347975c74164ba04b420d722facf",playerConfigs.areaAdSetMap[AFL.areas.ads.essendon.id]="a1c63023560a4d7f9620f5fc01caf0ae",playerConfigs.areaAdSetMap[AFL.areas.ads.fremantle.id]="64f3411e3c044177b59323363ff35c06",playerConfigs.areaAdSetMap[AFL.areas.ads.geelong.id]="a1500695e3184636b9075bb93aeeaa52",playerConfigs.areaAdSetMap[AFL.areas.ads.goldcoast.id]="497c6a4da2854122b4d6321ad0eb5b8b",playerConfigs.areaAdSetMap[AFL.areas.ads.gws.id]="788a61d210df4eb2a766f73da038ddad",playerConfigs.areaAdSetMap[AFL.areas.ads.hawthorn.id]="c7c936046fe84811a1e385d17687ee73",playerConfigs.areaAdSetMap[AFL.areas.ads.melbourne.id]="e7060c189a6f4d928d19e69fd89949cd",playerConfigs.areaAdSetMap[AFL.areas.ads.northmelbourne.id]="6fd3c8821754422c9b7a310ea74ebcda",playerConfigs.areaAdSetMap[AFL.areas.ads.portadelaide.id]="daec680015ab42eb90d83eaf146e2381",playerConfigs.areaAdSetMap[AFL.areas.ads.richmond.id]="25ac8f6697c34e49b8985895b9603223",playerConfigs.areaAdSetMap[AFL.areas.ads.stkilda.id]="3601a6307d746bf932fca25d99b0354",playerConfigs.areaAdSetMap[AFL.areas.ads.sydney.id]="6f18c14c42b24d07a1df4205f598e294",playerConfigs.areaAdSetMap[AFL.areas.ads.westcoast.id]="eced20df1f5d4c6e84d0e5f7c53372ac",playerConfigs.areaAdSetMap[AFL.areas.ads.western.id]="6ba4a30a7fcd43abbf6d6009450d93a3",playerConfigs.areaAdSetMap[AFL.areas.ads.home.id]="642dbf2648ff4f4a99a45cea8d17cdcd",playerConfigs.areaAdSetMap[AFL.areas.ads.radio.id]=null,playerConfigs.areaAdSetMap[AFL.areas.ads.matchCentre.id]="8f84e1b863246bf8eacfc9034137275",playerConfigs.areaAdSetMap[AFL.areas.ads.video.id]="1d6eb46f958142baa5dd933a60812ada",playerConfigs.areaAdSetMap[AFL.areas.ads.news.id]="bc4e5a4f8d9e4c3d881d2a4478930da1",playerConfigs.areaAdSetMap[AFL.areas.ads.gameHub.id]="e1d0f5c8c1534c7b807cb7cba40d7a56",playerConfigs.areaAdSetMap[AFL.areas.ads.other.id]="e1d0f5c8c1534c7b807cb7cba40d7a56",playerConfigs.areaAdSetMap[AFL.areas.ads.noAds.id]=null;exports.convivaConfigs={prod:{gatewayUrl:"https://cws.conviva.com",customerKey:"e653500594a781dbc42026afe046762692966809",applicationName:"AFL Network"},test:{gatewayUrl:"https://Telstra-AFL-Test.testonly.conviva.com",customerKey:"69b93c2f8bf26c0edf513501a13f4da18556fb68",applicationName:"AFL Network"}}}(AFL.ooyala.configs,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ooyala&&(AFL.ooyala={}),function(exports,global){"use strict";function getScriptURL($playerContainer,namespace){var namespaceParam,url;namespaceParam=null==namespace||"undefined"==namespace?"":"&namespace="+namespace;var playerType=($playerContainer.attr("data-player-type")||"default").toLowerCase();return url=exports.isPlayerV4?ooyalaScriptURL:ooyalaScriptURL+AFL.ooyala.getPlayerIdByPlayerType(playerType)+"?"+fallbackParam+namespaceParam}function onCreate(ooPlayer){function updateTitles(){var getVideoTitle=ooPlayer.getTitle(),getVideoDescription=ooPlayer.getDescription(),$videoTitle=$(".js-video-title"),$videoDescription=$(".js-video-description");siteArea===(AFL.areas.site.video||AFL.areas.site.news)?captionTransition(getVideoTitle,getVideoDescription):siteArea===AFL.areas.site.home?($videoTitle.text(getVideoTitle),$videoDescription.text(getVideoDescription),$(".is-not-mobile.is-ios-or-android .partial--ooyala-video-player-with-caption").find(".js-ooyala-player").after('<div class="partial--ooyala-video-player-empty-caption-block" style="padding-top: 10px; margin-top: -10px; position: relative; z-index: 2;"></div>')):siteArea===AFL.areas.site.matchCentre&&$(".match-centre#live-game").length?($videoTitle.text(getVideoTitle).fadeOut(0).fadeIn(1e3),$videoDescription.text(getVideoDescription).fadeOut(0).fadeIn(1e3)):siteArea===AFL.areas.site.matchCentre&&$(".match-centre#post-game").length?captionTransition(getVideoTitle,getVideoDescription):siteArea===AFL.areas.site.gameHub&&($videoTitle.text(getVideoTitle).fadeOut(0).fadeIn(1e3),$videoDescription.text(getVideoDescription).fadeOut(0).fadeIn(1e3))}function captionTransition(title,description){var videoTitle=title,videoDescription=description;skipInitialTitleFade?($(".js-video-title").text(videoTitle),$(".js-video-description").text(videoDescription)):skipInitialTitleFade||($(".js-video-title").fadeOut(function(){$(this).text(videoTitle)}).fadeIn(),$(".js-video-description").fadeOut(function(){$(this).text(videoDescription)}).fadeIn()),skipInitialTitleFade=!1}function showCarouselCloseButton(){siteArea==AFL.areas.site.home&&$("#slide-video-wrapper").find(".caption a.close").show()}function toggleCarouselPlayButton(){siteArea==AFL.areas.site.home&&$("#slides .playit").show()}function disableLivepassOoyalaLoader(){var $livepassOoyalaLoader=$(".loading-container");$livepassOoyalaLoader.each(function(){var loaderEl=$(this);loaderEl.hasClass("loading-container--ooyala-loading")&&(loaderEl.removeClass("loading-container--ooyala-loading"),setTimeout(function(){loaderEl.find(".js-loader").addClass("bdd-fmr-ooyala-loaded")},600))})}if((AFL.env.is.prototype||AFL.env.is.gvm||AFL.env.is.sandpit||AFL.env.is.model)&&ooPlayer.subscribe("*","AFLOoyala",function(eventName){console.log("RECEIVED EVENT: "+eventName)}),ooPlayer.subscribe("playerCreated","AFLOoyala",function(e){toggleCarouselPlayButton(),disableLivepassOoyalaLoader();var $aflOoyalaContainer=$(".js-ooyala-player"),playerState="live"===$aflOoyalaContainer.attr("data-player-type")?"live":null;("undefined"!=typeof OoyalaFMR||"undefined"!=typeof OoyalaAFLTV||"live"===playerState)&&"undefined"==typeof AFL.uiClubsMobile&&errorHandler.init(ooPlayer,playerState)}),ooPlayer.subscribe("contentTreeFetched","AFLOoyala",function(e){var $aflOoyalaContainer=$(".js-ooyala-player");"live"!==$aflOoyalaContainer.attr("data-player-type")&&updateTitles()}),ooPlayer.subscribe("willPlayAds","AFLOoyala",function(e){showCarouselCloseButton()}),ooPlayer.subscribe("playing","AFLOoyala",function(e){showCarouselCloseButton()}),"undefined"==typeof AFL.uiClubsMobile)ooPlayer.subscribe("error","AFLOoyalaRadio",function(e){siteArea==AFL.areas.site.radio&&AFL.ooyala.updateRadioMessageError()});else if(AFL.uiClubsMobile){var discoveryFlag=!1;ooPlayer.subscribe("authTokenChanged","AFLOoyalaRadio",function(e){discoveryFlag&&$(".js-ooyala-discovery-toggle-visibility").addClass("hide"),discoveryFlag=!0})}var errorHandler=exports.errorHandler={$errorOverlay:null,init:function(ooPlayer){if(AFL.ooyala.isPlayerV4){var applyBackgroundImage="ooyala-error-custom-overlay-image";$(".oo-player").prepend('<div class="js-ooyala-error-custom-overlay ooyala-error-custom-overlay '+applyBackgroundImage+' hide"><div class="js-ooyala-error-custom-overlay--message ooyala-error-custom-overlay--message"></div>')}else{var $defaultOoyalaErrorEls=$(".oo_error_image, .oo_error_message");$defaultOoyalaErrorEls.removeClass("hide");var playerId=exports.getPlayerIdBasedOnVersion(ooPlayer),applyBackgroundImage=AFL.env.is.club?"":"ooyala-error-custom-overlay-image";$defaultOoyalaErrorEls.addClass("hide"),$("#"+playerId+" .oo_error").before('<div class="js-ooyala-error-custom-overlay ooyala-error-custom-overlay '+applyBackgroundImage+' hide"><div class="js-ooyala-error-custom-overlay--message ooyala-error-custom-overlay--message"></div>')}},displayMessage:function(ooPlayer,error,playerState){function displayErrorOverlay(message){$(".js-ooyala-error-custom-overlay").removeClass("hide"),$errorOverlayMsg.html(message)}var message,playerId=exports.getPlayerIdBasedOnVersion(ooPlayer),$player=$("#"+playerId),$errorOverlayMsg=$("#"+playerId+" .js-ooyala-error-custom-overlay--message");$("#"+playerId+" .js-ooyala-error-custom-overlay");"invalidContent"===error||"noConnectionVideo"===error||"network"===error||"sas"===error||AFL.ui.isIos&&"stream"===error||AFL.ui.isIos&&"playback"===error?(message='The video you\'re trying to view isn\'t available. <br>Click <a class="js-click-to-refresh-player" href="#">here</a> to try again.<br><br>If this still fails please report the issue to <a href=\'https://www.telstra.com.au/contact-us\' target="_blank">Support</a>',displayErrorOverlay(message)):"stream"===error?0===$player.has('object[type="application/x-shockwave-flash"]').length&&(message='Sorry, there was an issue playing the video.<br><br><span class="message--smaller">Please make sure you have <a href="https://get.adobe.com/flashplayer/" target="_blank">Adobe Flash</a> installed, refresh the page and try again.<br><br>If this still fails please report the issue to <a href=\'https://www.telstra.com.au/contact-us\' target="_blank">Support</a></span>',displayErrorOverlay(message)):"Bad Request"===error&&(message="Sorry, there was an issue playing the video.<br><br>Please refresh the page to try again. If this fails please report the issue to <a href='https://www.telstra.com.au/contact-us' target=\"_blank\">Support</a>",displayErrorOverlay(message))},returnOoyalaErrorObj:function(ooError,videoTitle,videoDescription,videoEmbedCode,sourceUrl){var ooyalaErrorObj={errorDescription:ooError,videoTitle:videoTitle,videoDescription:videoDescription,videoEmbedCode:videoEmbedCode,url:sourceUrl};return ooyalaErrorObj}};ooPlayer.subscribe("error","AFLOoyala",function(eventName,payload){var ooError=ooPlayer.getErrorCode();ooPlayer.getTitle(),ooPlayer.getDescription(),ooPlayer.getEmbedCode();console.log("Video error: "+ooError),"undefined"==typeof AFL.uiClubsMobile&&(errorHandler.displayMessage(ooPlayer,ooError),AFL.ui.refreshVideoClickBehaviours())}),ooPlayer.subscribe("played","AFLOoyala",function(e){if(null!=playlist.ids){var totalIds=playlist.ids.length,counter=playlist.counter;totalIds>1&&totalIds-1>counter&&setTimeout(function(){ooPlayer.setEmbedCode(AFL.ooyala.getNextPlaylistId()),ooPlayer.play()},5e3)}})}function getConvivaConfig(isProduction){return isProduction?AFL.ooyala.configs.convivaConfigs.prod:AFL.ooyala.configs.convivaConfigs.test}var ooyalaScriptURL,fallbackParam,adArea,siteArea,config,AFL=global.AFL,playlist=(exports.isPlayerV4=!1,{counter:0,ids:null}),configs=AFL.ooyala.configs;exports.setVersion=function(version){if("v4"===version){ooyalaScriptURL="/static-resources/js/afl/ooyala/ooyala-bundle.min.js",fallbackParam="",exports.isPlayerV4=!0;$.Deferred();$.ajaxPrefilter("script",function(s){s.crossDomain=!0})}else ooyalaScriptURL="//player.ooyala.com/v3/",fallbackParam="platform=html5-fallback"},"matchcentre"===AFL.areas.site.matchCentre.id&&$(".match-centre#post-game").length&&$("#match-report .partial--ooyala-video-player-with-caption").remove(),config=configs.playerConfigs;var skipInitialTitleFade=!0;exports.getAdSetByAreaId=function(area){if(!config.areaAdSetMap.hasOwnProperty(area))throw new RangeError("Unknown area specified");return config.areaAdSetMap[area]},exports.getPlayerIdByPlayerType=function(playerType){if(!config.playerTypeIdMap.hasOwnProperty(playerType))throw new RangeError("Unknown playerType specified");var abbr=AFL.env.siteAbbr||"afl";return config.playerTypeIdMap[playerType][abbr]},exports.Player=function(playerInstance,player,token,overrides){function getPcode(){var pcode;return pcode=$(".js-ooyala-player-afltv").length?configs.playerConfigs.v4Params.pcode.secondary:configs.playerConfigs.v4Params.pcode.primary}function getPlayerId(){return AFL.ooyala.getPlayerIdByPlayerType(dataPlayerType)}function getSkin(playerType){return configs.playerConfigs.v4Params.skin[playerType].config}function getSkinOverrides(playerType){var url=configs.playerConfigs.v4Params.skin[playerType].overrides[AFL.env.siteAbbr],overrides=null;return $.ajax({url:url,async:!1,dataType:"json",success:function(json){overrides=json},fail:function(){console.log("Failure retrieving override skin json.")}}),overrides}function getPlayerParams(isPlayerV4){var playerParams={onCreate:function(){willInitialize.apply(this,arguments),onCreate.apply(this,arguments),setTimeout(function(){$playerInstance.add("object").css({"min-width":"0","min-height":"0",width:"100%",height:"100%",left:"0"})},1),didInitialize.apply(this,arguments)},showInAdControlBar:!0,embedToken:embedToken,"google-ima-ads-manager":{adRequestTimeout:4e3},enableChannel:!1,autoplay:autoplayFlag,adSetCode:adSetCode?adSetCode:void 0,flashParams:{hide:hideOptions},layout:"chromeless"==dataChromelessFlag||"true"==dataChromelessFlag?"chromeless":void 0,wmode:"opaque"};if(isPlayerV4){var v4PlayerParams={pcode:getPcode(),playerBrandingId:getPlayerId(),autoplay:autoplayFlag,encodingPriority:["hds","hls","mp4","dash","webm"],initialBitrate:{level:.8,duration:30},skin:{config:getSkin(dataPlayerType),inline:getSkinOverrides(dataPlayerType)},"google-ima-ads-manager":{adRequestTimeout:4e3,useGoogleCountdown:!0},conviva:getConvivaConfig(AFL.env.is.production)};$.extend(!0,playerParams,v4PlayerParams)}return playerParams}if(!(playerInstance instanceof HTMLElement))throw new TypeError("playerContainer must be specified");var config={willInitialize:$.noop,didInitialize:$.noop};$.extend(config,overrides);var exports=this,$playerInstance=$(playerInstance),autoplayFlag=$playerInstance.attr("data-autoplay"),dataContentId=$playerInstance.attr("data-content-id"),dataChromelessFlag=$playerInstance.attr("data-chromeless"),dataPlayerType=($playerInstance.attr("data-player-type")||"default").toLowerCase(),dataPlaylistId=null,hideOptions=null,adSetCode=null,embedToken=token,willInitialize=config.willInitialize,didInitialize=config.didInitialize;$playerInstance.attr("data-playlist")&&(dataPlaylistId=$playerInstance.attr("data-playlist"),playlist.ids=dataPlaylistId.split("|")),$playerInstance.attr("data-hide-options")&&(hideOptions=$playerInstance.attr("data-hide-options").replace(/ /g,"")),adSetCode="live"===dataPlayerType||"premium"===dataPlayerType?null:"undefined"!=typeof AFL.uiClubsMobile||AFL.ui.isMobile||AFL.ui.isMobileApp()?null:AFL.ooyala.getAdSetByAreaId(AFL.areas.getAdAreaId()),$playerInstance.attr("id")||$playerInstance.attr("id","ooyala-"+AFL.unique.guid());exports.ooPlayer=player.Player.create($playerInstance.attr("id"),dataContentId,getPlayerParams(AFL.ooyala.isPlayerV4));return exports};var checkPremiumPlayerAndGetToken=exports.checkPremiumPlayerAndGetToken=function(dataPlayerType,dataContentId){return"premium"===dataPlayerType&&""!==dataContentId?AFL.ooyala.getOpt(dataContentId):null},checkTokenResponse=(exports.getPlayerIdBasedOnVersion=function(ooPlayer){return exports.isPlayerV4?ooPlayer.getElementId():ooPlayer.elementId},exports.getOpt=function(embedCode){var env="www.afl.com.au",path="/api/cfs/users/",uuid=AFL.persist.getCookie("mis-uuid"),misToken=AFL.service.getToken();return"test.afl.com.au"===window.location.host&&(env="test.afl.com.au"),$.ajax({method:"GET",dataType:"json",url:"http://"+env+path+uuid+"/token?embedCode="+embedCode,headers:{"X-media-mis-token":misToken},success:function(data){return data.token},fail:function(data){console.log("Player auth error: ",+data)}})},exports.checkTokenResponse=function(response){return response?response.token:null}),getScriptPromises={};exports.loadJavaScript=function($playerInstance,namespace){var url=getScriptURL($playerInstance,namespace);return getScriptPromises[url]||(getScriptPromises[url]=$.ajax({url:url,cache:!0,dataType:"script"})),getScriptPromises[url]},exports.killPlayer=function(ooPlayer){var $el=$(document.getElementById(exports.getPlayerIdBasedOnVersion(ooPlayer)));ooPlayer.destroy(),$el.removeData("ooyala")},exports.getNextPlaylistId=function(){return playlist.counter+=1,playlist.ids[playlist.counter]},exports.resetPlaylist=function(dataContentId){var playlistIdPos=$.inArray(dataContentId,playlist.ids);-1!==playlistIdPos?playlist.counter=playlistIdPos:console.log("content ID not found in playlist")},exports.getUpdatedPlaylistIds=function(){var updatedPlaylistStr="",$aflOoyalaContainer=$(".js-ooyala-player");$(".current-category .video-link").each(function(){var currentContentId=$(this).attr("data-content-id");updatedPlaylistStr+=currentContentId+"|"}),$aflOoyalaContainer.attr("data-playlist",updatedPlaylistStr)},exports.updateRadioMessageLoading=function(){$(".js-radio-cta").removeClass("hide radio-cta--streaming").addClass("radio-cta--loading"),$(".js-radio-cta--loader").removeClass("hide")},exports.updateRadioMessageStreaming=function(){$(".js-radio-cta").removeClass("radio-cta--loading hide").addClass("radio-cta--streaming"),$(".js-radio-cta--loader").addClass("hide")},exports.updateRadioMessageError=function(){$(".js-radio-cta").addClass("hide")},exports.updateRadioMessage=function(ooPlayer){AFL.ooyala.updateRadioMessageLoading();var listenForLiveRadioPlaying=setInterval(function(){ooPlayer.isPlaying()===!0&&(exports.updateRadioMessageStreaming(),clearInterval(listenForLiveRadioPlaying))},500)},$.fn.aflOoyala=function(player,commandOrOverrides){player="undefined"!=typeof player?player:OO,$(this).each(function(){var self=this,$el=$(this),command="string"==typeof commandOrOverrides?commandOrOverrides:null,overrides="object"==typeof commandOrOverrides?commandOrOverrides:{},playerType=this.dataset.playerType,embedCode=this.dataset.contentId;command||$el.data("ooyala")||(adArea=AFL.areas.getAdArea(),siteArea=AFL.areas.getSiteArea(),$.when(checkPremiumPlayerAndGetToken(playerType,embedCode)).done(function(response){var token=checkTokenResponse(response),aflOoyalaPlayer=createPlayerObj(self,player,token,overrides);$(self).data("ooyala",aflOoyalaPlayer),"function"==typeof additionalEmbed&&additionalEmbed(aflOoyalaPlayer.ooPlayer,player.namespace)}))})};var createPlayerObj=exports.createPlayerObj=function(self,player,token,overrides){var aflOoyalaPlayer=new AFL.ooyala.Player(self,player,token,overrides);return aflOoyalaPlayer}}(AFL.ooyala,window),/**
 * hoverIntent is similar to jQuery's built-in "hover" method except that
 * instead of firing the handlerIn function immediately, hoverIntent checks
 * to see if the user's mouse has slowed down (beneath the sensitivity
 * threshold) before firing the event. The handlerOut function is only
 * called after a matching handlerIn.
 *
 * hoverIntent r7 // 2013.03.11 // jQuery 1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2013 Brian Cherne
 *
 * // basic usage ... just like .hover()
 * .hoverIntent( handlerIn, handlerOut )
 * .hoverIntent( handlerInOut )
 *
 * // basic usage ... with event delegation!
 * .hoverIntent( handlerIn, handlerOut, selector )
 * .hoverIntent( handlerInOut, selector )
 *
 * // using a basic configuration object
 * .hoverIntent( config )
 *
 * @param  handlerIn   function OR configuration object
 * @param  handlerOut  function OR selector for delegation OR undefined
 * @param  selector    selector OR undefined
 * @author Brian Cherne <brian(at)cherne(dot)net>
 **/
function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:200,sensitivity:7,timeout:0};cfg="object"==typeof handlerIn?$.extend(cfg,handlerIn):$.isFunction(handlerOut)?$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector}):$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});var cX,cY,pX,pY,track=function(ev){cX=ev.pageX,cY=ev.pageY},compare=function(ev,ob){return ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t),Math.abs(pX-cX)+Math.abs(pY-cY)<cfg.sensitivity?($(ob).off("mousemove.hoverIntent",track),ob.hoverIntent_s=1,cfg.over.apply(ob,[ev])):(pX=cX,pY=cY,ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval),void 0)},delay=function(ev,ob){return ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t),ob.hoverIntent_s=0,cfg.out.apply(ob,[ev])},handleHover=function(e){var ev=jQuery.extend({},e),ob=this;ob.hoverIntent_t&&(ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)),"mouseenter"==e.type?(pX=ev.pageX,pY=ev.pageY,$(ob).on("mousemove.hoverIntent",track),1!=ob.hoverIntent_s&&(ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval))):($(ob).off("mousemove.hoverIntent",track),1==ob.hoverIntent_s&&(ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)))};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}}(jQuery),function($){"use strict";var methods=function(){var c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},ios=function(){var ios=/iPhone|iPad|iPod/i.test(navigator.userAgent);return ios&&$(window).load(function(){$("body").children().on("click",$.noop)}),ios}(),wp7=function(){var style=document.documentElement.style;return"behavior"in style&&"fill"in style&&/iemobile/i.test(navigator.userAgent)}(),toggleMenuClasses=function($menu,o){var classes=c.menuClass;o.cssArrows&&(classes+=" "+c.menuArrowClass),$menu.toggleClass(classes)},setPathToCurrent=function($menu,o){return $menu.find("li."+o.pathClass).slice(0,o.pathLevels).addClass(o.hoverClass+" "+c.bcClass).filter(function(){return $(this).children(o.popUpSelector).hide().show().length}).removeClass(o.pathClass)},toggleAnchorClass=function($li){$li.children("a").toggleClass(c.anchorClass)},toggleTouchAction=function($menu){var touchAction=$menu.css("ms-touch-action");touchAction="pan-y"===touchAction?"auto":"pan-y",$menu.css("ms-touch-action",touchAction)},applyHandlers=function($menu,o){var targets="li:has("+o.popUpSelector+")";$.fn.hoverIntent&&!o.disableHI?$menu.hoverIntent(over,out,targets):$menu.on("mouseenter.superfish",targets,over).on("mouseleave.superfish",targets,out);var touchevent="MSPointerDown.superfish";ios||(touchevent+=" touchend.superfish"),wp7&&(touchevent+=" mousedown.superfish"),$menu.on("focusin.superfish","li",over).on("focusout.superfish","li",out).on(touchevent,"a",o,touchHandler)},touchHandler=function(e){var $this=$(this),$ul=$this.siblings(e.data.popUpSelector);$ul.length>0&&$ul.is(":hidden")&&($this.one("click.superfish",!1),"MSPointerDown"===e.type?$this.trigger("focus"):$.proxy(over,$this.parent("li"))())},over=function(){var $this=$(this),o=getOptions($this);clearTimeout(o.sfTimer),$this.siblings().superfish("hide").end().superfish("show")},out=function(){var $this=$(this),o=getOptions($this);ios?$.proxy(close,$this,o)():(clearTimeout(o.sfTimer),o.sfTimer=setTimeout($.proxy(close,$this,o),o.delay))},close=function(o){o.retainPath=$.inArray(this[0],o.$path)>-1,this.superfish("hide"),this.parents("."+o.hoverClass).length||(o.onIdle.call(getMenu(this)),o.$path.length&&$.proxy(over,o.$path)())},getMenu=function($el){return $el.closest("."+c.menuClass)},getOptions=function($el){return getMenu($el).data("sf-options")};return{hide:function(instant){if(this.length){var $this=this,o=getOptions($this);if(!o)return this;var not=o.retainPath===!0?o.$path:"",$ul=$this.find("li."+o.hoverClass).add(this).not(not).removeClass(o.hoverClass).children(o.popUpSelector),speed=o.speedOut;instant&&($ul.show(),speed=0),o.retainPath=!1,o.onBeforeHide.call($ul),$ul.stop(!0,!0).animate(o.animationOut,speed,function(){var $this=$(this);o.onHide.call($this)})}return this},show:function(){var o=getOptions(this);if(!o)return this;var $this=this.addClass(o.hoverClass),$ul=$this.children(o.popUpSelector);return o.onBeforeShow.call($ul),$ul.stop(!0,!0).animate(o.animation,o.speed,function(){o.onShow.call($ul)}),this},destroy:function(){return this.each(function(){var $hasPopUp,$this=$(this),o=$this.data("sf-options");return o?($hasPopUp=$this.find(o.popUpSelector).parent("li"),clearTimeout(o.sfTimer),toggleMenuClasses($this,o),toggleAnchorClass($hasPopUp),toggleTouchAction($this),$this.off(".superfish").off(".hoverIntent"),$hasPopUp.children(o.popUpSelector).attr("style",function(i,style){return style.replace(/display[^;]+;?/g,"")}),o.$path.removeClass(o.hoverClass+" "+c.bcClass).addClass(o.pathClass),$this.find("."+o.hoverClass).removeClass(o.hoverClass),o.onDestroy.call($this),void $this.removeData("sf-options")):!1})},init:function(op){return this.each(function(){var $this=$(this);if($this.data("sf-options"))return!1;var o=$.extend({},$.fn.superfish.defaults,op),$hasPopUp=$this.find(o.popUpSelector).parent("li");o.$path=setPathToCurrent($this,o),$this.data("sf-options",o),toggleMenuClasses($this,o),toggleAnchorClass($hasPopUp),toggleTouchAction($this),applyHandlers($this,o),$hasPopUp.not("."+c.bcClass).superfish("hide",!0),o.onInit.call(this)})}}}();$.fn.superfish=function(method,args){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?$.error("Method "+method+" does not exist on jQuery.fn.superfish"):methods.init.apply(this,arguments)},$.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:$.noop,onBeforeShow:$.noop,onShow:$.noop,onBeforeHide:$.noop,onHide:$.noop,onIdle:$.noop,onDestroy:$.noop},$.fn.extend({hideSuperfishUl:methods.hide,showSuperfishUl:methods.show})}(jQuery),function(){void 0===window.AFL.SortableTables&&(window.AFL.SortableTables={}),window.AFL.SortableTablesHeaderTemplate=_.template("<tr><%	_.each(getHeadings, function(heading) {	%>	<th column='<%= heading.identifier %>'><span class='header'><%=heading.name%></span><span class='direction asc'></span></th><%	});	%></tr>"),window.AFL.SortableTablesRowTemplate=_.template("<%	_.each(attrs, function(val, key) {	%><td><%= val %></td><%	});	%>"),AFL.SortableTables.TableRow=Backbone.Model.extend({defaults:{},toJSON:function(){return _.extend(this.attributes,{date:new Date(this.attributes.date)})},getAttribues:function(){this.attributes}}),AFL.SortableTables.Rows=Backbone.Collection.extend({model:AFL.SortableTables.TableRow,sortAttribute:"round",sortDirection:1,sortColumns:function(attr){this.sortAttribute=attr,this.sort()},comparator:function(a,b){var a=a.get(this.sortAttribute),b=b.get(this.sortAttribute);return"date-by-d-m-y"==this.sortAttribute?(a=Date.parse(a)||1,b=Date.parse(b)||1,a==b?0:1==this.sortDirection?a>b?1:-1:b>a?1:-1):a==b?0:1==this.sortDirection?a>b?1:-1:b>a?1:-1},toTitleCase:function(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}}),AFL.SortableTables.TableRow=Backbone.View.extend({tagName:"tr",template:null,initialize:function(){this.template=window.AFL.SortableTablesRowTemplate;this.model.attributes},render:function(){var content=this.template({item:this.model,attrs:this.model.attributes,view:this});return this.$el.html(content),this}}),AFL.SortableTables.SortableTable=Backbone.View.extend({tagName:"table",template:null,initialize:function(){this.listenTo(this.collection,"sort",this.render);this.collection.models[0].attributes;columnHeadings=this.options.columnDefns,this.renderHeader()},render:function(){return this.$el.find("tbody").empty(),this.addRows(),this},events:{"click th":"headerClick"},headerClick:function(e){var $el=$(e.currentTarget),sortAttr=$el.attr("column"),currentAttr=this.collection.sortAttribute;sortAttr==currentAttr?this.collection.sortDirection*=-1:this.collection.sortDirection=1,$el.closest("thead").find("span.direction").removeClass("current desc asc"),$el.closest("thead").find("span.direction").addClass("desc"),1==this.collection.sortDirection?($el.find("span.direction").removeClass("asc"),$el.find("span.direction").addClass("desc current")):($el.find("span.direction").removeClass("desc"),$el.find("span.direction").addClass("asc current")),this.collection.sortColumns(sortAttr)},renderHeader:function(){var header=this.$el.find("thead"),template=window.AFL.SortableTablesHeaderTemplate,content=template({view:this,collection:this.collection,getHeadings:columnHeadings});header.html(content)},addRows:function(){getCollection=this.collection,getCollection.forEach(this.addOne,this)},addOne:function(model){view=new AFL.SortableTables.TableRow({model:model,collection:AFL.SortableTables.Rows,template:this.options.template,tagName:"tr"}),this.$el.find("tbody").append(view.render().el)}})}.call(this.AFL),$(function(){var SortableTableExists=$(".sortable-table").length;SortableTableExists&&$(".sortable-table").each(function(){var getID=$(this).attr("id");uniqueData=JSON.parse($(this).siblings("#"+getID).html()),AFL._dataRows=new AFL.SortableTables.Rows(uniqueData.rows),AFL._sortabletable=new AFL.SortableTables.SortableTable({collection:AFL._dataRows,columnDefns:uniqueData.columnDefns,template:window.AFL.SortableTablesRowTemplate,header_template:window.AFL.SortableTablesHeaderTemplate,el:$(this)}),AFL._sortabletable.render()})}),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.cssmedia&&(AFL.ui.cssmedia={}),function(exports,$,window){"use strict";function getPseudoElementContent($el,pseudoElement){if(!$el.length)throw new Error("No elements passed in jQuery object");var content=window.getComputedStyle($el.get(0),pseudoElement).getPropertyValue("content"),regexpIsQuoted=/"(.*?)"/;return regexpIsQuoted.test(content)?content.match(regexpIsQuoted)[1]:content}function getMediaFromElement($el){var pseudoElContentForBreakpoint,currentBreakpoint=getPseudoElementContent($el,config.pseudoElementSubSelector),isBreakpointMap={};for(var key in breakpointCssContentNames)breakpointCssContentNames.hasOwnProperty(key)&&(pseudoElContentForBreakpoint=breakpointCssContentNames[key],isBreakpointMap[key]=currentBreakpoint===pseudoElContentForBreakpoint);return{viewportWidth:{breakpoint:currentBreakpoint,is:isBreakpointMap}}}function triggerEventIfMediaChanged(){breakpoint=getMediaFromElement(config.$pseudoElementParent),JSON.stringify(oldBreakpoint)!==JSON.stringify(breakpoint)&&(config.$eventGenerator.trigger("didInitOrChange",breakpoint),config.$eventGenerator.trigger("didChange",breakpoint)),oldBreakpoint=breakpoint}var breakpoint,oldBreakpoint,config={},inited=!1,breakpointCssContentNames=config.breakpoints={telstraSmall:"telstra-small",telstraLarge:"telstra-large"},getCurrentMedia=exports.getCurrentMedia=function(){if(!config.$pseudoElementParent)throw new Error("$pseudoElementParent is undefined. Have you called AFL.ui.cssmedia.init() yet?");return getMediaFromElement(config.$pseudoElementParent)};exports.off=function(){return config.$eventGenerator.off.apply(config.$eventGenerator,arguments),exports},exports.on=function(eventName,handler){return config.$eventGenerator.on.apply(config.$eventGenerator,arguments),!inited||"didInit"!==eventName&&"didInitOrChange"!==eventName||handler(new $.Event(eventName),getCurrentMedia()),exports},exports.init=function(overrides){if("undefined"==typeof overrides&&(overrides={}),config={$pseudoElementParent:$("body"),pseudoElementSubSelector:"::before",$eventGenerator:$(exports)},$.extend(config,overrides),!config.$pseudoElementParent.length)throw new Error("No $pseudoElementParent found. Did you specify one?");return config.$eventGenerator.trigger("willInit",breakpoint),breakpoint=getCurrentMedia(),oldBreakpoint=breakpoint,window.setInterval(triggerEventIfMediaChanged,Math.floor(1e3/60)),config.$eventGenerator.trigger("didInitOrChange",breakpoint),config.$eventGenerator.trigger("didInit",breakpoint),inited=!0,exports}}(AFL.ui.cssmedia,jQuery,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.siteNav&&(AFL.ui.siteNav={}),function($,exports,window){exports.init=function($siteNavScope){function updateBurgerMenuLayout(){var windowHeight=window.innerHeight,doNotFillHeight=$burgerMenuFillBelowTarget.get(0).getBoundingClientRect().bottom,updatedNavHeight=windowHeight-doNotFillHeight;$burgerMenuEl.css("height",updatedNavHeight)}function cacheHeaderHeights(){siteNavHeight=exports.getSiteNavHeight(),totalHeaderHeight=exports.getTotalHeaderHeight(),heightElsAboveNav=exports.getHeightElsAboveNav()}function slideNavNone(){$siteNav.removeClass(slideDownStyleClass).removeClass(slideUpStyleClass)}function shiftSiteNavOffscreen(){var height=siteNavHeight+logoOverflow;$siteNav.css("top","-"+height+"px")}function shiftSiteNavOnScreen(){$siteNav.css("top","0px")}function mean(array){if(0==array.length)return null;var sum=array.reduce(function(a,b){return a+b});return sum/array.length}var checkBannerStateInterval,totalHeaderHeight,siteNavHeight,heightElsAboveNav,smartbanner,showNavScrollerDebugInfo=!1,$window=$("window"),$body=$("body"),$siteNav=$(".js-site-nav"),$siteFooter=$(".js-site-footer"),$clubsBar=$(".js-clubs-bar"),$telstraHeader=$("#bphf-top").length?$("#bphf-top"):void 0,isSticky=!1,sb={androidAndIos:{height:84,el:"#smartbanner"},winPhone:{height:80,el:".js-smartbanner-winphone"},noBanner:{height:0}};exports.getPageWrapper=function(){var $pageLegacy=$(".page").length?$(".page"):void 0,$pageResponsive=$(".c-page__body").length?$(".c-page__body"):void 0;return $pageResponsive?$pageResponsive:$pageLegacy},exports.detectSmartBannerClosedAndSetHeaderHeight=function(){AFL.useragent.isAndroid&&"true"===AFL.persist.getCookie("sb-closed")||AFL.useragent.isWinphone&&"true"===AFL.persist.getCookie("smartbanner-winphone-hidden")||!AFL.useragent.isAndroid&&!AFL.useragent.isWinphone?(smartbanner.height=0,cacheHeaderHeights(),clearInterval(checkBannerStateInterval)):cacheHeaderHeights()},checkBannerStateInterval=setInterval(exports.detectSmartBannerClosedAndSetHeaderHeight,200),exports.getSmartbanner=function(){smartbanner=AFL.useragent.isAndroid?sb.androidAndIos:AFL.useragent.isWinphone?sb.winPhone:sb.noBanner},exports.getSiteNavHeight=function(){var height=$siteNav.outerHeight();return height},exports.getTotalHeaderHeight=function(){var height=exports.getHeightElsAboveNav()+exports.getSiteNavHeight();return height},exports.getHeightElsAboveNav=function(){var telstraHeaderHeight=$telstraHeader?$telstraHeader.outerHeight():null,clubsBarHeight=$clubsBar?$clubsBar.outerHeight():0,height=telstraHeaderHeight+clubsBarHeight+smartbanner.height;return height},exports.getSmartbanner(),exports.detectSmartBannerClosedAndSetHeaderHeight();var $burgerMenuOverlay,burgerMenuOffsetY,$burgerMenuToggle=$siteNavScope.find(".js-burger-menu-toggle"),$burgerMenuEl=$siteNavScope.find(".js-burger-menu-nav-items"),$burgerMenuTitle=$siteNavScope.find(".js-burger-menu-title"),$burgerMenuFillBelowTarget=$siteNavScope.find(".js-burger-menu-fill-below-target");exports.isBurgerMenuOpen=!1,exports.updateBurgerMenuElOpen=function(open){$burgerMenuToggle.toggleClass("is-active",open),$burgerMenuEl.toggleClass("is-hidden",!open),$burgerMenuOverlay.toggleClass("is-hidden",!open),$body.toggleClass("is-c-burger-menu-expanded",open)},exports.updateBurgerMenuTitleOpen=function(isMenuOpen){isMenuOpen?$burgerMenuTitle.text("Close"):$burgerMenuTitle.text("Menu")},exports.getBurgerMenuOpen=function(){return exports.isBurgerMenuOpen},exports.setBurgerMenuOpen=function(open){exports.isBurgerMenuOpen||(burgerMenuOffsetY=window.pageYOffset),updateBurgerMenuLayout(),exports.updateBurgerMenuElOpen(open),exports.updateBurgerMenuTitleOpen(open),exports.isBurgerMenuOpen?($window.scrollTop(burgerMenuOffsetY),exports.isBurgerMenuOpen=!1):(burgerMenuOffsetY>0?$body.css({top:-burgerMenuOffsetY+"px"}):($body.css({top:"initial"}),$(".c-burger-menu-nav-items").css({top:"initial"})),exports.isBurgerMenuOpen=!0)},exports.initBurgerMenu=function(){$('<div class="c-burger-menu__overlay js-burger-menu-overlay is-hidden"><div class="c-burger-menu__overlay--inner"></div></div>').insertBefore(exports.getPageWrapper()),$burgerMenuOverlay=$body.find(".js-burger-menu-overlay"),$burgerMenuToggle.on("click",function(){exports.setBurgerMenuOpen(!exports.isBurgerMenuOpen)})};var $scrollerOffsetEl,removeAnimatedCssClassTimeout,didScroll,$window=$(window),scrollState={scrollBuffer:["up","up","up","up","up"],posFromTop:$window.scrollTop(),rawLastScrollDirection:"up",filteredLastScrollDirection:"up"},lastScrollState=scrollState,scrollViewModel={pinned:!1},lastScrollViewModel=scrollViewModel,logoOverflow=5,slideDownStyleClass="slideInDown",slideUpStyleClass="slideOutUp";exports.insertNavScrollerOffsetEl=function(){$(".js-site-header").after('<div class="js-site-nav-scroller-offset"></div>'),$scrollerOffsetEl=$(".js-site-nav-scroller-offset")},exports.addPageOffset=function($scrollerOffsetEl){$scrollerOffsetEl.addClass("u-site-nav-scroller-offset")},exports.removePageOffset=function($scrollerOffsetEl){$scrollerOffsetEl.removeClass("u-site-nav-scroller-offset")},exports.slideNavUp=function(){$siteNav.removeClass(slideDownStyleClass).addClass(slideUpStyleClass)},exports.slideNavDown=function(){$siteNav.addClass(slideDownStyleClass).removeClass(slideUpStyleClass)},exports.setSticky=function(value){isSticky=value,exports.updateNavScroller()},exports.getSticky=function(){return isSticky},exports.setPinned=function(value){scrollViewModel.pinned=value,exports.updateNavScroller()},exports.getPinned=function(){return scrollViewModel.pinned},exports.setDimmed=function(value){$siteNav.find(".c-site-nav__dimming-overlay").length||$siteNav.prepend('<a class="c-site-nav__dimming-overlay"></a>'),$siteNav.toggleClass("is-dimmed",value);var $siteLogo=$siteNav.find(".js-site-nav-logo-afl");value?$siteLogo.on("click.setdimmed",function(){event.preventDefault()}):$siteLogo.off("click.setdimmed")},exports.isResponsiveFooterPartiallyVisible=function(){if(0===$siteFooter.length)return!1;var footerBuffer=1.1*$siteFooter.get(0).getBoundingClientRect().top;return $window.height()>footerBuffer},exports.updateNavScroller=function(){scrollState=exports.getScrollState(lastScrollState,$window.scrollTop(),isSticky);var metaScrollState=exports.calculateMetaScrollState(scrollState,lastScrollState,heightElsAboveNav,totalHeaderHeight);scrollViewModel=exports.applyMetaScrollStateToViewModel(metaScrollState,scrollViewModel),exports.updateNavScrollerDom(scrollViewModel,lastScrollViewModel),lastScrollState=scrollState,lastScrollViewModel=$.extend({},scrollViewModel)},exports.initNavScroller=function(){$window.scroll(function(e){didScroll=!0}),AFL.timing.requestInterval(function(){if(didScroll&&!$("body").hasClass("is-mobile-newsfeed-open")){if(exports.isResponsiveFooterPartiallyVisible())return!1;if($body.hasClass("is-c-burger-menu-expanded"))return!1;exports.updateNavScroller(),didScroll=!1}},0)},exports.updateNavScrollerDom=function(scrollViewModel,lastScrollViewModel){var isPinned=!!scrollViewModel.pinned,wasPinned=!!lastScrollViewModel.pinned;isPinned!==wasPinned&&($siteNav.toggleClass("nav-scroller--pinned",isPinned),isPinned?exports.addPageOffset($scrollerOffsetEl):exports.removePageOffset($scrollerOffsetEl));var isOffscreen="offscreen"===scrollViewModel.pinned,wasOffscreen="offscreen"===lastScrollViewModel.pinned;isOffscreen!==wasOffscreen&&(isOffscreen?shiftSiteNavOffscreen():shiftSiteNavOnScreen());var isOpeningOrClosing="opening"===scrollViewModel.pinned||"closing"===scrollViewModel.pinned,wasOpeningOrClosing="opening"===lastScrollViewModel.pinned||"closing"===lastScrollViewModel.pinned,isAnimated=isOpeningOrClosing,wasAnimated=wasOpeningOrClosing;isAnimated!==wasAnimated&&$siteNav.toggleClass("animated",isAnimated);var currentSlideNavDirection=isAnimated?scrollViewModel.pinned:null,previousSlideNavDirection=wasAnimated?lastScrollViewModel.pinned:null;if(currentSlideNavDirection!==previousSlideNavDirection&&("closing"===currentSlideNavDirection?exports.slideNavUp():"opening"===currentSlideNavDirection?exports.slideNavDown():slideNavNone()),showNavScrollerDebugInfo){var $debugDirection=$(".js-debug-update");$debugDirection.length||($debugDirection=$('<div class="js-debug-update" style="position: fixed; font-size: 12px; font-weight: bold; line-height: 14px; bottom: 0; left: 66.6666%; right: 0; background: rgba(0,192,0,0.75); color: white; z-index: 9999;"></div>'),$("body").prepend($debugDirection));var debugLines=[];debugLines.push("updateNavScroller"),debugLines.push("---------------------------"),debugLines.push("sticky: "+isSticky),debugLines.push("pinned: "+scrollViewModel.pinned),debugLines.push("-&gt; animated: "+isAnimated),debugLines.push("-&gt; offscreen: "+isOffscreen),debugLines.push("-&gt; slideNavDirection: "+currentSlideNavDirection),$debugDirection.html(debugLines.join("<br />"))}},exports.applyMetaScrollStateToViewModel=function(meta,lastScrollViewModel){var scrollViewModel=$.extend({},lastScrollViewModel);if(meta.isSticky)scrollViewModel.pinned=meta.isElsAboveNavOffscreen?"open":!1;else if("down"===meta.filteredLastScrollDirection&&(meta.headerWentOffscreen&&(scrollViewModel.pinned="offscreen"),!meta.headerWentOffscreen&&meta.isWholeHeaderOffscreen&&"offscreen"!==lastScrollViewModel.pinned&&(scrollViewModel.pinned="closing")),"up"===meta.filteredLastScrollDirection&&(meta.elsAboveNavAppeared&&(scrollViewModel.pinned=!1),!meta.elsAboveNavAppeared&&meta.isWholeHeaderOffscreen)){var openOrOpening="open"===lastScrollViewModel.pinned?"open":"opening";scrollViewModel.pinned=openOrOpening}return scrollViewModel.pinned!==lastScrollViewModel.pinned&&(window.clearTimeout(removeAnimatedCssClassTimeout),"opening"===scrollViewModel.pinned&&(removeAnimatedCssClassTimeout=window.setTimeout(function(){exports.setPinned("open")},500))),scrollViewModel},exports.calculateMetaScrollState=function(scrollState,lastScrollState,heightElsAboveNav,totalHeaderHeight){var filteredLastScrollDirection=scrollState.filteredLastScrollDirection,lastfilteredLastScrollDirection=lastScrollState.filteredLastScrollDirection,isElsAboveNavOffscreen=scrollState.posFromTop>heightElsAboveNav,wasElsAboveNavOffscreen=lastScrollState.posFromTop>heightElsAboveNav,isWholeHeaderOffscreen=scrollState.posFromTop>totalHeaderHeight,wasWholeHeaderOffscreen=lastScrollState.posFromTop>totalHeaderHeight,elsAboveNavAppeared=!isElsAboveNavOffscreen&&wasElsAboveNavOffscreen,headerAppeared=!isWholeHeaderOffscreen&&wasWholeHeaderOffscreen,elsAboveNavWentOffscreen=isElsAboveNavOffscreen&&!wasElsAboveNavOffscreen,headerWentOffscreen=isWholeHeaderOffscreen&&!wasWholeHeaderOffscreen,scrollPositionChanged=scrollState.posFromTop!==lastScrollState.posFromTop,scrollDirectionChanged=filteredLastScrollDirection!==lastfilteredLastScrollDirection,isStickyChanged=scrollState.isSticky!==lastScrollState.isSticky,meta={isSticky:isSticky,filteredLastScrollDirection:filteredLastScrollDirection,isElsAboveNavOffscreen:isElsAboveNavOffscreen,isWholeHeaderOffscreen:isWholeHeaderOffscreen,elsAboveNavAppeared:elsAboveNavAppeared,headerAppeared:headerAppeared,elsAboveNavWentOffscreen:elsAboveNavWentOffscreen,headerWentOffscreen:headerWentOffscreen,scrollPositionChanged:scrollPositionChanged,scrollDirectionChanged:scrollDirectionChanged,isStickyChanged:isStickyChanged};if(showNavScrollerDebugInfo){var $debugMeta=$(".js-debug-meta");$debugMeta.length||($debugMeta=$('<div class="js-debug-meta" style="position: fixed; font-size: 12px; font-weight: bold; line-height: 14px; bottom: 0; left: 33.3333%; width: 33.3333%; background: rgba(0,0,255,0.75); color: white; z-index: 9999;"></div>'),$("body").prepend($debugMeta));var debugLines=[];debugLines.push("calculateMetaScrollData"),debugLines.push("------------- INPUTS ---------------"),debugLines.push("heightElsAboveNav: "+heightElsAboveNav),debugLines.push("totalHeaderHeight: "+totalHeaderHeight),debugLines.push("------------ OUTPUTS -------------");for(var key in meta)meta.hasOwnProperty(key)&&debugLines.push(key+": "+meta[key]);$debugMeta.html(debugLines.join("<br />"))}return meta},exports.getScrollState=function(lastScrollState,windowScrollTop,isSticky){var rawLastScrollDirection,scrollState=$.extend({},lastScrollState);if(scrollState.posFromTop=windowScrollTop,scrollState.isSticky=isSticky,rawLastScrollDirection=scrollState.posFromTop-lastScrollState.posFromTop,scrollState.rawLastScrollDirection=rawLastScrollDirection,0!==rawLastScrollDirection&&(scrollState.scrollBuffer.shift(),scrollState.scrollBuffer.push(rawLastScrollDirection),scrollState.filteredLastScrollDirection=mean(scrollState.scrollBuffer)>0?"down":"up"),showNavScrollerDebugInfo){var $debugDirection=$(".js-debug-direction");$debugDirection.length||($debugDirection=$('<div class="js-debug-direction" style="position: fixed; font-size: 12px; font-weight: bold; line-height: 14px; bottom: 0; left: 0; width: 33.3333%; background: rgba(255,0,255,0.75); color: white; z-index: 9999;"></div>'),$("body").prepend($debugDirection));var debugLines=[];debugLines.push("getScrollState"),debugLines.push("--------------------"),debugLines.push("isSticky: "+scrollState.isSticky),debugLines.push("posFromTop: "+scrollState.posFromTop),debugLines.push("rawLastScrollDirection: "+scrollState.rawLastScrollDirection),debugLines.push("filteredLastScrollDirection: "+scrollState.filteredLastScrollDirection),debugLines.push("scrollBuffer: ["+scrollState.scrollBuffer.join(",")+"]"),$debugDirection.html(debugLines.join("<br />"))}return scrollState},$window.resize(function(){updateBurgerMenuLayout(),cacheHeaderHeights()}),$(".js-burger-menu-toggle").length&&exports.initBurgerMenu(),$(".js-site-nav-scroller").length&&(exports.insertNavScrollerOffsetEl(),exports.initNavScroller()),$("body").addClass("is-using-site-nav"),$(".js-match-centre-index").addClass("_match-centre-mobile-new-header-patch"),$siteNav.data("siteNavIsApplied",!0)}}(jQuery,AFL.ui.siteNav,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.siteFooter&&(AFL.ui.siteFooter={}),function($,exports,window){var $rotatorFooterLogo,smallMediumOrAboveMq="750px",rotatorFooterLogoCssClass="js-site-footer-sponsor-logo";exports.imageRotator={rotator:null,setup:{numberOfItems:null,currentItem:0,initialFadeIn:0,fadeTime:1e3,itemInterval:3e3,play:!0},reset:function(){$rotatorFooterLogo=$("."+rotatorFooterLogoCssClass),this.setup.currentItem=0,this.setup.play=!0,this.setup.numberOfItems=$rotatorFooterLogo.length,$rotatorFooterLogo.css("display","none")},stop:function(){clearInterval(this.rotator)},reinit:function(){this.stop(),this.reset(),this.init()},init:function(){$rotatorFooterLogo=$("."+rotatorFooterLogoCssClass),$rotatorFooterLogo.eq(this.setup.currentItem).fadeIn(this.setup.initialFadeIn);var current=this.setup.currentItem,total=this.setup.numberOfItems,interval=this.setup.itemInterval,fadeTime=this.setup.fadetime;this.rotator=setInterval(function(){$rotatorFooterLogo.eq(current).fadeOut(fadeTime),current=exports.imageRotator.getCurrentImage(current,total),$rotatorFooterLogo.eq(current).fadeIn(fadeTime)},interval)},getCurrentImage:function(item,totalItems){return item==totalItems-1?0:(item++,item)}},exports.init=function(){enquire.register("screen and (min-width: "+smallMediumOrAboveMq+")",{deferSetup:!0,setup:function(){this.footerTools=$(".c-site-footer__footer-tools"),this.socialIcons=$(".c-site-footer__social-icons"),this.legalText=$(".c-site-footer__legaltext"),this.sponsors=$(".c-site-footer__sponsors"),this.primarySponsor=$(".js-site-footer-sponsors .o-logo--sponsors-toyota"),this.talentPrograms=$(".c-accordion__item-talentprograms"),this.partners=$(".c-accordion__item-officialpartners"),this.partnersLogos=$(".js-sponsors-large-and-above")},match:function(){this.legalText.append(this.socialIcons),this.talentPrograms.after(this.partners),this.partnersLogos.after(this.sponsors),this.primarySponsor.removeClass(rotatorFooterLogoCssClass),this.primarySponsor.css("display","none"),AFL.ui.siteFooter.imageRotator.reinit()},unmatch:function(){this.footerTools.append(this.socialIcons),this.footerTools.prepend(this.sponsors),this.primarySponsor.addClass(rotatorFooterLogoCssClass),this.primarySponsor.css("display","block"),AFL.ui.siteFooter.imageRotator.reinit()}}),AFL.ui.siteFooter.imageRotator.reinit()}}(jQuery,AFL.ui.siteFooter,window),$(function(){$("html").find(".js-site-footer-sponsors").length&&AFL.ui.siteFooter.init()}),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.accordion&&(AFL.ui.accordion={}),function($,exports,window){exports.toggleAccordionChildren=function($currentAccordionTrigger,$currentAccordionEl,dontAnimate){var $currentAccordionTriggerItem=$currentAccordionTrigger.parent(),isAccordionOpen=$currentAccordionTrigger.hasClass("is-open"),slideDir=isAccordionOpen?"slideUp":"slideDown";dontAnimate?$currentAccordionTriggerItem.children(".submenu").css("display","block"):$currentAccordionTriggerItem.children(".submenu").velocity(slideDir,{duration:300}),$currentAccordionTrigger.toggleClass("is-open"),$currentAccordionTriggerItem.toggleClass("is-expanded")},exports.getTopElPosFromViewport=function($el){var pos=$el.get(0).getBoundingClientRect().top;return pos},exports.getBottomElPosFromViewport=function($el){var pos=$el.get(0).getBoundingClientRect().bottom;return pos},exports.menuScroller=function($accordionItem){if($accordionItem.parents(".c-accordion--site-nav").length){var currentAccordionParentTopOffset=exports.getTopElPosFromViewport($accordionItem),$accordionTopOffsetEl=$(".js-burger-menu-fill-below-target");if(!$accordionTopOffsetEl.length)return;var $burgerMenuNavItems=$(".js-burger-menu-nav-items"),distanceToTopOfAccordion=currentAccordionParentTopOffset-exports.getBottomElPosFromViewport($accordionTopOffsetEl);$burgerMenuNavItems.animate({scrollTop:"+="+distanceToTopOfAccordion+"px"})}else $accordionItem.parents(".c-accordion--site-footer").length&&$accordionItem.velocity("scroll")},exports.init=function($accordionScope){$accordionScope.find(".js-accordion-trigger").on("click",function(e){var $accordionTrigger=$(this),$accordion=$accordionTrigger.closest(".js-accordion"),$currentAccordionTriggerItem=$accordionTrigger.parent();exports.toggleAccordionChildren($accordionTrigger,$accordion),$accordionTrigger.hasClass("is-open")&&exports.menuScroller($currentAccordionTriggerItem,$accordion),e.preventDefault()})}}(jQuery,AFL.ui.accordion,window),$(function(){if($("html").find(".c-accordion").length){$("body");$(".js-accordion").each(function(){AFL.ui.accordion.init($(this))})}}),function(){var ResizeSensor=function(element,callback){function EventQueue(){this.q=[],this.add=function(ev){this.q.push(ev)};var i,j;this.call=function(){for(i=0,j=this.q.length;j>i;i++)this.q[i].call()}}function getComputedStyle(element,prop){return element.currentStyle?element.currentStyle[prop]:window.getComputedStyle?window.getComputedStyle(element,null).getPropertyValue(prop):element.style[prop]}function attachResizeEvent(element,resized){if(element.resizedAttached){if(element.resizedAttached)return void element.resizedAttached.add(resized)}else element.resizedAttached=new EventQueue,element.resizedAttached.add(resized);element.resizeSensor=document.createElement("div"),element.resizeSensor.className="resize-sensor";var style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",styleChild="position: absolute; left: 0; top: 0; transition: 0s;";element.resizeSensor.style.cssText=style,element.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+style+'"><div style="'+styleChild+'"></div></div><div class="resize-sensor-shrink" style="'+style+'"><div style="'+styleChild+' width: 200%; height: 200%"></div></div>',element.appendChild(element.resizeSensor),{fixed:1,absolute:1}[getComputedStyle(element,"position")]||(element.style.position="relative");var lastWidth,lastHeight,expand=element.resizeSensor.childNodes[0],expandChild=expand.childNodes[0],shrink=element.resizeSensor.childNodes[1],reset=(shrink.childNodes[0],function(){expandChild.style.width=expand.offsetWidth+10+"px",expandChild.style.height=expand.offsetHeight+10+"px",expand.scrollLeft=expand.scrollWidth,
expand.scrollTop=expand.scrollHeight,shrink.scrollLeft=shrink.scrollWidth,shrink.scrollTop=shrink.scrollHeight,lastWidth=element.offsetWidth,lastHeight=element.offsetHeight});reset();var changed=function(){element.resizedAttached&&element.resizedAttached.call()},addEvent=function(el,name,cb){el.attachEvent?el.attachEvent("on"+name,cb):el.addEventListener(name,cb)},onScroll=function(){(element.offsetWidth!=lastWidth||element.offsetHeight!=lastHeight)&&changed(),reset()};addEvent(expand,"scroll",onScroll),addEvent(shrink,"scroll",onScroll)}var elementType=Object.prototype.toString.call(element),isCollectionTyped="[object Array]"===elementType||"[object NodeList]"===elementType||"[object HTMLCollection]"===elementType||"undefined"!=typeof jQuery&&element instanceof jQuery||"undefined"!=typeof Elements&&element instanceof Elements;if(isCollectionTyped)for(var i=0,j=element.length;j>i;i++)attachResizeEvent(element[i],callback);else attachResizeEvent(element,callback);this.detach=function(){if(isCollectionTyped)for(var i=0,j=element.length;j>i;i++)ResizeSensor.detach(element[i]);else ResizeSensor.detach(element)}};ResizeSensor.detach=function(element){element.resizeSensor&&(element.removeChild(element.resizeSensor),delete element.resizeSensor,delete element.resizedAttached)},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=ResizeSensor:window.ResizeSensor=ResizeSensor}(),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.siteNavPrimaryItems&&(AFL.ui.siteNavPrimaryItems={}),function($,exports,window){function getDropdownForItem($item){return $item.find(".js-site-nav-primary-items-item-dropdown")}function getLinkForItem($item){return $item.find(".js-site-nav-primary-items-item-link")}function itemHasDropdown($item){return getDropdownForItem($item).length>0}var mouseDetectionAgent=exports.mouseDetectionAgent,MouseDetectionAgent=exports.MouseDetectionAgent=function(){return this.resetMouseFoundAndBuffer(),this.startWatching(),this};MouseDetectionAgent.prototype.timestampMsArrayLooksLikeMouseData=function(timestampMsArray,maxBufferSize,mouseFrequencyThresholdHz){var bufferFull=timestampMsArray.length===maxBufferSize,bufferDurationThresholdMs=maxBufferSize/mouseFrequencyThresholdHz*1e3;if(bufferFull){var firstTimestampMsInBuffer=timestampMsArray[0],lastTimestampMsInBuffer=timestampMsArray[timestampMsArray.length-1];if(bufferDurationThresholdMs>=lastTimestampMsInBuffer-firstTimestampMsInBuffer)return!0}return!1},MouseDetectionAgent.prototype.resetMouseFoundAndBuffer=function(){this.mouseMoveTimestampMsBuffer=[],this.mouseFound=!1},MouseDetectionAgent.prototype.tellMouseFound=function(){this.mouseFound=!0},MouseDetectionAgent.prototype.stopWatching=function(){$("body").off("mousemove.SiteNavPrimaryItemsMouseWatcher")},MouseDetectionAgent.prototype.startWatching=function(){var self=this,maxBufferSize=10;$("body").on("mousemove.SiteNavPrimaryItemsMouseWatcher",function(){self.mouseMoveTimestampMsBuffer.length>=maxBufferSize&&self.mouseMoveTimestampMsBuffer.shift(),self.mouseMoveTimestampMsBuffer.push((new Date).valueOf()),self.timestampMsArrayLooksLikeMouseData(self.mouseMoveTimestampMsBuffer,maxBufferSize,10)&&(self.tellMouseFound(),self.stopWatching())})};var SiteNavPrimaryItems=exports.SiteNavPrimaryItems=function($el,mouseDetectionAgent,$watchElementsResize){var self=this,$items=$el.find(".js-site-nav-primary-items-item"),$itemLinks=$el.find(".js-site-nav-primary-items-item-link");$watchElementsResize=$watchElementsResize||$(),self.$tapCatcherOverlay=$('<a class="c-site-nav-primary-items-overlay" style="display: none"></a>'),$("body").prepend(self.$tapCatcherOverlay),$("body").on("touchstart.SiteNavPrimaryItems",function(e){self.isDropdownOpen()&&0===$(e.target).closest($items).length&&(self.closeOpenedDropdown(),e.preventDefault())}),$("body").on("click.SiteNavPrimaryItems",function(e){self.isDropdownOpen()&&0===$(e.target).closest($el).length&&e.preventDefault()}),$items.on("mouseenter",function(){var $item=$(this);mouseDetectionAgent.mouseFound&&(itemHasDropdown($item)?self.openDropdownForItem($item):self.hoverItem($item))}),$items.on("mouseleave",function(){var $item=$(this);mouseDetectionAgent.mouseFound&&(itemHasDropdown($item)?self.closeOpenedDropdown():self.unhoverItem($item))}),$itemLinks.on("touchstart",function(e){var $itemLink=$(this),$item=$itemLink.closest(".js-site-nav-primary-items-item");if(!mouseDetectionAgent.mouseFound){if(!itemHasDropdown($item))return;if(!self.isDropdownOpen())return void self.openDropdownForItem($item);if(self.isDropdownOpen()&&!self.isDropdownOpenForItem($item))return self.closeOpenedDropdown(),void self.openDropdownForItem($item);self.isDropdownOpenForItem($item)&&self.closeOpenedDropdown()}}),$items.on("click",function(e){var $item=$(this);$(e.target).closest(".js-site-nav-primary-items-item-dropdown").length||!mouseDetectionAgent.mouseFound&&itemHasDropdown($item)&&e.preventDefault()});var $moreDropdownItemTemplate=$el.find(".js-more-dropdown-item-template");return $moreDropdownItemTemplate.remove(),this.$el=$el,this.$openedDropdownItem=$(),this.$items=$items,this.$itemLinks=$itemLinks,this.$moreItem=this.$items.has(".js-site-nav-primary-items-more-link"),this.$moreDropdownItemTemplate=$moreDropdownItemTemplate,this.$eventGenerator=$(this),this.refresh(),$(window).on("resize",self.refresh.bind(self)),new window.ResizeSensor($itemLinks.get(0),self.refresh.bind(self)),$watchElementsResize.each(function(){new window.ResizeSensor(this,self.refresh.bind(self))}),self.highlightCurrentPrimaryNavItem($el,window.location.pathname),this};SiteNavPrimaryItems.getItemLinkWidths=function($items){var widths=[];return $.each($items,function(){widths.push(getLinkForItem($(this)).outerWidth())}),widths},SiteNavPrimaryItems.visibleItemCount=function(itemLinksExceptMoreWidths,moreItemLinkWidth,primaryNavWidth){for(var widthSum=0,visibleItemCount=0,i=0;i<itemLinksExceptMoreWidths.length;i++){if(i===itemLinksExceptMoreWidths.length-1){if(widthSum+itemLinksExceptMoreWidths[i]>primaryNavWidth)break}else if(widthSum+itemLinksExceptMoreWidths[i]>primaryNavWidth-moreItemLinkWidth)break;widthSum+=itemLinksExceptMoreWidths[i],visibleItemCount++}return visibleItemCount},SiteNavPrimaryItems.prototype.on=function(){return this.$eventGenerator.on.apply(this.$eventGenerator,arguments)},SiteNavPrimaryItems.prototype.off=function(){return this.$eventGenerator.off.apply(this.$eventGenerator,arguments)},SiteNavPrimaryItems.prototype.getLastVisibleItem=function(){var $itemsExceptMore=this.$items.not(this.$moreItem),$moreItemLink=this.$moreItem.find(".js-site-nav-primary-items-more-link"),itemLinkWidths=SiteNavPrimaryItems.getItemLinkWidths($itemsExceptMore),moreItemLinkWidth=$moreItemLink.outerWidth(),primaryNavWidth=this.$el.width(),visibleItemCount=SiteNavPrimaryItems.visibleItemCount(itemLinkWidths,moreItemLinkWidth,primaryNavWidth);return 0===visibleItemCount?$():this.$items.eq(visibleItemCount-1)},SiteNavPrimaryItems.prototype.getItemsAfterExceptMore=function($item){var $itemsExceptMore=this.$items.not(this.$moreItem);if(!$item.length)return $itemsExceptMore;for(var $itemsAfterExceptMore=$(),$nextItem=$item.next();$nextItem.filter($itemsExceptMore).length>0;)$itemsAfterExceptMore=$itemsAfterExceptMore.add($nextItem),$nextItem=$nextItem.next();return $itemsAfterExceptMore},SiteNavPrimaryItems.prototype.refresh=function(){this.$items.removeClass("is-hidden");var $lastVisibleItem=this.getLastVisibleItem();this.refreshLastVisibleItem($lastVisibleItem),this.refreshMoreMenuContents($lastVisibleItem)},SiteNavPrimaryItems.prototype.refreshLastVisibleItem=function($lastVisibleItem){this.getItemsAfterExceptMore($lastVisibleItem).addClass("is-hidden");var $itemsExceptMore=this.$items.not(this.$moreItem);$lastVisibleItem.is($itemsExceptMore.last())&&this.$moreItem.addClass("is-hidden")},SiteNavPrimaryItems.prototype.refreshMoreMenuContents=function($lastVisibleItem){var $moreDropdownItemContainer=(getDropdownForItem(this.$moreItem),this.$moreItem.find(".js-more-dropdown-items-container")),$hiddenItems=this.getItemsAfterExceptMore($lastVisibleItem),self=this;$moreDropdownItemContainer.empty(),$hiddenItems.each(function(){var $item=$(this),$itemLink=getLinkForItem($item),$moreDropdownItem=self.$moreDropdownItemTemplate.clone(),$moreDropdownLink=$moreDropdownItem.find(".js-more-dropdown-link");$moreDropdownItem.css("display",""),$moreDropdownLink.text($itemLink.text()).attr("href",$itemLink.attr("href")).attr("target",$itemLink.attr("target")),$moreDropdownItemContainer.append($moreDropdownItem)})},SiteNavPrimaryItems.prototype.isDropdownOpenForItem=function($item){return this.$openedDropdownItem.get(0)===$item.get(0)},SiteNavPrimaryItems.prototype.isDropdownOpen=function(){return this.$openedDropdownItem.length},SiteNavPrimaryItems.prototype.closeOpenedDropdown=function(){this.closeDropdownForItem(this.$openedDropdownItem)},SiteNavPrimaryItems.prototype.toggleHoverForItem=function($item,isHovered){getLinkForItem($item).toggleClass("is-hovered",isHovered)},SiteNavPrimaryItems.prototype.hoverItem=function($item){this.toggleHoverForItem($item,!0)},SiteNavPrimaryItems.prototype.unhoverItem=function($item){this.toggleHoverForItem($item,!1)},SiteNavPrimaryItems.prototype.toggleDropdownForItem=function($item,isOpen){isOpen&&this.isDropdownOpenForItem($item)||!isOpen&&!this.isDropdownOpenForItem($item)||(isOpen&&this.$eventGenerator.trigger("willOpenDropdown",{$item:$item}),isOpen||this.$eventGenerator.trigger("willCloseDropdown",{$item:$item}),this.toggleHoverForItem($item,isOpen),getDropdownForItem($item).toggleClass("is-closed",!isOpen),this.$openedDropdownItem=isOpen?$item:$(),this.$tapCatcherOverlay.css("display",isOpen?"":"none"),isOpen&&this.$eventGenerator.trigger("didOpenDropdown",{$item:$item}),isOpen||this.$eventGenerator.trigger("didCloseDropdown",{$item:$item}))},SiteNavPrimaryItems.prototype.openDropdownForItem=function($item){this.toggleDropdownForItem($item,!0)},SiteNavPrimaryItems.prototype.closeDropdownForItem=function($item){this.toggleDropdownForItem($item,!1)},SiteNavPrimaryItems.prototype.highlightCurrentPrimaryNavItem=function($scope,windowLocationPath){var currentNavLinkPrimary=$('.js-site-nav-primary-items-item > a[href="'+windowLocationPath+'"]',$scope).first();if(currentNavLinkPrimary.length||(currentNavLinkPrimary=$('a[href="'+windowLocationPath+'"]',$scope).first()),currentNavLinkPrimary.length&&"/"!==windowLocationPath)currentNavLinkPrimary.closest(".js-site-nav-primary-items-item").children(".js-site-nav-primary-items-item-link").addClass("is-current");else{var basePath=windowLocationPath.split("/")[1];basePath.match(/^(AFL|AFLMobile|afl|aflmobile)$/)||$scope.find(".js-site-nav-primary-items-item-link").each(function(){var navItemHref=$(this).attr("href");"#"===navItemHref||/^(?:[a-z]+:)?\/\//i.test(navItemHref)||(navItemHref=navItemHref.split("/")[1]),navItemHref&&navItemHref.replace(/\//g,"")===basePath&&$(this).addClass("is-current")})}},exports.init=function($el,$watchElementsResize){mouseDetectionAgent||(exports.mouseDetectionAgent=new MouseDetectionAgent);var siteNavPrimaryItems=new SiteNavPrimaryItems($el,exports.mouseDetectionAgent,$watchElementsResize);return $el.data("siteNavPrimaryItems",siteNavPrimaryItems),siteNavPrimaryItems}}(jQuery,AFL.ui.siteNavPrimaryItems,window),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.siteNavTools&&(AFL.ui.siteNavTools={}),function($,exports,window,cssMedia){var SiteNavTools=exports.SiteNavTools=function($el){return this.$el=$el,this.$itemsView=$el.find(".js-site-nav-tools-view-items"),this.$searchView=$el.find(".js-site-nav-tools-view-search"),this.$searchButton=$el.find(".js-site-nav-tools-open-search"),this.$closeSearchButton=$el.find(".js-site-nav-tools-close-search"),this.$searchForm=$el.find(".js-site-nav-tools-search-form"),this.$searchInput=$el.find(".js-site-nav-tools-search-input"),this.$searchInputPlaceholder=$el.find(".js-site-nav-tools-search-input-placeholder"),this.currentView=SiteNavTools.VIEW_ITEMS,this.$eventGenerator=$(this),this.initEventHandlers(),this.initClickOutsideCatcher(),this.refresh(),this};SiteNavTools.VIEW_ITEMS=1,SiteNavTools.VIEW_SEARCH=2,SiteNavTools.shouldPlaceholderShowForInput=function($searchInput){return 0===$searchInput.val().length},SiteNavTools.prototype.on=function(){return this.$eventGenerator.on.apply(this.$eventGenerator,arguments)},SiteNavTools.prototype.off=function(){return this.$eventGenerator.off.apply(this.$eventGenerator,arguments)},SiteNavTools.prototype.initEventHandlers=function(){var self=this;this.$searchButton.on("click",function(e){self.openSearch()}),this.$closeSearchButton.on("click",function(e){self.closeSearch()}),this.$searchInput.on("input",function(e){self.refreshPlaceholder()}),this.$searchInput.on("keydown",function(e){27===e.keyCode&&self.closeSearch()}),this.$searchInput.on("drop",function(e){self.$searchInput.focus()}),this.$searchForm.on("submit",function(e){return 0===self.$searchInput.val().length?!1:void 0}),AFL.ui.cssmedia.on("didChange",function(e,media){media.viewportWidth.is.telstraSmall&&self.currentView===SiteNavTools.VIEW_SEARCH&&self.closeSearch()})},SiteNavTools.prototype.isElementOutside=function($potentiallyOutside){return 0===$potentiallyOutside.closest(this.$el).length},SiteNavTools.prototype.initClickOutsideCatcher=function(){var self=this,$bodyTapCatcherOverlay=$('<a class="c-site-nav-search-overlay" style="display: none"></a>');$("body").prepend($bodyTapCatcherOverlay),self.$tapCatcherOverlay=$bodyTapCatcherOverlay,$("body").on("touchstart.SiteNavTools",function(e){self.currentView===SiteNavTools.VIEW_SEARCH&&self.isElementOutside($(e.target))&&(self.closeSearch(),e.preventDefault())}),$("body").on("click.SiteNavTools",function(e){self.currentView===SiteNavTools.VIEW_SEARCH&&self.isElementOutside($(e.target))&&(self.closeSearch(),e.preventDefault())})},SiteNavTools.prototype.refreshOverlay=function(){this.$tapCatcherOverlay.css("display",this.currentView===SiteNavTools.VIEW_SEARCH?"":"none")},SiteNavTools.prototype.refreshView=function(){this.$itemsView.css("display",this.currentView===SiteNavTools.VIEW_ITEMS?"":"none"),this.$searchView.css("display",this.currentView===SiteNavTools.VIEW_SEARCH?"":"none")},SiteNavTools.prototype.refreshPlaceholder=function(){var show=SiteNavTools.shouldPlaceholderShowForInput(this.$searchInput);this.$searchInputPlaceholder.css("display",show?"":"none")},SiteNavTools.prototype.refresh=function(){this.refreshView(),this.refreshPlaceholder(),this.refreshOverlay()},SiteNavTools.prototype.setView=function(viewId){this.currentView=viewId,this.refreshView()},SiteNavTools.prototype.openSearch=function(){this.$eventGenerator.trigger("willOpenSearch"),this.setView(SiteNavTools.VIEW_SEARCH),this.refreshOverlay(),this.$searchInput.focus(),this.$eventGenerator.trigger("didOpenSearch"),$(".c-site-nav-tools").addClass("search-small"),$(".c-logo-afl").addClass("hide-on-small-or-above")},SiteNavTools.prototype.closeSearch=function(){this.$eventGenerator.trigger("willCloseSearch"),this.setView(SiteNavTools.VIEW_ITEMS),this.refreshOverlay(),document.activeElement===this.$searchInput.get(0)&&document.activeElement.blur(),this.$searchInput.val(""),this.$searchInput.trigger("input"),$(".c-site-nav-tools").removeClass("search-small"),$(".c-logo-afl").removeClass("hide-on-small-or-above"),this.$eventGenerator.trigger("didCloseSearch")},SiteNavTools.prototype.disableSearch=function(){this.$searchButton.css("display","none")},exports.init=function($el){var siteNavTools=new SiteNavTools($el);return $el.data("siteNavTools",siteNavTools),siteNavTools}}(jQuery,AFL.ui.siteNavTools,window,AFL.ui.cssmedia),"undefined"==typeof AFL&&(AFL={}),"undefined"==typeof AFL.ui&&(AFL.ui={}),"undefined"==typeof AFL.ui.siteNavLogin&&(AFL.ui.siteNavLogin={}),function(exports,$,identity,window){function getIdentityUserName(){var identityUsername=AFL.persist.getCookie("name");return identityUsername?identityUsername=identityUsername.replace(/"/g,""):null}var SiteNavLogin=exports.SiteNavLogin=function($el,overrides){var self=this;$el.find(".js-site-nav-login-logout").attr("href","javascript:void(0)").on("click",function(){var $logOutLink=$(this),siteNavPrimaryItems=$logOutLink.closest(".js-site-nav-primary-items").data("siteNavPrimaryItems");siteNavPrimaryItems.closeOpenedDropdown(),self.setLoggingOut(!0),identity.logout().always(function(){self.setLoggingOut(!1)})}),$el.find(".js-site-nav-login-login").attr("href","javascript:void(0)").on("click",function(){identity.login()}),$el.find(".js-site-nav-login-register").attr("href","javascript:void(0)").on("click",function(){identity.register()}),$el.find(".js-site-nav-login-manage").attr("href",identity.getManageLoginUrl()),$el.find(".js-site-nav-login-free-trial").attr("href",identity.getFreeTrialUrl()),$el.find(".js-site-nav-login-premium-content").attr("href",identity.getPremiumContentUrl()),$el.find(".js-site-nav-login-subscribe").attr("href",identity.getSubscribeUrl()),$el.find(".js-site-nav-login-link-only").css("display","none"),$el.find(".js-site-nav-login-dropdown").css("display",""),this.$el=$el,this.config={doNotWireUpAflIdentityState:!1},this.viewModel={displayName:null,loggedIn:!1,subscribed:!1,exUser:!1,loggingOut:!1},this.lastViewModel={},this.config=$.extend(this.config,overrides),this.config.doNotWireUpAflIdentityState||(self.viewModel.displayName=getIdentityUserName(),self.viewModel.loggedIn=identity.getLoggedIn(),self.viewModel.subscribed=identity.getSubscribed(),self.viewModel.exUser=identity.getExUser(),$(AFL.identity).on("loginchanged",function(e,currentLoginState,lastLoginState){self.viewModel.displayName=getIdentityUserName(),self.viewModel.loggedIn=currentLoginState.loggedIn,self.viewModel.subscribed=currentLoginState.subscribed,self.refresh()})),self.refresh()};return SiteNavLogin.prototype.updateLoggingOutOverlayVisibility=function(loggingOut){if(loggingOut){var $loadingAnimation=this.$el.find(".js-site-nav-login-loading-animation"),$clonedLoadingAnimation=$loadingAnimation.clone(!0);$loadingAnimation.before($clonedLoadingAnimation),$loadingAnimation.remove()}this.$el.find(".js-site-nav-login-logging-out-overlay").toggleClass("is-visible",loggingOut)},SiteNavLogin.prototype.updateDropdownVisibility=function(loggedIn){this.$el.find(".js-site-nav-login-dropdown-logged-out").css("display",loggedIn?"none":""),this.$el.find(".js-site-nav-login-dropdown-logged-in").css("display",loggedIn?"":"none")},SiteNavLogin.prototype.updateSubscriptionDropdownItemVisibility=function(subscribed){this.$el.find(".js-site-nav-login-free-trial").css("display",subscribed?"none":""),this.$el.find(".js-site-nav-login-premium-content").css("display",subscribed?"":"none")},SiteNavLogin.prototype.updateFreeTrialDropdownItemVisibility=function(exUser){this.$el.find(".js-site-nav-login-free-trial").html(exUser?"Subscribe to AFL Live Pass":"Free Live Pass trial"),this.$el.find(".js-site-nav-login-free-trial").attr("href",exUser?identity.getSubscribeUrl():identity.getFreeTrialUrl())},SiteNavLogin.prototype.updateDisplayName=function(displayName){this.$el.find(".js-site-nav-login-dropdown-logged-in-name").text(displayName)},SiteNavLogin.prototype.refresh=function(){this.lastViewModel.loggedIn!==this.viewModel.loggedIn&&this.updateDropdownVisibility(this.viewModel.loggedIn),this.lastViewModel.subscribed!==this.viewModel.subscribed&&this.updateSubscriptionDropdownItemVisibility(this.viewModel.subscribed),this.lastViewModel.exUser!==this.viewModel.exUser&&this.updateFreeTrialDropdownItemVisibility(this.viewModel.exUser),this.lastViewModel.displayName!==this.viewModel.displayName&&this.updateDisplayName(this.viewModel.displayName),this.lastViewModel.loggingOut!==this.viewModel.loggingOut&&this.updateLoggingOutOverlayVisibility(this.viewModel.loggingOut),self.lastViewModel=$.extend({},self.viewModel)},SiteNavLogin.prototype.getLoggedIn=function(){return this.viewModel.loggedIn},SiteNavLogin.prototype.setLoggedIn=function(val){return this.viewModel.loggedIn=val,this.refresh(),this},SiteNavLogin.prototype.getExUser=function(){return this.viewModel.exUser},SiteNavLogin.prototype.setExUser=function(val){return this.viewModel.exUser=val,this.refresh(),this},SiteNavLogin.prototype.getSubscribed=function(){return this.viewModel.subscribed},SiteNavLogin.prototype.setSubscribed=function(val){return this.viewModel.subscribed=val,this.refresh(),this},SiteNavLogin.prototype.getDisplayName=function(){return this.viewModel.displayName},SiteNavLogin.prototype.setDisplayName=function(val){return this.viewModel.displayName=val,this.refresh(),this},SiteNavLogin.prototype.getLoggingOut=function(){return this.viewModel.loggingOut},SiteNavLogin.prototype.setLoggingOut=function(val){return this.viewModel.loggingOut=val,this.refresh(),this},exports.init=function($el,overrides){var siteNavLogin=new SiteNavLogin($el,overrides);return $el.data("siteNavLogin",siteNavLogin),siteNavLogin},exports}(AFL.ui.siteNavLogin,jQuery,AFL.identity,window),function($,window){!function(e){e=e||function(){};var t=function(){var t=Array.prototype.slice.call(arguments);console.raw.push(t);var n=t.join(" ");console.messages.push(n),e(n)};"undefined"==typeof console&&(console={messages:[],raw:[],dump:function(){return console.messages.join("\n")},log:t,debug:t,info:t,warn:t,error:t,assert:t,clear:function(){console.messages.length=0,console.row.length=0},dir:t,dirxml:t,trace:t,group:t,groupCollapsed:t,groupEnd:t,time:t,timeEnd:t,timeStamp:t,profile:t,profileEnd:t,count:t,exception:t,table:t})}(null),$(document).ready(function(){function checkWidth(){var windowsize=$window.width();1001>windowsize?$("#kampyle_btn").stop().animate({right:"-52px"},1e3,"easeOutQuad",function(){$(this).hide()}):($("#kampyle_btn").show(),$("#kampyle_btn").stop().animate({right:"-5px"},1e3,"easeOutQuad",function(){}))}AFL.ui.init(),$(".js-sub-navigation").length&&$(".js-sub-navigation").superfish({animation:{opacity:"show",height:"show"},delay:100,speed:"fast"});var $window=$(window);checkWidth(),$(window).resize(checkWidth),$("#kampyle_btn").hover(function(){$("#kampyle_btn").stop().animate({right:"0px"},500,"easeOutQuad",function(){})},function(){$("#kampyle_btn").stop().animate({right:"-5px"},700,"easeOutQuad",function(){})})}),window.processPageDates=function(){$("p.pubdate").each(function(index){if($(this).data("time")){var d=moment(parseFloat(serverTimeStamp)),articleDateStr=parseFloat($(this).data("time")),articleDate=moment(articleDateStr),minTimeDiff=d.diff(articleDate,"minutes"),dayTimeDiff=d.diff(articleDate,"days"),formatString="";if(60>minTimeDiff)formatString=parseInt(minTimeDiff,10)+" minutes ago",$(this).addClass("latest");else if(1>dayTimeDiff){var str3="h:mma";formatString=articleDate.format(str3)}else{var str="h:mma MMM d, YYYY";formatString=articleDate.format(str)}$(this).html(formatString)}})}}(jQuery,window),$(document).ready(function(){AFL.VideoPlayer&&AFL.VideoPlayer.setup.afl(),$(".default-share-tools, .article-tools, .gallery-share-tools, .video-tools").socialtools({facebookId:"122182791128343",twitterType:"tweetButton",twitterHandle:"AFL",facebookType:"share"}),$(".fb-only").socialtools({facebookId:"122182791128343",facebookType:"share",share:!1}),$(".fb-module .facebook-recommendations").socialtools({facebookType:"recommendations",facebookUrl:"http://www.afl.com.au/",moduleWidth:300,share:!1}),$(".fb-module .facebook-newsfeed").socialtools({facebookType:"newsfeed",facebookId:"afl",facebookUrl:"http://www.afl.com.au/",moduleWidth:300,fbShowBorder:!1,meta:!1,share:!1}),$(".fb-module .social-head").socialtools({facebookType:"pagelikeafl",facebookId:"afl",meta:!1,share:!1}),$("#tweets").socialtools({twitterHandle:"AFL",twitterList:"afl-home-page",moduleWidth:300,twitterTheme:"",twitterlinkColor:"",twitterwidgetID:"316710199807311872"}),$(".twit-follow").socialtools({twitterType:"followButton_article",share:!1}),$("#ratings-tweets").socialtools({twitterHandle:"AFLPlayerRating",twitterList:"AFLPlayerRating",moduleWidth:300,twitterTheme:"",twitterlinkColor:"",twitterwidgetID:"329438371892039680"}),$(".twit-module .social-head").socialtools({twitterHandle:"AFL",twitterType:"followButton",share:!1}),$(".twit-module .social-head-player-ratings").socialtools({twitterHandle:"AFLPlayerRating",twitterType:"followButton",share:!1}),$(".dr-dreamteam .social-head").socialtools({twitterHandle:"DrDreamTeam",twitterType:"followButton",share:!1});(function(){function changePosition(){currentPosition==numberOfSponsors-1?currentPosition=0:currentPosition++,moveSlide()}function moveSlide(){$("#header-sponsors li:visible").fadeOut("slow"),sponsors.eq(currentPosition).fadeIn("slow")}var sponsors=$("#header-sponsors li"),numberOfSponsors=sponsors.length,currentPosition=0;if(sponsors.first().fadeIn(),numberOfSponsors>1){var slideShowInterval,speed=2e3;slideShowInterval=setInterval(changePosition,speed)}})()});